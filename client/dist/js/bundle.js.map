{"version":3,"sources":["webpack:///js/bundle.js","webpack:///webpack/bootstrap 372985bc6c965dce6478","webpack:///./client/src/bundles/bundle.js","webpack:///./client/src/boot/index.js","webpack:///external \"Redux\"","webpack:///external \"Config\"","webpack:///external \"ReactRouteRegister\"","webpack:///external \"ReducerRegister\"","webpack:///./client/src/state/gallery/GalleryReducer.js","webpack:///external \"DeepFreezeStrict\"","webpack:///./client/src/state/gallery/GalleryActionTypes.js","webpack:///./client/src/state/queuedFiles/QueuedFilesReducer.js","webpack:///./client/src/state/queuedFiles/QueuedFilesActionTypes.js","webpack:///external \"i18n\"","webpack:///./client/src/state/editor/EditorReducer.js","webpack:///./client/src/state/editor/EditorActionTypes.js","webpack:///./client/src/containers/AssetAdmin/AssetAdmin.js","webpack:///external \"React\"","webpack:///external \"ReactRedux\"","webpack:///external \"ReactRouter\"","webpack:///external \"SilverStripeComponent\"","webpack:///external \"Backend\"","webpack:///./client/src/state/gallery/GalleryActions.js","webpack:///./client/src/state/editor/EditorActions.js","webpack:///external \"BreadcrumbsActions\"","webpack:///./client/src/containers/Editor/Editor.js","webpack:///external \"FormBuilder\"","webpack:///./client/src/constants/index.js","webpack:///external \"FormBuilderModal\"","webpack:///./client/src/containers/Gallery/Gallery.js","webpack:///external \"jQuery\"","webpack:///external \"ReactDom\"","webpack:///external \"ReactAddonsCssTransitionGroup\"","webpack:///external \"ReactAddonsTestUtils\"","webpack:///./client/src/components/AssetDropzone/AssetDropzone.js","webpack:///./~/dropzone/dist/dropzone.js","webpack:///(webpack)/buildin/module.js","webpack:///./client/src/components/GalleryItem/GalleryItem.js","webpack:///./client/src/components/BulkActions/BulkActions.js","webpack:///./client/src/state/queuedFiles/QueuedFilesActions.js","webpack:///external \"Breadcrumb\"","webpack:///external \"Toolbar\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_redux","_Config","_Config2","_ReactRouteRegister","_ReactRouteRegister2","_ReducerRegister","_ReducerRegister2","_GalleryReducer","_GalleryReducer2","_QueuedFilesReducer","_QueuedFilesReducer2","_EditorReducer","_EditorReducer2","_AssetAdmin","_AssetAdmin2","document","addEventListener","sectionConfig","getSection","add","path","url","component","indexRoute","onEnter","nextState","replace","redirectUrl","join","childRoutes","combineReducers","gallery","editor","queuedFiles","Redux","Config","ReactRouteRegister","ReducerRegister","galleryReducer","state","arguments","length","undefined","initialState","action","type","_GalleryActionTypes2","ADD_FILES","_ret","nextFilesState","payload","files","forEach","payloadFile","fileInState","stateFile","push","v","_deepFreezeStrict2","_extends","count","concat","_typeof","REMOVE_FILES","ids","filter","file","indexOf","LOAD_FILE_SUCCESS","oldFile","find","_ret2","updatedFile","map","folder","SELECT_FILES","selectedFiles","DESELECT_FILES","DELETE_ITEM_SUCCESS","SORT_FILES","folders","sort","comparator","LOAD_FOLDER_REQUEST","folderId","loading","LOAD_FOLDER_SUCCESS","ADD_FOLDER_REQUEST","ADD_FOLDER_FAILURE","ADD_FOLDER_SUCCESS","Object","defineProperty","value","Symbol","iterator","constructor","assign","target","i","source","key","prototype","hasOwnProperty","_deepFreezeStrict","_GalleryActionTypes","editorFields","fileId","focus","page","DeepFreezeStrict","_defineProperty","enumerable","configurable","writable","reduce","item","fileFactory","attributes","dimensions","height","width","name","canDelete","canEdit","category","created","extension","filename","lastUpdated","messages","owner","title","parent","queuedAtTime","size","xhr","queuedFilesReducer","_QueuedFilesActionTypes2","ADD_QUEUED_FILE","items","FAIL_UPLOAD","_i18n2","_t","extraClass","PURGE_UPLOAD_QUEUE","Array","isArray","message","REMOVE_QUEUED_FILE","SUCCEED_UPLOAD","UPDATE_QUEUED_FILE","updates","_QueuedFilesActionTypes","_i18n","i18n","editorReducer","_EditorActionTypes2","UPDATE_ADDTOCAMPAIGN_MODAL","openAddCampaignModal","show","_EditorActionTypes","_interopRequireWildcard","newObj","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","mapStateToProps","ownProps","sectionConfigKey","config","sections","assetAdmin","breadcrumbs","parseInt","params","limit","mapDispatchToProps","dispatch","actions","bindActionCreators","galleryActions","editorActions","breadcrumbsActions","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_reactRouter","_SilverStripeComponent","_SilverStripeComponent2","_Backend","_Backend2","_GalleryActions","_EditorActions","_BreadcrumbsActions","_Editor","_Editor2","_Gallery","_Gallery2","_Breadcrumb","_Breadcrumb2","_Toolbar","_Toolbar2","AssetAdmin","_SilverStripeComponen","this","_this","getPrototypeOf","handleOpenFile","bind","handleCloseFile","handleSubmitEditor","handleOpenFolder","createEndpoint","handleBackButtonClick","handleFolderIcon","compare","endpoints","createFolderApi","createFolderEndpoint","readFolderApi","readFolderEndpoint","updateFolderApi","updateFolderEndpoint","deleteApi","deleteEndpoint","endpointConfig","includeToken","createEndpointFetcher","defaultData","SecurityID","get","componentWillReceiveProps","viewChanged","setBreadcrumbs","event","preventDefault","parentID","base","text","href","parents","icon","className","left","right","router","fieldValues","submitFn","_this2","then","response","loadFile","record","_delete","_this3","next","confirm","deleteItems","render","_this4","createFileApiUrl","createFileEndpoint","createFileApiMethod","method","createElement","onClose","editFileSchemaUrl","form","FileEditForm","schemaUrl","onSubmit","onDelete","addToCampaignSchemaUrl","AddToCampaignForm","showBackButton","multiline","crumbs","bulkActions","onOpenFile","onOpenFolder","propTypes","PropTypes","shape","forms","editForm","string","object","number","array","canView","bool","withRouter","connect","React","ReactRedux","ReactRouter","SilverStripeComponent","Backend","addFiles","DELETE_ITEM_REQUEST","json","SET_FILE","error","DELETE_ITEM_FAILURE","loadFolderContents","listApi","data","folderID","selectFiles","deselectFiles","sortFiles","createFolder","parentId","CREATE_FOLDER_REQUEST","ParentID","isNaN","Name","CREATE_FOLDER_SUCCESS","err","CREATE_FOLDER_FAILURE","updateAddToCampaignModal","BreadcrumbsActions","_FormBuilder","_FormBuilder2","_index","_index2","_FormBuilderModal","_FormBuilderModal2","Editor","_Component","handleCancelKeyDown","handleClose","handleSubmit","handleAction","handleSubmitModal","closeModal","openModal","getCancelButton","tabIndex","onClick","onKeyDown","aria-label","ID","keyCode","SPACE_KEY_CODE","RETURN_KEY_CODE","Campaign","alert","setState","formSchemaUrl","modalSchemaUrl","handleHide","bodyClassName","responseClassBad","responseClassGood","Component","isRequired","func","FormBuilder","CSS_TRANSITION_TIME","THUMBNAIL_HEIGHT","THUMBNAIL_WIDTH","BULK_ACTIONS","label","destructive","callback","_confirm","apply","toString","promise","msg","sprintf","Promise","resolve","reject","canApply","BULK_ACTIONS_PLACEHOLDER","FormBuilderModal","getComparator","field","direction","a","b","fieldA","toLowerCase","fieldB","_state$assetAdmin$gal","queuedFilesActions","Gallery","_jQuery","_jQuery2","_reactDom","_reactDom2","_reactAddonsCssTransitionGroup","_reactAddonsCssTransitionGroup2","_reactAddonsTestUtils","_reactAddonsTestUtils2","_AssetDropzone","_AssetDropzone2","_GalleryItem","_GalleryItem2","_BulkActions","_BulkActions2","_QueuedFilesActions","sorters","handleFolderActivate","handleFileActivate","handleToggleSelect","handleAddedFile","handleCancelUpload","handleRemoveErroredUpload","handleUploadProgress","handleSending","handleItemDelete","handleBackClick","handleMoreClick","handleSort","handleSuccessfulUpload","handleFailedUpload","handleCreateFolder","componentDidMount","refreshFolderIfNeeded","componentWillUpdate","$select","findDOMNode","off","componentDidUpdate","prevProps","chosen","allow_single_deselect","disable_search_threshold","on","Simulate","click","checkLoadingIndicator","getNoItemsNotice","getBackButton","classes","ref","getBulkActionsComponent","deleteAction","editAction","selectedFileObjs","getMoreButton","$sectionWrapper","hasClass","addClass","removeClass","dataset","purgeUploadQueue","fileData","abort","removeQueuedFile","addQueuedFile","updateQueuedFile","_queuedAtTime","progress","folderName","promptFolderName","JSON","parse","failUpload","prompt","itemIsSelected","itemIsHighlighted","stopPropagation","dropzoneOptions","paramName","clickable","securityID","transitionName","transitionEnterTimeout","transitionLeaveTimeout","style","sorter","data-field","data-direction","disabled","canUpload","handleError","handleSuccess","options","uploadButton","selected","highlighted","handleDelete","handleActivate","uploading","defaultProps","arrayOf","jQuery","ReactDom","ReactAddonsCssTransitionGroup","ReactAddonsTestUtils","_get","property","receiver","Function","desc","getOwnPropertyDescriptor","getter","_dropzone","_dropzone2","AssetDropzone","dropzone","dragging","handleDragEnter","handleDragLeave","handleDrop","defaultOptions","getDefaultOptions","promptOnRemove","setPromptOnRemove","componentWillUnmount","disable","buttonProps","children","autoProcessQueue","addedfile","dragenter","dragleave","drop","uploadprogress","dictDefaultMessage","dictFallbackMessage","dictFallbackText","dictInvalidFileType","dictResponseError","dictCancelUpload","dictCancelUploadConfirmation","dictRemoveFile","dictMaxFilesExceeded","sending","success","thumbnailHeight","thumbnailWidth","getFileCategory","fileType","split","forceUpdate","componentNode","bytesSent","formData","append","Error","Date","now","loadPreview","reader","FileReader","onload","img","loadImage","result","readAsDataURL","preview","details","thumbnailURL","processFile","newSource","canvas","ctx","getContext","naturalWidth","naturalHeight","drawImage","toDataURL","src","errorMessage","userPrompt","dictRemoveFileConfirmation","Dropzone","Emitter","camelize","contentLoaded","detectVerticalSquash","drawImageIOSFix","noop","without","__slice","slice","__hasProp","__extends","child","ctor","__super__","fn","_callbacks","emit","args","callbacks","_i","_len","removeListener","removeAllListeners","removeEventListener","splice","_super","element","elementOptions","fallback","_ref","version","previewTemplate","clickableElements","listeners","querySelector","nodeType","instances","optionsForElement","extend","forceFallback","isBrowserSupported","getAttribute","acceptedFiles","acceptedMimeTypes","toUpperCase","getExistingFallback","parentNode","removeChild","previewsContainer","getElement","getElements","init","resolveOption","events","withCredentials","parallelUploads","uploadMultiple","maxFilesize","createImageThumbnails","maxThumbnailFilesize","filesizeBase","maxFiles","ignoreHiddenFiles","autoQueue","addRemoveLinks","hiddenInputContainer","capture","renameFilename","dictFileTooBig","accept","done","messageElement","span","getElementsByTagName","test","appendChild","textContent","innerText","getFallbackForm","resize","info","srcRatio","trgRatio","srcX","srcY","srcWidth","srcHeight","optWidth","optHeight","trgHeight","trgWidth","e","classList","remove","dragstart","dragend","dragover","paste","reset","node","removeFileEvent","removeLink","_j","_k","_len1","_len2","_ref1","_ref2","_results","previewElement","trim","querySelectorAll","_renameFilename","innerHTML","filesize","_removeLink","status","UPLOADING","removeFile","removedfile","_updateMaxFilesReachedClass","thumbnail","dataUrl","thumbnailElement","alt","setTimeout","errormultiple","processing","processingmultiple","nodeName","totaluploadprogress","sendingmultiple","successmultiple","canceled","canceledmultiple","complete","completemultiple","maxfilesexceeded","maxfilesreached","queuecomplete","addedfiles","objects","val","getAcceptedFiles","accepted","getRejectedFiles","getFilesWithStatus","getQueuedFiles","QUEUED","getUploadingFiles","getAddedFiles","ADDED","getActiveFiles","eventName","noPropagation","setupHiddenFileInput","tagName","setAttribute","contains","hiddenFileInput","visibility","position","top","addFile","URL","window","webkitURL","updateTotalUploadProgress","returnValue","efct","dataTransfer","effectAllowed","_error","dropEffect","clickableElement","evt","elementInside","enable","destroy","removeAllFiles","activeFiles","totalBytes","totalBytesSent","totalUploadProgress","upload","total","_getParamName","n","existingFallback","fields","fieldsString","getFallback","elements","el","setupEventListeners","elementListeners","listener","_results1","removeEventListeners","cancelUpload","cutoff","selectedSize","selectedUnit","unit","units","Math","pow","round","webkitGetAsEntry","_addFilesFromItems","handleFiles","clipboardData","entry","isFile","getAsFile","isDirectory","_addFilesFromDirectory","kind","directory","dirReader","errorHandler","readEntries","createReader","console","log","entries","substring","fullPath","isValidFile","_enqueueThumbnail","_errorProcessing","enqueueFile","enqueueFiles","processQueue","_thumbnailQueue","_processingThumbnail","match","_processThumbnailQueue","createThumbnail","shift","cancelIfNecessary","fileReader","createThumbnailFromUrl","imageUrl","crossOrigin","resizeInfo","_ref3","trgX","trgY","onerror","processingLength","processFiles","uploadFiles","_getFilesWithXhr","groupedFile","groupedFiles","CANCELED","option","uploadFile","headerName","headerValue","headers","input","inputName","inputType","progressObj","updateProgress","_l","_len3","_m","_ref4","_ref5","XMLHttpRequest","open","allFilesFinished","readyState","responseText","getResponseHeader","_finished","onprogress","Accept","Cache-Control","X-Requested-With","setRequestHeader","FormData","hasAttribute","checked","submitRequest","send","SUCCESS","ERROR","forElement","autoDiscover","discover","checkElements","dropzones","blacklistedBrowsers","capableBrowser","regex","File","FileList","Blob","navigator","userAgent","list","rejectedItem","str","charAt","div","childNodes","container","els","question","rejected","baseMimeType","mimeType","validType","each","ACCEPTED","PROCESSING","alpha","ey","ih","iw","py","ratio","sy","getImageData","sx","sw","sh","dx","dy","dw","dh","vertSquashRatio","win","doc","poll","pre","rem","root","documentElement","doScroll","createEventObject","frameElement","_autoDiscoverFunction","webpackPolyfill","deprecate","paths","GalleryItem","handleKeyDown","preventFocus","getThumbnailStyles","isImage","exists","backgroundImage","hasError","getErrorMessage","getThumbnailClassNames","thumbnailClassNames","isImageSmallerThanThumbnail","getItemClassNames","itemClassNames","getProgressBar","progressBar","progressBarProps","actionInputCheckbox","overlay","onMouseDown","data-dz-remove","data-id","BulkActions","onChangeValue","change","getOptionByValue","trigger","succeedUpload","Breadcrumb","Toolbar"],"mappings":"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","file":"js/bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(40);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _redux = __webpack_require__(2);\n\t\n\tvar _Config = __webpack_require__(3);\n\t\n\tvar _Config2 = _interopRequireDefault(_Config);\n\t\n\tvar _ReactRouteRegister = __webpack_require__(4);\n\t\n\tvar _ReactRouteRegister2 = _interopRequireDefault(_ReactRouteRegister);\n\t\n\tvar _ReducerRegister = __webpack_require__(5);\n\t\n\tvar _ReducerRegister2 = _interopRequireDefault(_ReducerRegister);\n\t\n\tvar _GalleryReducer = __webpack_require__(6);\n\t\n\tvar _GalleryReducer2 = _interopRequireDefault(_GalleryReducer);\n\t\n\tvar _QueuedFilesReducer = __webpack_require__(9);\n\t\n\tvar _QueuedFilesReducer2 = _interopRequireDefault(_QueuedFilesReducer);\n\t\n\tvar _EditorReducer = __webpack_require__(12);\n\t\n\tvar _EditorReducer2 = _interopRequireDefault(_EditorReducer);\n\t\n\tvar _AssetAdmin = __webpack_require__(14);\n\t\n\tvar _AssetAdmin2 = _interopRequireDefault(_AssetAdmin);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tdocument.addEventListener('DOMContentLoaded', function () {\n\t  var sectionConfig = _Config2.default.getSection('SilverStripe\\\\AssetAdmin\\\\Controller\\\\AssetAdmin');\n\t  _ReactRouteRegister2.default.add({\n\t    path: sectionConfig.url,\n\t    component: _AssetAdmin2.default,\n\t    indexRoute: {\n\t      onEnter: function onEnter(nextState, replace) {\n\t        var redirectUrl = [sectionConfig.url, 'show', 0].join('/');\n\t        replace(redirectUrl);\n\t      }\n\t    },\n\t    childRoutes: [{\n\t      path: 'show/:folderId/edit/:fileId',\n\t      component: _AssetAdmin2.default\n\t    }, {\n\t      path: 'show/:folderId',\n\t      component: _AssetAdmin2.default\n\t    }]\n\t  });\n\t\n\t  _ReducerRegister2.default.add('assetAdmin', (0, _redux.combineReducers)({\n\t    gallery: _GalleryReducer2.default,\n\t    editor: _EditorReducer2.default,\n\t    queuedFiles: _QueuedFilesReducer2.default\n\t  }));\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Redux;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Config;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactRouteRegister;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReducerRegister;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = galleryReducer;\n\t\n\tvar _deepFreezeStrict = __webpack_require__(7);\n\t\n\tvar _deepFreezeStrict2 = _interopRequireDefault(_deepFreezeStrict);\n\t\n\tvar _GalleryActionTypes = __webpack_require__(8);\n\t\n\tvar _GalleryActionTypes2 = _interopRequireDefault(_GalleryActionTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar initialState = {\n\t  count: 0,\n\t  editorFields: [],\n\t  file: null,\n\t  files: [],\n\t  fileId: 0,\n\t  folderId: 0,\n\t  focus: false,\n\t  path: null,\n\t  selectedFiles: [],\n\t  page: 0\n\t};\n\t\n\tfunction galleryReducer() {\n\t  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n\t  var action = arguments[1];\n\t\n\t  var nextState = null;\n\t\n\t  switch (action.type) {\n\t\n\t    case _GalleryActionTypes2.default.ADD_FILES:\n\t      {\n\t        var _ret = function () {\n\t          var nextFilesState = [];\n\t\n\t          action.payload.files.forEach(function (payloadFile) {\n\t            var fileInState = false;\n\t\n\t            state.files.forEach(function (stateFile) {\n\t              if (stateFile.id === payloadFile.id) {\n\t                fileInState = true;\n\t              }\n\t            });\n\t\n\t            if (!fileInState) {\n\t              nextFilesState.push(payloadFile);\n\t            }\n\t          });\n\t\n\t          return {\n\t            v: (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t              count: typeof action.payload.count !== 'undefined' ? action.payload.count : state.count,\n\t              files: nextFilesState.concat(state.files)\n\t            }))\n\t          };\n\t        }();\n\t\n\t        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.REMOVE_FILES:\n\t      {\n\t        if (typeof action.payload.ids === 'undefined') {\n\t          nextState = (0, _deepFreezeStrict2.default)(_extends({}, state, { count: 0, files: [] }));\n\t        } else {\n\t          nextState = (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t            count: state.files.filter(function (file) {\n\t              return action.payload.ids.indexOf(file.id) === -1;\n\t            }).length,\n\t            files: state.files.filter(function (file) {\n\t              return action.payload.ids.indexOf(file.id) === -1;\n\t            })\n\t          }));\n\t        }\n\t\n\t        return nextState;\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.LOAD_FILE_SUCCESS:\n\t      {\n\t        var oldFile = state.files.find(function (file) {\n\t          return file.id === action.payload.id;\n\t        });\n\t        if (oldFile) {\n\t          var _ret2 = function () {\n\t            var updatedFile = _extends({}, oldFile, action.payload.file);\n\t\n\t            return {\n\t              v: (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t                files: state.files.map(function (file) {\n\t                  return file.id === updatedFile.id ? updatedFile : file;\n\t                })\n\t              }))\n\t            };\n\t          }();\n\t\n\t          if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n\t        } else if (state.folder.id === action.payload.id) {\n\t          return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t            folder: _extends({}, state.folder, action.payload.file)\n\t          }));\n\t        }\n\t        return state;\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.SELECT_FILES:\n\t      {\n\t        var selectedFiles = null;\n\t\n\t        if (action.payload.ids === null) {\n\t          selectedFiles = state.files.map(function (file) {\n\t            return file.id;\n\t          });\n\t        } else {\n\t          selectedFiles = state.selectedFiles.concat(action.payload.ids.filter(function (id) {\n\t            return state.selectedFiles.indexOf(id) === -1;\n\t          }));\n\t        }\n\t\n\t        return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t          selectedFiles: selectedFiles\n\t        }));\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.DESELECT_FILES:\n\t      {\n\t        var _selectedFiles = null;\n\t        if (action.payload.ids === null) {\n\t          _selectedFiles = [];\n\t        } else {\n\t          _selectedFiles = state.selectedFiles.filter(function (id) {\n\t            return action.payload.ids.indexOf(id) === -1;\n\t          });\n\t        }\n\t\n\t        return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t          selectedFiles: _selectedFiles\n\t        }));\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.DELETE_ITEM_SUCCESS:\n\t      {\n\t        return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t          selectedFiles: state.selectedFiles.filter(function (id) {\n\t            return action.payload.ids.indexOf(id) === -1;\n\t          }),\n\t          files: state.files.filter(function (file) {\n\t            return action.payload.ids.indexOf(file.id) === -1;\n\t          }),\n\t          count: state.files.filter(function (file) {\n\t            return action.payload.ids.indexOf(file.id) === -1;\n\t          }).length\n\t        }));\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.SORT_FILES:\n\t      {\n\t        var folders = state.files.filter(function (file) {\n\t          return file.type === 'folder';\n\t        });\n\t        var files = state.files.filter(function (file) {\n\t          return file.type !== 'folder';\n\t        });\n\t\n\t        return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t          files: folders.sort(action.payload.comparator).concat(files.sort(action.payload.comparator))\n\t        }));\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.LOAD_FOLDER_REQUEST:\n\t      {\n\t        return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t          folderId: action.payload.folderId,\n\t          selectedFiles: [],\n\t          files: [],\n\t          count: 0,\n\t          loading: true\n\t        }));\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.LOAD_FOLDER_SUCCESS:\n\t      {\n\t        return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t          folder: action.payload.folder,\n\t          files: action.payload.files,\n\t          count: action.payload.files.length,\n\t          loading: false\n\t        }));\n\t      }\n\t\n\t    case _GalleryActionTypes2.default.ADD_FOLDER_REQUEST:\n\t      return state;\n\t\n\t    case _GalleryActionTypes2.default.ADD_FOLDER_FAILURE:\n\t      return state;\n\t\n\t    case _GalleryActionTypes2.default.ADD_FOLDER_SUCCESS:\n\t      return state;\n\t\n\t    default:\n\t      return state;\n\t  }\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = DeepFreezeStrict;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\texports.default = ['ADD_FILES', 'DESELECT_FILES', 'REMOVE_FILES', 'SELECT_FILES', 'SORT_FILES', 'LOAD_FILE_REQUEST', 'LOAD_FILE_SUCCESS', 'CREATE_FOLDER_REQUEST', 'CREATE_FOLDER_SUCCESS', 'CREATE_FOLDER_FAILURE', 'DELETE_ITEM_REQUEST', 'DELETE_ITEM_SUCCESS', 'DELETE_ITEM_FAILURE', 'LOAD_FOLDER_REQUEST', 'LOAD_FOLDER_SUCCESS', 'HIGHLIGHT_FILES', 'UPDATE_BATCH_ACTIONS'].reduce(function (obj, item) {\n\t  return _extends(obj, _defineProperty({}, item, 'GALLERY.' + item));\n\t}, {});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _deepFreezeStrict = __webpack_require__(7);\n\t\n\tvar _deepFreezeStrict2 = _interopRequireDefault(_deepFreezeStrict);\n\t\n\tvar _QueuedFilesActionTypes = __webpack_require__(10);\n\t\n\tvar _QueuedFilesActionTypes2 = _interopRequireDefault(_QueuedFilesActionTypes);\n\t\n\tvar _i18n = __webpack_require__(11);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction fileFactory() {\n\t  return (0, _deepFreezeStrict2.default)({\n\t    attributes: {\n\t      dimensions: {\n\t        height: null,\n\t        width: null\n\t      }\n\t    },\n\t    name: null,\n\t    canDelete: false,\n\t    canEdit: false,\n\t    category: null,\n\t    created: null,\n\t    extension: null,\n\t    filename: null,\n\t    id: 0,\n\t    lastUpdated: null,\n\t    messages: null,\n\t    owner: {\n\t      id: 0,\n\t      title: null\n\t    },\n\t    parent: {\n\t      filename: null,\n\t      id: 0,\n\t      title: null\n\t    },\n\t    queuedAtTime: null,\n\t    size: null,\n\t    title: null,\n\t    type: null,\n\t    url: null,\n\t    xhr: null\n\t  });\n\t}\n\t\n\tvar initialState = {\n\t  items: []\n\t};\n\t\n\tfunction queuedFilesReducer() {\n\t  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t\n\t    case _QueuedFilesActionTypes2.default.ADD_QUEUED_FILE:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        items: state.items.concat([_extends({}, fileFactory(), action.payload.file)])\n\t      }));\n\t\n\t    case _QueuedFilesActionTypes2.default.FAIL_UPLOAD:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        items: state.items.map(function (file) {\n\t          if (file.queuedAtTime === action.payload.queuedAtTime) {\n\t            return _extends({}, file, {\n\t              messages: [{\n\t                value: _i18n2.default._t('AssetAdmin.DROPZONE_FAILED_UPLOAD'),\n\t                type: 'error',\n\t                extraClass: 'error'\n\t              }]\n\t            });\n\t          }\n\t\n\t          return file;\n\t        })\n\t      }));\n\t\n\t    case _QueuedFilesActionTypes2.default.PURGE_UPLOAD_QUEUE:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        items: state.items.filter(function (file) {\n\t          if (Array.isArray(file.messages)) {\n\t            return !file.messages.filter(function (message) {\n\t              return message.type === 'error' || message.type === 'success';\n\t            }).length > 0;\n\t          }\n\t\n\t          return true;\n\t        })\n\t      }));\n\t\n\t    case _QueuedFilesActionTypes2.default.REMOVE_QUEUED_FILE:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        items: state.items.filter(function (file) {\n\t          return file.queuedAtTime !== action.payload.queuedAtTime;\n\t        })\n\t      }));\n\t\n\t    case _QueuedFilesActionTypes2.default.SUCCEED_UPLOAD:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        items: state.items.map(function (file) {\n\t          if (file.queuedAtTime === action.payload.queuedAtTime) {\n\t            return _extends({}, file, {\n\t              messages: [{\n\t                value: _i18n2.default._t('AssetAdmin.DROPZONE_SUCCESS_UPLOAD'),\n\t                type: 'success',\n\t                extraClass: 'success'\n\t              }]\n\t            });\n\t          }\n\t\n\t          return file;\n\t        })\n\t      }));\n\t\n\t    case _QueuedFilesActionTypes2.default.UPDATE_QUEUED_FILE:\n\t      return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t        items: state.items.map(function (file) {\n\t          if (file.queuedAtTime === action.payload.queuedAtTime) {\n\t            return _extends({}, file, action.payload.updates);\n\t          }\n\t\n\t          return file;\n\t        })\n\t      }));\n\t\n\t    default:\n\t      return state;\n\t  }\n\t}\n\t\n\texports.default = queuedFilesReducer;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  ADD_QUEUED_FILE: 'ADD_QUEUED_FILE',\n\t  FAIL_UPLOAD: 'FAIL_UPLOAD',\n\t  PURGE_UPLOAD_QUEUE: 'PURGE_UPLOAD_QUEUE',\n\t  REMOVE_QUEUED_FILE: 'REMOVE_QUEUED_FILE',\n\t  SUCCEED_UPLOAD: 'SUCCEED_UPLOAD',\n\t  UPDATE_QUEUED_FILE: 'UPDATE_QUEUED_FILE'\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = i18n;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = editorReducer;\n\t\n\tvar _deepFreezeStrict = __webpack_require__(7);\n\t\n\tvar _deepFreezeStrict2 = _interopRequireDefault(_deepFreezeStrict);\n\t\n\tvar _EditorActionTypes = __webpack_require__(13);\n\t\n\tvar _EditorActionTypes2 = _interopRequireDefault(_EditorActionTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar initialState = {\n\t  openAddCampaignModal: false\n\t};\n\t\n\tfunction editorReducer() {\n\t  var state = arguments.length <= 0 || arguments[0] === undefined ? initialState : arguments[0];\n\t  var action = arguments[1];\n\t\n\t  switch (action.type) {\n\t\n\t    case _EditorActionTypes2.default.UPDATE_ADDTOCAMPAIGN_MODAL:\n\t      {\n\t        return (0, _deepFreezeStrict2.default)(_extends({}, state, {\n\t          openAddCampaignModal: action.payload.show\n\t        }));\n\t      }\n\t\n\t    default:\n\t      return state;\n\t  }\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\texports.default = ['UPDATE_ADDTOCAMPAIGN_MODAL'].reduce(function (obj, item) {\n\t  return _extends(obj, _defineProperty({}, item, 'EDITOR.' + item));\n\t}, {});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(15);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(16);\n\t\n\tvar _redux = __webpack_require__(2);\n\t\n\tvar _reactRouter = __webpack_require__(17);\n\t\n\tvar _SilverStripeComponent = __webpack_require__(18);\n\t\n\tvar _SilverStripeComponent2 = _interopRequireDefault(_SilverStripeComponent);\n\t\n\tvar _Backend = __webpack_require__(19);\n\t\n\tvar _Backend2 = _interopRequireDefault(_Backend);\n\t\n\tvar _Config = __webpack_require__(3);\n\t\n\tvar _Config2 = _interopRequireDefault(_Config);\n\t\n\tvar _i18n = __webpack_require__(11);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tvar _GalleryActions = __webpack_require__(20);\n\t\n\tvar galleryActions = _interopRequireWildcard(_GalleryActions);\n\t\n\tvar _EditorActions = __webpack_require__(21);\n\t\n\tvar editorActions = _interopRequireWildcard(_EditorActions);\n\t\n\tvar _BreadcrumbsActions = __webpack_require__(22);\n\t\n\tvar breadcrumbsActions = _interopRequireWildcard(_BreadcrumbsActions);\n\t\n\tvar _Editor = __webpack_require__(23);\n\t\n\tvar _Editor2 = _interopRequireDefault(_Editor);\n\t\n\tvar _Gallery = __webpack_require__(27);\n\t\n\tvar _Gallery2 = _interopRequireDefault(_Gallery);\n\t\n\tvar _Breadcrumb = __webpack_require__(38);\n\t\n\tvar _Breadcrumb2 = _interopRequireDefault(_Breadcrumb);\n\t\n\tvar _Toolbar = __webpack_require__(39);\n\t\n\tvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AssetAdmin = function (_SilverStripeComponen) {\n\t  _inherits(AssetAdmin, _SilverStripeComponen);\n\t\n\t  function AssetAdmin() {\n\t    _classCallCheck(this, AssetAdmin);\n\t\n\t    var _this = _possibleConstructorReturn(this, (AssetAdmin.__proto__ || Object.getPrototypeOf(AssetAdmin)).call(this));\n\t\n\t    _this.handleOpenFile = _this.handleOpenFile.bind(_this);\n\t    _this.handleCloseFile = _this.handleCloseFile.bind(_this);\n\t    _this.delete = _this.delete.bind(_this);\n\t    _this.handleSubmitEditor = _this.handleSubmitEditor.bind(_this);\n\t    _this.handleOpenFolder = _this.handleOpenFolder.bind(_this);\n\t    _this.createEndpoint = _this.createEndpoint.bind(_this);\n\t    _this.handleBackButtonClick = _this.handleBackButtonClick.bind(_this);\n\t    _this.handleFolderIcon = _this.handleFolderIcon.bind(_this);\n\t    _this.compare = _this.compare.bind(_this);\n\t\n\t    var sectionConfig = _Config2.default.getSection('SilverStripe\\\\AssetAdmin\\\\Controller\\\\AssetAdmin');\n\t    _this.endpoints = {\n\t      createFolderApi: _this.createEndpoint(sectionConfig.createFolderEndpoint),\n\t      readFolderApi: _this.createEndpoint(sectionConfig.readFolderEndpoint, false),\n\t      updateFolderApi: _this.createEndpoint(sectionConfig.updateFolderEndpoint),\n\t      deleteApi: _this.createEndpoint(sectionConfig.deleteEndpoint)\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(AssetAdmin, [{\n\t    key: 'createEndpoint',\n\t    value: function createEndpoint(endpointConfig) {\n\t      var includeToken = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\t\n\t      return _Backend2.default.createEndpointFetcher(_extends({}, endpointConfig, includeToken ? { defaultData: { SecurityID: _Config2.default.get('SecurityID') } } : {}));\n\t    }\n\t  }, {\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(props) {\n\t      var viewChanged = this.compare(this.props.folder, props.folder);\n\t      if (viewChanged) {\n\t        this.setBreadcrumbs(props.folder);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleBackButtonClick',\n\t    value: function handleBackButtonClick(event) {\n\t      event.preventDefault();\n\t      if (this.props.folder) {\n\t        this.handleOpenFolder(this.props.folder.parentID || 0);\n\t      } else {\n\t        this.handleOpenFolder(0);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setBreadcrumbs',\n\t    value: function setBreadcrumbs(folder) {\n\t      var base = this.props.sectionConfig.url;\n\t\n\t      var breadcrumbs = [{\n\t        text: _i18n2.default._t('AssetAdmin.FILES', 'Files'),\n\t        href: '/' + base + '/'\n\t      }];\n\t\n\t      if (folder && folder.id) {\n\t        if (folder.parents) {\n\t          folder.parents.forEach(function (parent) {\n\t            breadcrumbs.push({\n\t              text: parent.title,\n\t              href: '/' + base + '/show/' + parent.id\n\t            });\n\t          });\n\t        }\n\t\n\t        breadcrumbs.push({\n\t          text: folder.title,\n\t          href: '/' + base + '/show/' + folder.id,\n\t          icon: {\n\t            className: 'icon font-icon-edit-list',\n\t            action: this.handleFolderIcon\n\t          }\n\t        });\n\t      }\n\t\n\t      this.props.actions.breadcrumbsActions.setBreadcrumbs(breadcrumbs);\n\t    }\n\t  }, {\n\t    key: 'compare',\n\t    value: function compare(left, right) {\n\t      if (left && !right || right && !left) {\n\t        return true;\n\t      }\n\t\n\t      return left && right && (left.id !== right.id || left.name !== right.name);\n\t    }\n\t  }, {\n\t    key: 'handleFolderIcon',\n\t    value: function handleFolderIcon(event) {\n\t      this.handleOpenFile(this.props.folderId);\n\t\n\t      event.preventDefault();\n\t    }\n\t  }, {\n\t    key: 'handleOpenFile',\n\t    value: function handleOpenFile(fileId) {\n\t      var base = this.props.sectionConfig.url;\n\t      this.props.router.push('/' + base + '/show/' + this.props.folderId + '/edit/' + fileId);\n\t    }\n\t  }, {\n\t    key: 'handleSubmitEditor',\n\t    value: function handleSubmitEditor(event, fieldValues, submitFn) {\n\t      var _this2 = this;\n\t\n\t      event.preventDefault();\n\t      submitFn().then(function (response) {\n\t        _this2.props.actions.gallery.loadFile(_this2.props.fileId, response.record);\n\t\n\t        return response;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'handleCloseFile',\n\t    value: function handleCloseFile() {\n\t      this.handleOpenFolder(this.props.folderId);\n\t    }\n\t  }, {\n\t    key: 'handleOpenFolder',\n\t    value: function handleOpenFolder(folderId) {\n\t      var base = this.props.sectionConfig.url;\n\t      this.props.router.push('/' + base + '/show/' + folderId);\n\t    }\n\t  }, {\n\t    key: 'delete',\n\t    value: function _delete(fileId) {\n\t      var _this3 = this;\n\t\n\t      var file = this.props.files.find(function (next) {\n\t        return next.id === fileId;\n\t      });\n\t\n\t      if (confirm(_i18n2.default._t('AssetAdmin.CONFIRMDELETE'))) {\n\t        this.props.actions.gallery.deleteItems(this.endpoints.deleteApi, [file.id]).then(function () {\n\t          var base = _this3.props.sectionConfig.url;\n\t          _this3.props.router.push('/' + base + '/show/' + file.parent.id);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this4 = this;\n\t\n\t      var sectionConfig = this.props.sectionConfig;\n\t      var createFileApiUrl = sectionConfig.createFileEndpoint.url;\n\t      var createFileApiMethod = sectionConfig.createFileEndpoint.method;\n\t      var file = this.props.files.find(function (next) {\n\t        return next.id === parseInt(_this4.props.fileId, 10);\n\t      });\n\t\n\t      var editor = (file || this.props.fileId === this.props.folderId) && _react2.default.createElement(_Editor2.default, {\n\t        fileId: this.props.fileId,\n\t        onClose: this.handleCloseFile,\n\t        editFileSchemaUrl: sectionConfig.form.FileEditForm.schemaUrl,\n\t        actions: this.props.actions.editor,\n\t        onSubmit: this.handleSubmitEditor,\n\t        onDelete: this.delete,\n\t        addToCampaignSchemaUrl: sectionConfig.form.AddToCampaignForm.schemaUrl\n\t      });\n\t\n\t      var showBackButton = !!(this.props.folder && this.props.folder.id);\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'cms-content__inner no-preview' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'cms-content__left cms-gallery collapse in' },\n\t          _react2.default.createElement(\n\t            _Toolbar2.default,\n\t            { showBackButton: showBackButton, handleBackButtonClick: this.handleBackButtonClick },\n\t            _react2.default.createElement(_Breadcrumb2.default, { multiline: true, crumbs: this.props.breadcrumbs })\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'gallery' },\n\t            editor,\n\t            _react2.default.createElement(_Gallery2.default, {\n\t              files: this.props.files,\n\t              fileId: this.props.fileId,\n\t              folderId: this.props.folderId,\n\t              folder: this.props.folder,\n\t              name: this.props.name,\n\t              limit: this.props.limit,\n\t              page: this.props.page,\n\t              bulkActions: this.props.bulkActions,\n\t              createFileApiUrl: createFileApiUrl,\n\t              createFileApiMethod: createFileApiMethod,\n\t              createFolderApi: this.endpoints.createFolderApi,\n\t              readFolderApi: this.endpoints.readFolderApi,\n\t              updateFolderApi: this.endpoints.updateFolderApi,\n\t              deleteApi: this.endpoints.deleteApi,\n\t              onOpenFile: this.handleOpenFile,\n\t              onOpenFolder: this.handleOpenFolder,\n\t              sectionConfig: this.props.sectionConfig\n\t            })\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return AssetAdmin;\n\t}(_SilverStripeComponent2.default);\n\t\n\tAssetAdmin.propTypes = {\n\t  config: _react2.default.PropTypes.shape({\n\t    forms: _react2.default.PropTypes.shape({\n\t      editForm: _react2.default.PropTypes.shape({\n\t        schemaUrl: _react2.default.PropTypes.string\n\t      })\n\t    })\n\t  }),\n\t  sectionConfig: _react2.default.PropTypes.shape({\n\t    url: _react2.default.PropTypes.string\n\t  }),\n\t  file: _react2.default.PropTypes.object,\n\t  folder: _react2.default.PropTypes.shape({\n\t    id: _react2.default.PropTypes.number,\n\t    title: _react2.default.PropTypes.string,\n\t    parents: _react2.default.PropTypes.array,\n\t    parentID: _react2.default.PropTypes.number,\n\t    canView: _react2.default.PropTypes.bool,\n\t    canEdit: _react2.default.PropTypes.bool\n\t  })\n\t};\n\t\n\tfunction mapStateToProps(state, ownProps) {\n\t  var sectionConfigKey = 'SilverStripe\\\\AssetAdmin\\\\Controller\\\\AssetAdmin';\n\t  var sectionConfig = state.config.sections[sectionConfigKey];\n\t  var folder = state.assetAdmin.gallery.folder;\n\t  var files = state.assetAdmin.gallery.files;\n\t\n\t  return {\n\t    breadcrumbs: state.breadcrumbs,\n\t    sectionConfig: sectionConfig,\n\t    fileId: parseInt(ownProps.params.fileId, 10),\n\t    folderId: parseInt(ownProps.params.folderId, 10),\n\t    files: files,\n\t    folder: folder,\n\t    limit: sectionConfig.limit\n\t  };\n\t}\n\t\n\tfunction mapDispatchToProps(dispatch) {\n\t  return {\n\t    actions: {\n\t      gallery: (0, _redux.bindActionCreators)(galleryActions, dispatch),\n\t      editor: (0, _redux.bindActionCreators)(editorActions, dispatch),\n\t      breadcrumbsActions: (0, _redux.bindActionCreators)(breadcrumbsActions, dispatch)\n\t    }\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRouter.withRouter)((0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(AssetAdmin));\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = React;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactRedux;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactRouter;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = SilverStripeComponent;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Backend;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.addFiles = addFiles;\n\texports.deleteItems = deleteItems;\n\texports.loadFolderContents = loadFolderContents;\n\texports.loadFile = loadFile;\n\texports.selectFiles = selectFiles;\n\texports.deselectFiles = deselectFiles;\n\texports.sortFiles = sortFiles;\n\texports.createFolder = createFolder;\n\t\n\tvar _GalleryActionTypes = __webpack_require__(8);\n\t\n\tvar _GalleryActionTypes2 = _interopRequireDefault(_GalleryActionTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction addFiles(files, count) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _GalleryActionTypes2.default.ADD_FILES,\n\t      payload: { files: files, count: count }\n\t    });\n\t  };\n\t}\n\t\n\tfunction deleteItems(deleteApi, ids) {\n\t  return function (dispatch) {\n\t    dispatch({\n\t      type: _GalleryActionTypes2.default.DELETE_ITEM_REQUEST,\n\t      payload: { ids: ids }\n\t    });\n\t\n\t    return deleteApi({ ids: ids }).then(function (json) {\n\t      dispatch({\n\t        type: _GalleryActionTypes2.default.DELETE_ITEM_SUCCESS,\n\t        payload: { ids: ids }\n\t      });\n\t\n\t      dispatch({\n\t        type: _GalleryActionTypes2.default.SET_FILE,\n\t        payload: { fileId: null }\n\t      });\n\t\n\t      return json;\n\t    }).catch(function (error) {\n\t      dispatch({\n\t        type: _GalleryActionTypes2.default.DELETE_ITEM_FAILURE,\n\t        payload: { error: error }\n\t      });\n\t    });\n\t  };\n\t}\n\t\n\tfunction loadFolderContents(listApi, folderId, limit, page) {\n\t  return function (dispatch) {\n\t    dispatch({\n\t      type: _GalleryActionTypes2.default.LOAD_FOLDER_REQUEST,\n\t      payload: { folderId: parseInt(folderId, 10) }\n\t    });\n\t\n\t    return listApi({ id: folderId, limit: limit, page: page }).then(function (data) {\n\t      dispatch({\n\t        type: _GalleryActionTypes2.default.LOAD_FOLDER_SUCCESS,\n\t        payload: {\n\t          files: data.files,\n\t\n\t          folder: {\n\t            id: parseInt(data.folderID, 10),\n\t            title: data.title,\n\t            parents: data.parents,\n\t            canEdit: data.canEdit,\n\t            canDelete: data.canDelete,\n\t\n\t            parentID: data.parentID === null ? null : parseInt(data.parentID, 10)\n\t          },\n\t\n\t          folderId: parseInt(data.folderID, 10)\n\t        }\n\t      });\n\t    });\n\t  };\n\t}\n\t\n\tfunction loadFile(id, file) {\n\t  return function (dispatch) {\n\t    dispatch({\n\t      type: _GalleryActionTypes2.default.LOAD_FILE_SUCCESS,\n\t      payload: {\n\t        id: id,\n\t        file: file\n\t      }\n\t    });\n\t  };\n\t}\n\t\n\tfunction selectFiles() {\n\t  var ids = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\t\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _GalleryActionTypes2.default.SELECT_FILES,\n\t      payload: { ids: ids }\n\t    });\n\t  };\n\t}\n\t\n\tfunction deselectFiles() {\n\t  var ids = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\t\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _GalleryActionTypes2.default.DESELECT_FILES,\n\t      payload: { ids: ids }\n\t    });\n\t  };\n\t}\n\t\n\tfunction sortFiles(comparator) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _GalleryActionTypes2.default.SORT_FILES,\n\t      payload: { comparator: comparator }\n\t    });\n\t  };\n\t}\n\t\n\tfunction createFolder(createFolderApi, parentId, name) {\n\t  return function (dispatch) {\n\t    dispatch({\n\t      type: _GalleryActionTypes2.default.CREATE_FOLDER_REQUEST,\n\t      payload: { name: name }\n\t    });\n\t\n\t    return createFolderApi({ ParentID: isNaN(parentId) ? 0 : parentId, Name: name }).then(function (json) {\n\t      dispatch({\n\t        type: _GalleryActionTypes2.default.CREATE_FOLDER_SUCCESS,\n\t        payload: { name: name }\n\t      });\n\t      return json;\n\t    }).catch(function (err) {\n\t      dispatch({\n\t        type: _GalleryActionTypes2.default.CREATE_FOLDER_FAILURE,\n\t        payload: { error: 'Couldn\\'t create ' + name + ': ' + err }\n\t      });\n\t    });\n\t  };\n\t}\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.updateAddToCampaignModal = updateAddToCampaignModal;\n\t\n\tvar _EditorActionTypes = __webpack_require__(13);\n\t\n\tvar _EditorActionTypes2 = _interopRequireDefault(_EditorActionTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction updateAddToCampaignModal(show) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _EditorActionTypes2.default.UPDATE_ADDTOCAMPAIGN_MODAL,\n\t      payload: { show: show }\n\t    });\n\t  };\n\t}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = BreadcrumbsActions;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _i18n = __webpack_require__(11);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tvar _react = __webpack_require__(15);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _FormBuilder = __webpack_require__(24);\n\t\n\tvar _FormBuilder2 = _interopRequireDefault(_FormBuilder);\n\t\n\tvar _index = __webpack_require__(25);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _FormBuilderModal = __webpack_require__(26);\n\t\n\tvar _FormBuilderModal2 = _interopRequireDefault(_FormBuilderModal);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Editor = function (_Component) {\n\t  _inherits(Editor, _Component);\n\t\n\t  function Editor(props) {\n\t    _classCallCheck(this, Editor);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Editor.__proto__ || Object.getPrototypeOf(Editor)).call(this, props));\n\t\n\t    _this.handleCancelKeyDown = _this.handleCancelKeyDown.bind(_this);\n\t    _this.handleClose = _this.handleClose.bind(_this);\n\t    _this.handleSubmit = _this.handleSubmit.bind(_this);\n\t    _this.handleAction = _this.handleAction.bind(_this);\n\t    _this.handleSubmitModal = _this.handleSubmitModal.bind(_this);\n\t    _this.closeModal = _this.closeModal.bind(_this);\n\t    _this.openModal = _this.openModal.bind(_this);\n\t\n\t    _this.state = {\n\t      openModal: false\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Editor, [{\n\t    key: 'getCancelButton',\n\t    value: function getCancelButton() {\n\t      return _react2.default.createElement('a', {\n\t        tabIndex: '0',\n\t        className: 'btn btn--top-right btn--no-text font-icon-cancel btn--icon-xl',\n\t        onClick: this.handleClose,\n\t        onKeyDown: this.handleCancelKeyDown,\n\t        type: 'button',\n\t        'aria-label': _i18n2.default._t('AssetAdmin.CANCEL')\n\t      });\n\t    }\n\t  }, {\n\t    key: 'handleAction',\n\t    value: function handleAction(event, name, fieldValues) {\n\t      if (name === 'action_addtocampaign') {\n\t        this.openModal();\n\t        event.preventDefault();\n\t        return;\n\t      }\n\t\n\t      if (name === 'action_delete') {\n\t        this.props.onDelete(fieldValues.ID);\n\t        event.preventDefault();\n\t        return;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleCancelKeyDown',\n\t    value: function handleCancelKeyDown(event) {\n\t      if (event.keyCode === _index2.default.SPACE_KEY_CODE || event.keyCode === _index2.default.RETURN_KEY_CODE) {\n\t        this.handleClose(event);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleSubmit',\n\t    value: function handleSubmit(event, fieldValues, submitFn) {\n\t      if (typeof this.props.onSubmit === 'function') {\n\t        return this.props.onSubmit(event, fieldValues, submitFn);\n\t      }\n\t\n\t      event.preventDefault();\n\t      return submitFn();\n\t    }\n\t  }, {\n\t    key: 'handleSubmitModal',\n\t    value: function handleSubmitModal(event, fieldValues, submitFn) {\n\t      event.preventDefault();\n\t\n\t      if (!fieldValues.Campaign) {\n\t        alert(_i18n2.default._t('AddToCampaigns.ErrorCampaignNotSelected', 'There was no campaign selected to be added to'));\n\t        return null;\n\t      }\n\t      return submitFn();\n\t    }\n\t  }, {\n\t    key: 'openModal',\n\t    value: function openModal() {\n\t      this.setState({\n\t        openModal: true\n\t      });\n\t    }\n\t  }, {\n\t    key: 'closeModal',\n\t    value: function closeModal() {\n\t      this.setState({\n\t        openModal: false\n\t      });\n\t    }\n\t  }, {\n\t    key: 'handleClose',\n\t    value: function handleClose(event) {\n\t      this.props.onClose();\n\t      this.closeModal();\n\t\n\t      if (event) {\n\t        event.preventDefault();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var formSchemaUrl = this.props.editFileSchemaUrl + '/' + this.props.fileId;\n\t      var modalSchemaUrl = this.props.addToCampaignSchemaUrl + '/' + this.props.fileId;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'panel panel--padded panel--scrollable form--no-dividers editor' },\n\t        this.getCancelButton(),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'editor__details' },\n\t          _react2.default.createElement(_FormBuilder2.default, {\n\t            schemaUrl: formSchemaUrl,\n\t            handleSubmit: this.handleSubmit,\n\t            handleAction: this.handleAction\n\t          }),\n\t          _react2.default.createElement(_FormBuilderModal2.default, {\n\t            show: this.state.openModal,\n\t            handleHide: this.closeModal,\n\t            handleSubmit: this.handleSubmitModal,\n\t            schemaUrl: modalSchemaUrl,\n\t            bodyClassName: 'add-to-campaign__dialog',\n\t            responseClassBad: 'add-to-campaign__response add-to-campaign__response--error',\n\t            responseClassGood: 'add-to-campaign__response add-to-campaign__response--good'\n\t          })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Editor;\n\t}(_react.Component);\n\t\n\tEditor.propTypes = {\n\t  fileId: _react2.default.PropTypes.number.isRequired,\n\t  actions: _react2.default.PropTypes.object,\n\t  onClose: _react2.default.PropTypes.func.isRequired,\n\t  onSubmit: _react2.default.PropTypes.func.isRequired,\n\t  onDelete: _react2.default.PropTypes.func.isRequired,\n\t  editFileSchemaUrl: _react2.default.PropTypes.string.isRequired,\n\t  addToCampaignSchemaUrl: _react2.default.PropTypes.string,\n\t  openAddCampaignModal: _react2.default.PropTypes.bool\n\t};\n\t\n\texports.default = Editor;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = FormBuilder;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _i18n = __webpack_require__(11);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  CSS_TRANSITION_TIME: 300,\n\t  THUMBNAIL_HEIGHT: 150,\n\t  THUMBNAIL_WIDTH: 200,\n\t  BULK_ACTIONS: [{\n\t    value: 'delete',\n\t    label: _i18n2.default._t('AssetAdmin.BULK_ACTIONS_DELETE', 'Delete'),\n\t    className: 'font-icon-trash',\n\t    destructive: true,\n\t    callback: null,\n\t    confirm: function (_confirm) {\n\t      function confirm() {\n\t        return _confirm.apply(this, arguments);\n\t      }\n\t\n\t      confirm.toString = function () {\n\t        return _confirm.toString();\n\t      };\n\t\n\t      return confirm;\n\t    }(function () {\n\t      var promise = null;\n\t      var msg = _i18n2.default.sprintf(_i18n2.default._t('AssetAdmin.BULK_ACTIONS_CONFIRM'), _i18n2.default._t('AssetAdmin.BULK_ACTIONS_DELETE_CONFIRM', 'delete'));\n\t\n\t      if (confirm(msg)) {\n\t        promise = Promise.resolve();\n\t      } else {\n\t        promise = Promise.reject();\n\t      }\n\t\n\t      return promise;\n\t    })\n\t  }, {\n\t    value: 'edit',\n\t    label: _i18n2.default._t('AssetAdmin.BULK_ACTIONS_EDIT', 'Edit'),\n\t    className: 'font-icon-edit',\n\t    destructive: false,\n\t\n\t    canApply: function canApply(items) {\n\t      return items.length === 1;\n\t    },\n\t    callback: null }],\n\t  BULK_ACTIONS_PLACEHOLDER: _i18n2.default._t('AssetAdmin.BULK_ACTIONS_PLACEHOLDER'),\n\t  SPACE_KEY_CODE: 32,\n\t  RETURN_KEY_CODE: 13\n\t};\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = FormBuilderModal;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Gallery = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _jQuery = __webpack_require__(28);\n\t\n\tvar _jQuery2 = _interopRequireDefault(_jQuery);\n\t\n\tvar _i18n = __webpack_require__(11);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tvar _react = __webpack_require__(15);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(29);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _reactAddonsCssTransitionGroup = __webpack_require__(30);\n\t\n\tvar _reactAddonsCssTransitionGroup2 = _interopRequireDefault(_reactAddonsCssTransitionGroup);\n\t\n\tvar _reactRedux = __webpack_require__(16);\n\t\n\tvar _reactRouter = __webpack_require__(17);\n\t\n\tvar _redux = __webpack_require__(2);\n\t\n\tvar _reactAddonsTestUtils = __webpack_require__(31);\n\t\n\tvar _reactAddonsTestUtils2 = _interopRequireDefault(_reactAddonsTestUtils);\n\t\n\tvar _Config = __webpack_require__(3);\n\t\n\tvar _Config2 = _interopRequireDefault(_Config);\n\t\n\tvar _AssetDropzone = __webpack_require__(32);\n\t\n\tvar _AssetDropzone2 = _interopRequireDefault(_AssetDropzone);\n\t\n\tvar _GalleryItem = __webpack_require__(35);\n\t\n\tvar _GalleryItem2 = _interopRequireDefault(_GalleryItem);\n\t\n\tvar _BulkActions = __webpack_require__(36);\n\t\n\tvar _BulkActions2 = _interopRequireDefault(_BulkActions);\n\t\n\tvar _index = __webpack_require__(25);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _GalleryActions = __webpack_require__(20);\n\t\n\tvar galleryActions = _interopRequireWildcard(_GalleryActions);\n\t\n\tvar _QueuedFilesActions = __webpack_require__(37);\n\t\n\tvar queuedFilesActions = _interopRequireWildcard(_QueuedFilesActions);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction getComparator(field, direction) {\n\t  return function (a, b) {\n\t    var fieldA = a[field].toLowerCase();\n\t    var fieldB = b[field].toLowerCase();\n\t\n\t    if (direction === 'asc') {\n\t      if (fieldA < fieldB) {\n\t        return -1;\n\t      }\n\t\n\t      if (fieldA > fieldB) {\n\t        return 1;\n\t      }\n\t    } else {\n\t      if (fieldA > fieldB) {\n\t        return -1;\n\t      }\n\t\n\t      if (fieldA < fieldB) {\n\t        return 1;\n\t      }\n\t    }\n\t\n\t    return 0;\n\t  };\n\t}\n\t\n\tvar Gallery = exports.Gallery = function (_Component) {\n\t  _inherits(Gallery, _Component);\n\t\n\t  function Gallery(props) {\n\t    _classCallCheck(this, Gallery);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).call(this, props));\n\t\n\t    _this.sort = 'name';\n\t    _this.direction = 'asc';\n\t\n\t    _this.sorters = [{\n\t      field: 'title',\n\t      direction: 'asc',\n\t      label: _i18n2.default._t('AssetAdmin.FILTER_TITLE_ASC')\n\t    }, {\n\t      field: 'title',\n\t      direction: 'desc',\n\t      label: _i18n2.default._t('AssetAdmin.FILTER_TITLE_DESC')\n\t    }, {\n\t      field: 'created',\n\t      direction: 'desc',\n\t      label: _i18n2.default._t('AssetAdmin.FILTER_DATE_DESC')\n\t    }, {\n\t      field: 'created',\n\t      direction: 'asc',\n\t      label: _i18n2.default._t('AssetAdmin.FILTER_DATE_ASC')\n\t    }];\n\t\n\t    _this.handleFolderActivate = _this.handleFolderActivate.bind(_this);\n\t    _this.handleFileActivate = _this.handleFileActivate.bind(_this);\n\t    _this.handleToggleSelect = _this.handleToggleSelect.bind(_this);\n\t    _this.handleAddedFile = _this.handleAddedFile.bind(_this);\n\t    _this.handleCancelUpload = _this.handleCancelUpload.bind(_this);\n\t    _this.handleRemoveErroredUpload = _this.handleRemoveErroredUpload.bind(_this);\n\t    _this.handleUploadProgress = _this.handleUploadProgress.bind(_this);\n\t    _this.handleSending = _this.handleSending.bind(_this);\n\t    _this.handleItemDelete = _this.handleItemDelete.bind(_this);\n\t    _this.handleBackClick = _this.handleBackClick.bind(_this);\n\t    _this.handleMoreClick = _this.handleMoreClick.bind(_this);\n\t    _this.handleSort = _this.handleSort.bind(_this);\n\t    _this.handleSuccessfulUpload = _this.handleSuccessfulUpload.bind(_this);\n\t    _this.handleFailedUpload = _this.handleFailedUpload.bind(_this);\n\t    _this.handleCreateFolder = _this.handleCreateFolder.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Gallery, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      this.refreshFolderIfNeeded();\n\t    }\n\t  }, {\n\t    key: 'componentWillUpdate',\n\t    value: function componentWillUpdate() {\n\t      var $select = (0, _jQuery2.default)(_reactDom2.default.findDOMNode(this)).find('.gallery__sort .dropdown');\n\t      $select.off('change');\n\t    }\n\t  }, {\n\t    key: 'componentDidUpdate',\n\t    value: function componentDidUpdate(prevProps) {\n\t      var $select = (0, _jQuery2.default)(_reactDom2.default.findDOMNode(this)).find('.gallery__sort .dropdown');\n\t\n\t      $select.chosen({\n\t        allow_single_deselect: true,\n\t        disable_search_threshold: 20\n\t      });\n\t\n\t      $select.on('change', function () {\n\t        return _reactAddonsTestUtils2.default.Simulate.click($select.find(':selected')[0]);\n\t      });\n\t\n\t      this.refreshFolderIfNeeded(prevProps);\n\t      this.checkLoadingIndicator();\n\t    }\n\t  }, {\n\t    key: 'getNoItemsNotice',\n\t    value: function getNoItemsNotice() {\n\t      if (this.props.files.length < 1 && this.props.queuedFiles.items.length < 1 && !this.props.loading) {\n\t        return _react2.default.createElement(\n\t          'p',\n\t          { className: 'gallery__no-item-notice' },\n\t          _i18n2.default._t('AssetAdmin.NOITEMSFOUND')\n\t        );\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'getBackButton',\n\t    value: function getBackButton() {\n\t      var classes = ['btn', 'btn-secondary', 'btn--no-text', 'font-icon-level-up', 'btn--icon-large', 'gallery__back'].join(' ');\n\t      if (this.props.folder.parentID !== null) {\n\t        return _react2.default.createElement('button', {\n\t          className: classes,\n\t          onClick: this.handleBackClick,\n\t          ref: 'backButton'\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'getBulkActionsComponent',\n\t    value: function getBulkActionsComponent() {\n\t      var _this2 = this;\n\t\n\t      var deleteAction = function deleteAction(items) {\n\t        var ids = items.map(function (item) {\n\t          return item.id;\n\t        });\n\t        _this2.props.actions.gallery.deleteItems(_this2.props.deleteApi, ids);\n\t      };\n\t      var editAction = function editAction(items) {\n\t        _this2.props.onOpenFile(items[0].id);\n\t      };\n\t      var actions = _index2.default.BULK_ACTIONS.map(function (action) {\n\t        if (action.value === 'delete' && !action.callback) {\n\t          return _extends({}, action, { callback: deleteAction });\n\t        }\n\t        if (action.value === 'edit' && !action.callback) {\n\t          return _extends({}, action, { callback: editAction });\n\t        }\n\t        return action;\n\t      });\n\t      var selectedFileObjs = this.props.selectedFiles.map(function (id) {\n\t        return _this2.props.files.find(function (file) {\n\t          return id === file.id;\n\t        });\n\t      });\n\t\n\t      if (selectedFileObjs.length > 0 && this.props.bulkActions) {\n\t        return _react2.default.createElement(_BulkActions2.default, {\n\t          actions: actions,\n\t          items: selectedFileObjs,\n\t          key: selectedFileObjs.length > 0\n\t        });\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'getMoreButton',\n\t    value: function getMoreButton() {\n\t      if (this.props.count > this.props.files.length) {\n\t        return _react2.default.createElement(\n\t          'button',\n\t          {\n\t            className: 'gallery__load-more',\n\t            onClick: this.handleMoreClick\n\t          },\n\t          _i18n2.default._t('AssetAdmin.LOADMORE')\n\t        );\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'checkLoadingIndicator',\n\t    value: function checkLoadingIndicator() {\n\t      var $sectionWrapper = (0, _jQuery2.default)('.cms-content.AssetAdmin');\n\t\n\t      if (this.props.loading && !$sectionWrapper.hasClass('loading')) {\n\t        $sectionWrapper.addClass('loading');\n\t      } else if (!this.props.loading && $sectionWrapper.hasClass('loading')) {\n\t        $sectionWrapper.removeClass('loading');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'refreshFolderIfNeeded',\n\t    value: function refreshFolderIfNeeded(prevProps) {\n\t      if (!prevProps || this.props.folderId !== prevProps.folderId) {\n\t        this.props.actions.gallery.deselectFiles();\n\t        this.props.actions.gallery.loadFolderContents(this.props.readFolderApi, this.props.folderId, this.props.limit, this.props.page);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleSort',\n\t    value: function handleSort(event) {\n\t      var data = event.target.dataset;\n\t      this.props.actions.queuedFiles.purgeUploadQueue();\n\t      this.props.actions.gallery.sortFiles(getComparator(data.field, data.direction));\n\t    }\n\t  }, {\n\t    key: 'handleCancelUpload',\n\t    value: function handleCancelUpload(fileData) {\n\t      fileData.xhr.abort();\n\t      this.props.actions.queuedFiles.removeQueuedFile(fileData.queuedAtTime);\n\t    }\n\t  }, {\n\t    key: 'handleRemoveErroredUpload',\n\t    value: function handleRemoveErroredUpload(fileData) {\n\t      this.props.actions.queuedFiles.removeQueuedFile(fileData.queuedAtTime);\n\t    }\n\t  }, {\n\t    key: 'handleAddedFile',\n\t    value: function handleAddedFile(data) {\n\t      this.props.actions.queuedFiles.addQueuedFile(data);\n\t    }\n\t  }, {\n\t    key: 'handleSending',\n\t    value: function handleSending(file, xhr) {\n\t      this.props.actions.queuedFiles.updateQueuedFile(file._queuedAtTime, { xhr: xhr });\n\t    }\n\t  }, {\n\t    key: 'handleUploadProgress',\n\t    value: function handleUploadProgress(file, progress) {\n\t      this.props.actions.queuedFiles.updateQueuedFile(file._queuedAtTime, { progress: progress });\n\t    }\n\t  }, {\n\t    key: 'handleCreateFolder',\n\t    value: function handleCreateFolder(event) {\n\t      var _this3 = this;\n\t\n\t      var folderName = this.promptFolderName();\n\t      if (folderName) {\n\t        this.props.actions.gallery.createFolder(this.props.createFolderApi, this.props.folderId, folderName).then(function (data) {\n\t          _this3.props.actions.gallery.addFiles([data], 1);\n\t          return data;\n\t        });\n\t      }\n\t      event.preventDefault();\n\t    }\n\t  }, {\n\t    key: 'handleSuccessfulUpload',\n\t    value: function handleSuccessfulUpload(file) {\n\t      var json = JSON.parse(file.xhr.response);\n\t\n\t      if (typeof json[0].error !== 'undefined') {\n\t        this.handleFailedUpload(file);\n\t        return;\n\t      }\n\t\n\t      this.props.actions.queuedFiles.removeQueuedFile(file._queuedAtTime);\n\t      this.props.actions.gallery.addFiles(json, this.props.count + 1);\n\t    }\n\t  }, {\n\t    key: 'handleFailedUpload',\n\t    value: function handleFailedUpload(file) {\n\t      this.props.actions.queuedFiles.failUpload(file._queuedAtTime);\n\t    }\n\t  }, {\n\t    key: 'handleItemDelete',\n\t    value: function handleItemDelete(event, item) {\n\t      if (confirm(_i18n2.default._t('AssetAdmin.CONFIRMDELETE'))) {\n\t        this.props.actions.gallery.deleteItems(this.props.deleteApi, [item.id]);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'promptFolderName',\n\t    value: function promptFolderName() {\n\t      return prompt(_i18n2.default._t('AssetAdmin.PROMPTFOLDERNAME'));\n\t    }\n\t  }, {\n\t    key: 'itemIsSelected',\n\t    value: function itemIsSelected(id) {\n\t      return this.props.selectedFiles.indexOf(id) > -1;\n\t    }\n\t  }, {\n\t    key: 'itemIsHighlighted',\n\t    value: function itemIsHighlighted(id) {\n\t      return this.props.fileId === id;\n\t    }\n\t  }, {\n\t    key: 'handleFolderActivate',\n\t    value: function handleFolderActivate(event, folder) {\n\t      event.preventDefault();\n\t      this.props.onOpenFolder(folder.id, folder);\n\t    }\n\t  }, {\n\t    key: 'handleFileActivate',\n\t    value: function handleFileActivate(event, file) {\n\t      event.preventDefault();\n\t\n\t      if (file.created === null) {\n\t        return;\n\t      }\n\t\n\t      this.props.onOpenFile(file.id, file);\n\t    }\n\t  }, {\n\t    key: 'handleToggleSelect',\n\t    value: function handleToggleSelect(event, item) {\n\t      if (this.props.selectedFiles.indexOf(item.id) === -1) {\n\t        this.props.actions.gallery.selectFiles([item.id]);\n\t      } else {\n\t        this.props.actions.gallery.deselectFiles([item.id]);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleMoreClick',\n\t    value: function handleMoreClick(event) {\n\t      event.stopPropagation();\n\t      event.preventDefault();\n\t      this.props.actions.gallery.deselectFiles();\n\t    }\n\t  }, {\n\t    key: 'handleBackClick',\n\t    value: function handleBackClick(event) {\n\t      event.preventDefault();\n\t      var base = this.props.sectionConfig.url;\n\t      this.props.router.push('/' + base + '/show/' + this.props.folder.parentID);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this4 = this;\n\t\n\t      if (!this.props.folder) {\n\t        return _react2.default.createElement('div', null);\n\t      }\n\t\n\t      var dropzoneOptions = {\n\t        url: this.props.createFileApiUrl,\n\t        method: this.props.createFileApiMethod,\n\t        paramName: 'Upload',\n\t        clickable: '#upload-button'\n\t      };\n\t\n\t      var securityID = _Config2.default.get('SecurityID');\n\t      var canEdit = this.props.folder.canEdit;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'gallery__outer' },\n\t        _react2.default.createElement(\n\t          _reactAddonsCssTransitionGroup2.default,\n\t          {\n\t            transitionName: 'bulk-actions',\n\t            transitionEnterTimeout: _index2.default.CSS_TRANSITION_TIME,\n\t            transitionLeaveTimeout: _index2.default.CSS_TRANSITION_TIME\n\t          },\n\t          this.getBulkActionsComponent()\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'gallery__main panel panel--padded panel--scrollable' },\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'gallery__sort fieldholder-small' },\n\t            _react2.default.createElement(\n\t              'select',\n\t              {\n\t                className: 'dropdown no-change-track no-chzn',\n\t                tabIndex: '0',\n\t                style: { width: '160px' }\n\t              },\n\t              this.sorters.map(function (sorter, i) {\n\t                return _react2.default.createElement(\n\t                  'option',\n\t                  {\n\t                    key: i,\n\t                    onClick: _this4.handleSort,\n\t                    'data-field': sorter.field,\n\t                    'data-direction': sorter.direction\n\t                  },\n\t                  sorter.label\n\t                );\n\t              })\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            'div',\n\t            { className: 'toolbar--content toolbar--space-save' },\n\t            this.getBackButton(),\n\t            _react2.default.createElement(\n\t              'button',\n\t              {\n\t                id: 'upload-button',\n\t                className: 'btn btn-secondary font-icon-upload btn--icon-xl',\n\t                type: 'button',\n\t                disabled: !canEdit\n\t              },\n\t              _react2.default.createElement(\n\t                'span',\n\t                { className: 'btn__text' },\n\t                _i18n2.default._t('AssetAdmin.DROPZONE_UPLOAD')\n\t              )\n\t            ),\n\t            _react2.default.createElement(\n\t              'button',\n\t              {\n\t                id: 'add-folder-button',\n\t                className: 'btn btn-secondary font-icon-folder-add btn--icon-xl ',\n\t                type: 'button',\n\t                onClick: this.handleCreateFolder,\n\t                disabled: !canEdit\n\t              },\n\t              _react2.default.createElement(\n\t                'span',\n\t                { className: 'btn__text' },\n\t                _i18n2.default._t('AssetAdmin.ADD_FOLDER_BUTTON')\n\t              )\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            _AssetDropzone2.default,\n\t            {\n\t              canUpload: canEdit,\n\t              handleAddedFile: this.handleAddedFile,\n\t              handleError: this.handleFailedUpload,\n\t              handleSuccess: this.handleSuccessfulUpload,\n\t              handleSending: this.handleSending,\n\t              handleUploadProgress: this.handleUploadProgress,\n\t              folderId: this.props.folderId,\n\t              options: dropzoneOptions,\n\t              securityID: securityID,\n\t              uploadButton: false\n\t            },\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'gallery__folders' },\n\t              this.props.files.map(function (file, i) {\n\t                var component = null;\n\t                if (file.type === 'folder') {\n\t                  component = _react2.default.createElement(_GalleryItem2.default, {\n\t                    key: i,\n\t                    item: file,\n\t                    selected: _this4.itemIsSelected(file.id),\n\t                    highlighted: _this4.itemIsHighlighted(file.id),\n\t                    handleDelete: _this4.handleItemDelete,\n\t                    handleToggleSelect: _this4.handleToggleSelect,\n\t                    handleActivate: _this4.handleFolderActivate\n\t                  });\n\t                }\n\t                return component;\n\t              })\n\t            ),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'gallery__files' },\n\t              this.props.queuedFiles.items.map(function (file, i) {\n\t                return _react2.default.createElement(_GalleryItem2.default, {\n\t                  key: 'queued_file_' + i,\n\t                  item: file,\n\t                  selected: _this4.itemIsSelected(file.id),\n\t                  highlighted: _this4.itemIsHighlighted(file.id),\n\t                  handleDelete: _this4.handleItemDelete,\n\t                  handleToggleSelect: _this4.handleToggleSelect,\n\t                  handleActivate: _this4.handleFileActivate,\n\t                  handleCancelUpload: _this4.handleCancelUpload,\n\t                  handleRemoveErroredUpload: _this4.handleRemoveErroredUpload,\n\t                  messages: file.messages,\n\t                  uploading: true\n\t                });\n\t              }),\n\t              this.props.files.map(function (file, i) {\n\t                var component = null;\n\t                if (file.type !== 'folder') {\n\t                  component = _react2.default.createElement(_GalleryItem2.default, {\n\t                    key: 'file_' + i,\n\t                    item: file,\n\t                    selected: _this4.itemIsSelected(file.id),\n\t                    highlighted: _this4.itemIsHighlighted(file.id),\n\t                    handleDelete: _this4.handleItemDelete,\n\t                    handleToggleSelect: _this4.handleToggleSelect,\n\t                    handleActivate: _this4.handleFileActivate\n\t                  });\n\t                }\n\t                return component;\n\t              })\n\t            ),\n\t            this.getNoItemsNotice(),\n\t            _react2.default.createElement(\n\t              'div',\n\t              { className: 'gallery__load' },\n\t              this.getMoreButton()\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Gallery;\n\t}(_react.Component);\n\t\n\tGallery.defaultProps = {\n\t  bulkActions: true\n\t};\n\t\n\tGallery.propTypes = {\n\t  loading: _react2.default.PropTypes.bool,\n\t  count: _react2.default.PropTypes.number,\n\t  fileId: _react2.default.PropTypes.number,\n\t  folderId: _react2.default.PropTypes.number.isRequired,\n\t  folder: _react2.default.PropTypes.shape({\n\t    id: _react2.default.PropTypes.number,\n\t    parentID: _react2.default.PropTypes.number,\n\t    canView: _react2.default.PropTypes.bool,\n\t    canEdit: _react2.default.PropTypes.bool\n\t  }),\n\t  files: _react2.default.PropTypes.array,\n\t  selectedFiles: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.number),\n\t  bulkActions: _react2.default.PropTypes.bool,\n\t  limit: _react2.default.PropTypes.number,\n\t  page: _react2.default.PropTypes.number,\n\t  queuedFiles: _react2.default.PropTypes.shape({\n\t    items: _react2.default.PropTypes.array.isRequired\n\t  }),\n\t  onOpenFile: _react2.default.PropTypes.func.isRequired,\n\t  onOpenFolder: _react2.default.PropTypes.func.isRequired,\n\t  createFileApiUrl: _react2.default.PropTypes.string,\n\t  createFileApiMethod: _react2.default.PropTypes.string,\n\t  createFolderApi: _react2.default.PropTypes.func,\n\t  readFolderApi: _react2.default.PropTypes.func,\n\t  deleteApi: _react2.default.PropTypes.func,\n\t  actions: _react2.default.PropTypes.object,\n\t  sectionConfig: _react2.default.PropTypes.shape({\n\t    url: _react2.default.PropTypes.string\n\t  }),\n\t  router: _react2.default.PropTypes.object\n\t};\n\t\n\tfunction mapStateToProps(state) {\n\t  var _state$assetAdmin$gal = state.assetAdmin.gallery;\n\t  var loading = _state$assetAdmin$gal.loading;\n\t  var count = _state$assetAdmin$gal.count;\n\t  var files = _state$assetAdmin$gal.files;\n\t  var selectedFiles = _state$assetAdmin$gal.selectedFiles;\n\t  var page = _state$assetAdmin$gal.page;\n\t\n\t  return {\n\t    loading: loading,\n\t    count: count,\n\t    files: files,\n\t    selectedFiles: selectedFiles,\n\t    page: page,\n\t    queuedFiles: state.assetAdmin.queuedFiles\n\t  };\n\t}\n\t\n\tfunction mapDispatchToProps(dispatch) {\n\t  return {\n\t    actions: {\n\t      gallery: (0, _redux.bindActionCreators)(galleryActions, dispatch),\n\t      queuedFiles: (0, _redux.bindActionCreators)(queuedFilesActions, dispatch)\n\t    }\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRouter.withRouter)((0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(Gallery));\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactDom;\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactAddonsCssTransitionGroup;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactAddonsTestUtils;\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _react = __webpack_require__(15);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(29);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _SilverStripeComponent = __webpack_require__(18);\n\t\n\tvar _SilverStripeComponent2 = _interopRequireDefault(_SilverStripeComponent);\n\t\n\tvar _i18n = __webpack_require__(11);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tvar _dropzone = __webpack_require__(33);\n\t\n\tvar _dropzone2 = _interopRequireDefault(_dropzone);\n\t\n\tvar _jQuery = __webpack_require__(28);\n\t\n\tvar _jQuery2 = _interopRequireDefault(_jQuery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AssetDropzone = function (_SilverStripeComponen) {\n\t  _inherits(AssetDropzone, _SilverStripeComponen);\n\t\n\t  function AssetDropzone(props) {\n\t    _classCallCheck(this, AssetDropzone);\n\t\n\t    var _this = _possibleConstructorReturn(this, (AssetDropzone.__proto__ || Object.getPrototypeOf(AssetDropzone)).call(this, props));\n\t\n\t    _this.dropzone = null;\n\t    _this.dragging = false;\n\t\n\t    _this.handleAddedFile = _this.handleAddedFile.bind(_this);\n\t    _this.handleDragEnter = _this.handleDragEnter.bind(_this);\n\t    _this.handleDragLeave = _this.handleDragLeave.bind(_this);\n\t    _this.handleDrop = _this.handleDrop.bind(_this);\n\t    _this.handleUploadProgress = _this.handleUploadProgress.bind(_this);\n\t    _this.handleError = _this.handleError.bind(_this);\n\t    _this.handleSending = _this.handleSending.bind(_this);\n\t    _this.handleSuccess = _this.handleSuccess.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(AssetDropzone, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      _get(AssetDropzone.prototype.__proto__ || Object.getPrototypeOf(AssetDropzone.prototype), 'componentDidMount', this).call(this);\n\t\n\t      var defaultOptions = this.getDefaultOptions();\n\t\n\t      if (this.props.uploadButton === true) {\n\t        defaultOptions.clickable = (0, _jQuery2.default)(_reactDom2.default.findDOMNode(this)).find('.asset-dropzone__upload-button')[0];\n\t      }\n\t\n\t      this.dropzone = new _dropzone2.default(_reactDom2.default.findDOMNode(this), _extends({}, defaultOptions, this.props.options));\n\t\n\t      if (typeof this.props.promptOnRemove !== 'undefined') {\n\t        this.setPromptOnRemove(this.props.promptOnRemove);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      _get(AssetDropzone.prototype.__proto__ || Object.getPrototypeOf(AssetDropzone.prototype), 'componentWillUnmount', this).call(this);\n\t\n\t      this.dropzone.disable();\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var className = ['asset-dropzone'];\n\t\n\t      var buttonProps = {\n\t        className: 'asset-dropzone__upload-button ss-ui-button font-icon-upload',\n\t        type: 'button'\n\t      };\n\t\n\t      if (!this.props.canUpload) {\n\t        buttonProps.disabled = true;\n\t      }\n\t\n\t      if (this.dragging === true) {\n\t        className.push('dragging');\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: className.join(' ') },\n\t        this.props.uploadButton && _react2.default.createElement(\n\t          'button',\n\t          buttonProps,\n\t          _i18n2.default._t('AssetAdmin.DROPZONE_UPLOAD')\n\t        ),\n\t        this.props.children\n\t      );\n\t    }\n\t  }, {\n\t    key: 'getDefaultOptions',\n\t    value: function getDefaultOptions() {\n\t      return {\n\t        autoProcessQueue: false,\n\t\n\t        addedfile: this.handleAddedFile,\n\t\n\t        dragenter: this.handleDragEnter,\n\t\n\t        dragleave: this.handleDragLeave,\n\t\n\t        drop: this.handleDrop,\n\t\n\t        uploadprogress: this.handleUploadProgress,\n\t\n\t        dictDefaultMessage: _i18n2.default._t('AssetAdmin.DROPZONE_DEFAULT_MESSAGE'),\n\t\n\t        dictFallbackMessage: _i18n2.default._t('AssetAdmin.DROPZONE_FALLBACK_MESSAGE'),\n\t\n\t        dictFallbackText: _i18n2.default._t('AssetAdmin.DROPZONE_FALLBACK_TEXT'),\n\t\n\t        dictInvalidFileType: _i18n2.default._t('AssetAdmin.DROPZONE_INVALID_FILE_TYPE'),\n\t\n\t        dictResponseError: _i18n2.default._t('AssetAdmin.DROPZONE_RESPONSE_ERROR'),\n\t\n\t        dictCancelUpload: _i18n2.default._t('AssetAdmin.DROPZONE_CANCEL_UPLOAD'),\n\t\n\t        dictCancelUploadConfirmation: _i18n2.default._t('AssetAdmin.DROPZONE_CANCEL_UPLOAD_CONFIRMATION'),\n\t\n\t        dictRemoveFile: _i18n2.default._t('AssetAdmin.DROPZONE_REMOVE_FILE'),\n\t\n\t        dictMaxFilesExceeded: _i18n2.default._t('AssetAdmin.DROPZONE_MAX_FILES_EXCEEDED'),\n\t\n\t        error: this.handleError,\n\t\n\t        sending: this.handleSending,\n\t\n\t        success: this.handleSuccess,\n\t\n\t        thumbnailHeight: 150,\n\t\n\t        thumbnailWidth: 200\n\t      };\n\t    }\n\t  }, {\n\t    key: 'getFileCategory',\n\t    value: function getFileCategory(fileType) {\n\t      return fileType.split('/')[0];\n\t    }\n\t  }, {\n\t    key: 'handleDragEnter',\n\t    value: function handleDragEnter(event) {\n\t      if (!this.props.canUpload) {\n\t        return;\n\t      }\n\t\n\t      this.dragging = true;\n\t      this.forceUpdate();\n\t\n\t      if (typeof this.props.handleDragEnter === 'function') {\n\t        this.props.handleDragEnter(event);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleDragLeave',\n\t    value: function handleDragLeave(event) {\n\t      var componentNode = _reactDom2.default.findDOMNode(this);\n\t\n\t      if (!this.props.canUpload) {\n\t        return;\n\t      }\n\t\n\t      if (event.target !== componentNode) {\n\t        return;\n\t      }\n\t\n\t      this.dragging = false;\n\t      this.forceUpdate();\n\t\n\t      if (typeof this.props.handleDragLeave === 'function') {\n\t        this.props.handleDragLeave(event, componentNode);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleUploadProgress',\n\t    value: function handleUploadProgress(file, progress, bytesSent) {\n\t      if (typeof this.props.handleUploadProgress === 'function') {\n\t        this.props.handleUploadProgress(file, progress, bytesSent);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleDrop',\n\t    value: function handleDrop(event) {\n\t      this.dragging = false;\n\t      this.forceUpdate();\n\t\n\t      if (typeof this.props.handleDrop === 'function') {\n\t        this.props.handleDrop(event);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleSending',\n\t    value: function handleSending(file, xhr, formData) {\n\t      formData.append('SecurityID', this.props.securityID);\n\t      formData.append('ParentID', this.props.folderId);\n\t\n\t      if (typeof this.props.handleSending === 'function') {\n\t        this.props.handleSending(file, xhr, formData);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleAddedFile',\n\t    value: function handleAddedFile(file) {\n\t      var _this2 = this;\n\t\n\t      if (!this.props.canUpload) {\n\t        return Promise.reject(new Error(_i18n2.default._t('AssetAdmin.DROPZONE_CANNOT_UPLOAD')));\n\t      }\n\t\n\t      file._queuedAtTime = Date.now();\n\t\n\t      var loadPreview = new Promise(function (resolve) {\n\t        var reader = new FileReader();\n\t\n\t        reader.onload = function (event) {\n\t\n\t          if (_this2.getFileCategory(file.type) === 'image') {\n\t            var img = document.createElement('img');\n\t\n\t            resolve(_this2.loadImage(img, event.target.result));\n\t          } else {\n\t            resolve({});\n\t          }\n\t        };\n\t\n\t        reader.readAsDataURL(file);\n\t      });\n\t\n\t      return loadPreview.then(function (preview) {\n\t        var details = {\n\t          dimensions: {\n\t            height: preview.height,\n\t            width: preview.width\n\t          },\n\t          category: _this2.getFileCategory(file.type),\n\t          filename: file.name,\n\t          queuedAtTime: file._queuedAtTime,\n\t          size: file.size,\n\t          title: file.name,\n\t          type: file.type,\n\t          url: preview.thumbnailURL\n\t        };\n\t\n\t        _this2.props.handleAddedFile(details);\n\t        _this2.dropzone.processFile(file);\n\t\n\t        return details;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'loadImage',\n\t    value: function loadImage(img, newSource) {\n\t      return new Promise(function (resolve) {\n\t        img.onload = function () {\n\t          var canvas = document.createElement('canvas');\n\t          var ctx = canvas.getContext('2d');\n\t\n\t          canvas.width = img.naturalWidth;\n\t          canvas.height = img.naturalHeight;\n\t\n\t          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\t\n\t          var thumbnailURL = canvas.toDataURL();\n\t\n\t          resolve({\n\t            width: canvas.width,\n\t            height: canvas.height,\n\t            thumbnailURL: thumbnailURL\n\t          });\n\t        };\n\t\n\t        img.src = newSource;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'handleError',\n\t    value: function handleError(file, errorMessage) {\n\t      if (typeof this.props.handleSending === 'function') {\n\t        this.props.handleError(file, errorMessage);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'handleSuccess',\n\t    value: function handleSuccess(file) {\n\t      this.props.handleSuccess(file);\n\t    }\n\t  }, {\n\t    key: 'setPromptOnRemove',\n\t    value: function setPromptOnRemove(userPrompt) {\n\t      this.dropzone.options.dictRemoveFileConfirmation = userPrompt;\n\t    }\n\t  }]);\n\t\n\t  return AssetDropzone;\n\t}(_SilverStripeComponent2.default);\n\t\n\tAssetDropzone.propTypes = {\n\t  folderId: _react2.default.PropTypes.number.isRequired,\n\t  handleAddedFile: _react2.default.PropTypes.func.isRequired,\n\t  handleDragEnter: _react2.default.PropTypes.func,\n\t  handleDragLeave: _react2.default.PropTypes.func,\n\t  handleDrop: _react2.default.PropTypes.func,\n\t  handleError: _react2.default.PropTypes.func.isRequired,\n\t  handleSending: _react2.default.PropTypes.func,\n\t  handleSuccess: _react2.default.PropTypes.func.isRequired,\n\t  options: _react2.default.PropTypes.shape({\n\t    url: _react2.default.PropTypes.string.isRequired\n\t  }),\n\t  promptOnRemove: _react2.default.PropTypes.string,\n\t  securityID: _react2.default.PropTypes.string.isRequired,\n\t  uploadButton: _react2.default.PropTypes.bool,\n\t  canUpload: _react2.default.PropTypes.bool.isRequired\n\t};\n\t\n\tAssetDropzone.defaultProps = {\n\t  uploadButton: true\n\t};\n\t\n\texports.default = AssetDropzone;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(jQuery, module) {\n\t/*\n\t *\n\t * More info at [www.dropzonejs.com](http://www.dropzonejs.com)\n\t *\n\t * Copyright (c) 2012, Matias Meno\n\t *\n\t * Permission is hereby granted, free of charge, to any person obtaining a copy\n\t * of this software and associated documentation files (the \"Software\"), to deal\n\t * in the Software without restriction, including without limitation the rights\n\t * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\t * copies of the Software, and to permit persons to whom the Software is\n\t * furnished to do so, subject to the following conditions:\n\t *\n\t * The above copyright notice and this permission notice shall be included in\n\t * all copies or substantial portions of the Software.\n\t *\n\t * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\t * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\t * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\t * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\t * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\t * THE SOFTWARE.\n\t *\n\t */\n\t\n\t(function() {\n\t  var Dropzone, Emitter, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,\n\t    __slice = [].slice,\n\t    __hasProp = {}.hasOwnProperty,\n\t    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\t\n\t  noop = function() {};\n\t\n\t  Emitter = (function() {\n\t    function Emitter() {}\n\t\n\t    Emitter.prototype.addEventListener = Emitter.prototype.on;\n\t\n\t    Emitter.prototype.on = function(event, fn) {\n\t      this._callbacks = this._callbacks || {};\n\t      if (!this._callbacks[event]) {\n\t        this._callbacks[event] = [];\n\t      }\n\t      this._callbacks[event].push(fn);\n\t      return this;\n\t    };\n\t\n\t    Emitter.prototype.emit = function() {\n\t      var args, callback, callbacks, event, _i, _len;\n\t      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n\t      this._callbacks = this._callbacks || {};\n\t      callbacks = this._callbacks[event];\n\t      if (callbacks) {\n\t        for (_i = 0, _len = callbacks.length; _i < _len; _i++) {\n\t          callback = callbacks[_i];\n\t          callback.apply(this, args);\n\t        }\n\t      }\n\t      return this;\n\t    };\n\t\n\t    Emitter.prototype.removeListener = Emitter.prototype.off;\n\t\n\t    Emitter.prototype.removeAllListeners = Emitter.prototype.off;\n\t\n\t    Emitter.prototype.removeEventListener = Emitter.prototype.off;\n\t\n\t    Emitter.prototype.off = function(event, fn) {\n\t      var callback, callbacks, i, _i, _len;\n\t      if (!this._callbacks || arguments.length === 0) {\n\t        this._callbacks = {};\n\t        return this;\n\t      }\n\t      callbacks = this._callbacks[event];\n\t      if (!callbacks) {\n\t        return this;\n\t      }\n\t      if (arguments.length === 1) {\n\t        delete this._callbacks[event];\n\t        return this;\n\t      }\n\t      for (i = _i = 0, _len = callbacks.length; _i < _len; i = ++_i) {\n\t        callback = callbacks[i];\n\t        if (callback === fn) {\n\t          callbacks.splice(i, 1);\n\t          break;\n\t        }\n\t      }\n\t      return this;\n\t    };\n\t\n\t    return Emitter;\n\t\n\t  })();\n\t\n\t  Dropzone = (function(_super) {\n\t    var extend, resolveOption;\n\t\n\t    __extends(Dropzone, _super);\n\t\n\t    Dropzone.prototype.Emitter = Emitter;\n\t\n\t\n\t    /*\n\t    This is a list of all available events you can register on a dropzone object.\n\t    \n\t    You can register an event handler like this:\n\t    \n\t        dropzone.on(\"dragEnter\", function() { });\n\t     */\n\t\n\t    Dropzone.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"addedfiles\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\n\t\n\t    Dropzone.prototype.defaultOptions = {\n\t      url: null,\n\t      method: \"post\",\n\t      withCredentials: false,\n\t      parallelUploads: 2,\n\t      uploadMultiple: false,\n\t      maxFilesize: 256,\n\t      paramName: \"file\",\n\t      createImageThumbnails: true,\n\t      maxThumbnailFilesize: 10,\n\t      thumbnailWidth: 120,\n\t      thumbnailHeight: 120,\n\t      filesizeBase: 1000,\n\t      maxFiles: null,\n\t      params: {},\n\t      clickable: true,\n\t      ignoreHiddenFiles: true,\n\t      acceptedFiles: null,\n\t      acceptedMimeTypes: null,\n\t      autoProcessQueue: true,\n\t      autoQueue: true,\n\t      addRemoveLinks: false,\n\t      previewsContainer: null,\n\t      hiddenInputContainer: \"body\",\n\t      capture: null,\n\t      renameFilename: null,\n\t      dictDefaultMessage: \"Drop files here to upload\",\n\t      dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\n\t      dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\n\t      dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n\t      dictInvalidFileType: \"You can't upload files of this type.\",\n\t      dictResponseError: \"Server responded with {{statusCode}} code.\",\n\t      dictCancelUpload: \"Cancel upload\",\n\t      dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n\t      dictRemoveFile: \"Remove file\",\n\t      dictRemoveFileConfirmation: null,\n\t      dictMaxFilesExceeded: \"You can not upload any more files.\",\n\t      accept: function(file, done) {\n\t        return done();\n\t      },\n\t      init: function() {\n\t        return noop;\n\t      },\n\t      forceFallback: false,\n\t      fallback: function() {\n\t        var child, messageElement, span, _i, _len, _ref;\n\t        this.element.className = \"\" + this.element.className + \" dz-browser-not-supported\";\n\t        _ref = this.element.getElementsByTagName(\"div\");\n\t        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t          child = _ref[_i];\n\t          if (/(^| )dz-message($| )/.test(child.className)) {\n\t            messageElement = child;\n\t            child.className = \"dz-message\";\n\t            continue;\n\t          }\n\t        }\n\t        if (!messageElement) {\n\t          messageElement = Dropzone.createElement(\"<div class=\\\"dz-message\\\"><span></span></div>\");\n\t          this.element.appendChild(messageElement);\n\t        }\n\t        span = messageElement.getElementsByTagName(\"span\")[0];\n\t        if (span) {\n\t          if (span.textContent != null) {\n\t            span.textContent = this.options.dictFallbackMessage;\n\t          } else if (span.innerText != null) {\n\t            span.innerText = this.options.dictFallbackMessage;\n\t          }\n\t        }\n\t        return this.element.appendChild(this.getFallbackForm());\n\t      },\n\t      resize: function(file) {\n\t        var info, srcRatio, trgRatio;\n\t        info = {\n\t          srcX: 0,\n\t          srcY: 0,\n\t          srcWidth: file.width,\n\t          srcHeight: file.height\n\t        };\n\t        srcRatio = file.width / file.height;\n\t        info.optWidth = this.options.thumbnailWidth;\n\t        info.optHeight = this.options.thumbnailHeight;\n\t        if ((info.optWidth == null) && (info.optHeight == null)) {\n\t          info.optWidth = info.srcWidth;\n\t          info.optHeight = info.srcHeight;\n\t        } else if (info.optWidth == null) {\n\t          info.optWidth = srcRatio * info.optHeight;\n\t        } else if (info.optHeight == null) {\n\t          info.optHeight = (1 / srcRatio) * info.optWidth;\n\t        }\n\t        trgRatio = info.optWidth / info.optHeight;\n\t        if (file.height < info.optHeight || file.width < info.optWidth) {\n\t          info.trgHeight = info.srcHeight;\n\t          info.trgWidth = info.srcWidth;\n\t        } else {\n\t          if (srcRatio > trgRatio) {\n\t            info.srcHeight = file.height;\n\t            info.srcWidth = info.srcHeight * trgRatio;\n\t          } else {\n\t            info.srcWidth = file.width;\n\t            info.srcHeight = info.srcWidth / trgRatio;\n\t          }\n\t        }\n\t        info.srcX = (file.width - info.srcWidth) / 2;\n\t        info.srcY = (file.height - info.srcHeight) / 2;\n\t        return info;\n\t      },\n\t\n\t      /*\n\t      Those functions register themselves to the events on init and handle all\n\t      the user interface specific stuff. Overwriting them won't break the upload\n\t      but can break the way it's displayed.\n\t      You can overwrite them if you don't like the default behavior. If you just\n\t      want to add an additional event handler, register it on the dropzone object\n\t      and don't overwrite those options.\n\t       */\n\t      drop: function(e) {\n\t        return this.element.classList.remove(\"dz-drag-hover\");\n\t      },\n\t      dragstart: noop,\n\t      dragend: function(e) {\n\t        return this.element.classList.remove(\"dz-drag-hover\");\n\t      },\n\t      dragenter: function(e) {\n\t        return this.element.classList.add(\"dz-drag-hover\");\n\t      },\n\t      dragover: function(e) {\n\t        return this.element.classList.add(\"dz-drag-hover\");\n\t      },\n\t      dragleave: function(e) {\n\t        return this.element.classList.remove(\"dz-drag-hover\");\n\t      },\n\t      paste: noop,\n\t      reset: function() {\n\t        return this.element.classList.remove(\"dz-started\");\n\t      },\n\t      addedfile: function(file) {\n\t        var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\n\t        if (this.element === this.previewsContainer) {\n\t          this.element.classList.add(\"dz-started\");\n\t        }\n\t        if (this.previewsContainer) {\n\t          file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());\n\t          file.previewTemplate = file.previewElement;\n\t          this.previewsContainer.appendChild(file.previewElement);\n\t          _ref = file.previewElement.querySelectorAll(\"[data-dz-name]\");\n\t          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t            node = _ref[_i];\n\t            node.textContent = this._renameFilename(file.name);\n\t          }\n\t          _ref1 = file.previewElement.querySelectorAll(\"[data-dz-size]\");\n\t          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n\t            node = _ref1[_j];\n\t            node.innerHTML = this.filesize(file.size);\n\t          }\n\t          if (this.options.addRemoveLinks) {\n\t            file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\" + this.options.dictRemoveFile + \"</a>\");\n\t            file.previewElement.appendChild(file._removeLink);\n\t          }\n\t          removeFileEvent = (function(_this) {\n\t            return function(e) {\n\t              e.preventDefault();\n\t              e.stopPropagation();\n\t              if (file.status === Dropzone.UPLOADING) {\n\t                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {\n\t                  return _this.removeFile(file);\n\t                });\n\t              } else {\n\t                if (_this.options.dictRemoveFileConfirmation) {\n\t                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {\n\t                    return _this.removeFile(file);\n\t                  });\n\t                } else {\n\t                  return _this.removeFile(file);\n\t                }\n\t              }\n\t            };\n\t          })(this);\n\t          _ref2 = file.previewElement.querySelectorAll(\"[data-dz-remove]\");\n\t          _results = [];\n\t          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n\t            removeLink = _ref2[_k];\n\t            _results.push(removeLink.addEventListener(\"click\", removeFileEvent));\n\t          }\n\t          return _results;\n\t        }\n\t      },\n\t      removedfile: function(file) {\n\t        var _ref;\n\t        if (file.previewElement) {\n\t          if ((_ref = file.previewElement) != null) {\n\t            _ref.parentNode.removeChild(file.previewElement);\n\t          }\n\t        }\n\t        return this._updateMaxFilesReachedClass();\n\t      },\n\t      thumbnail: function(file, dataUrl) {\n\t        var thumbnailElement, _i, _len, _ref;\n\t        if (file.previewElement) {\n\t          file.previewElement.classList.remove(\"dz-file-preview\");\n\t          _ref = file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\");\n\t          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t            thumbnailElement = _ref[_i];\n\t            thumbnailElement.alt = file.name;\n\t            thumbnailElement.src = dataUrl;\n\t          }\n\t          return setTimeout(((function(_this) {\n\t            return function() {\n\t              return file.previewElement.classList.add(\"dz-image-preview\");\n\t            };\n\t          })(this)), 1);\n\t        }\n\t      },\n\t      error: function(file, message) {\n\t        var node, _i, _len, _ref, _results;\n\t        if (file.previewElement) {\n\t          file.previewElement.classList.add(\"dz-error\");\n\t          if (typeof message !== \"String\" && message.error) {\n\t            message = message.error;\n\t          }\n\t          _ref = file.previewElement.querySelectorAll(\"[data-dz-errormessage]\");\n\t          _results = [];\n\t          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t            node = _ref[_i];\n\t            _results.push(node.textContent = message);\n\t          }\n\t          return _results;\n\t        }\n\t      },\n\t      errormultiple: noop,\n\t      processing: function(file) {\n\t        if (file.previewElement) {\n\t          file.previewElement.classList.add(\"dz-processing\");\n\t          if (file._removeLink) {\n\t            return file._removeLink.textContent = this.options.dictCancelUpload;\n\t          }\n\t        }\n\t      },\n\t      processingmultiple: noop,\n\t      uploadprogress: function(file, progress, bytesSent) {\n\t        var node, _i, _len, _ref, _results;\n\t        if (file.previewElement) {\n\t          _ref = file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\");\n\t          _results = [];\n\t          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t            node = _ref[_i];\n\t            if (node.nodeName === 'PROGRESS') {\n\t              _results.push(node.value = progress);\n\t            } else {\n\t              _results.push(node.style.width = \"\" + progress + \"%\");\n\t            }\n\t          }\n\t          return _results;\n\t        }\n\t      },\n\t      totaluploadprogress: noop,\n\t      sending: noop,\n\t      sendingmultiple: noop,\n\t      success: function(file) {\n\t        if (file.previewElement) {\n\t          return file.previewElement.classList.add(\"dz-success\");\n\t        }\n\t      },\n\t      successmultiple: noop,\n\t      canceled: function(file) {\n\t        return this.emit(\"error\", file, \"Upload canceled.\");\n\t      },\n\t      canceledmultiple: noop,\n\t      complete: function(file) {\n\t        if (file._removeLink) {\n\t          file._removeLink.textContent = this.options.dictRemoveFile;\n\t        }\n\t        if (file.previewElement) {\n\t          return file.previewElement.classList.add(\"dz-complete\");\n\t        }\n\t      },\n\t      completemultiple: noop,\n\t      maxfilesexceeded: noop,\n\t      maxfilesreached: noop,\n\t      queuecomplete: noop,\n\t      addedfiles: noop,\n\t      previewTemplate: \"<div class=\\\"dz-preview dz-file-preview\\\">\\n  <div class=\\\"dz-image\\\"><img data-dz-thumbnail /></div>\\n  <div class=\\\"dz-details\\\">\\n    <div class=\\\"dz-size\\\"><span data-dz-size></span></div>\\n    <div class=\\\"dz-filename\\\"><span data-dz-name></span></div>\\n  </div>\\n  <div class=\\\"dz-progress\\\"><span class=\\\"dz-upload\\\" data-dz-uploadprogress></span></div>\\n  <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div>\\n  <div class=\\\"dz-success-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Check</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n      </g>\\n    </svg>\\n  </div>\\n  <div class=\\\"dz-error-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Error</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Check-+-Oval-2\\\" sketch:type=\\\"MSLayerGroup\\\" stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\">\\n          <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n        </g>\\n      </g>\\n    </svg>\\n  </div>\\n</div>\"\n\t    };\n\t\n\t    extend = function() {\n\t      var key, object, objects, target, val, _i, _len;\n\t      target = arguments[0], objects = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n\t      for (_i = 0, _len = objects.length; _i < _len; _i++) {\n\t        object = objects[_i];\n\t        for (key in object) {\n\t          val = object[key];\n\t          target[key] = val;\n\t        }\n\t      }\n\t      return target;\n\t    };\n\t\n\t    function Dropzone(element, options) {\n\t      var elementOptions, fallback, _ref;\n\t      this.element = element;\n\t      this.version = Dropzone.version;\n\t      this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\\n*/g, \"\");\n\t      this.clickableElements = [];\n\t      this.listeners = [];\n\t      this.files = [];\n\t      if (typeof this.element === \"string\") {\n\t        this.element = document.querySelector(this.element);\n\t      }\n\t      if (!(this.element && (this.element.nodeType != null))) {\n\t        throw new Error(\"Invalid dropzone element.\");\n\t      }\n\t      if (this.element.dropzone) {\n\t        throw new Error(\"Dropzone already attached.\");\n\t      }\n\t      Dropzone.instances.push(this);\n\t      this.element.dropzone = this;\n\t      elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};\n\t      this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});\n\t      if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n\t        return this.options.fallback.call(this);\n\t      }\n\t      if (this.options.url == null) {\n\t        this.options.url = this.element.getAttribute(\"action\");\n\t      }\n\t      if (!this.options.url) {\n\t        throw new Error(\"No URL provided.\");\n\t      }\n\t      if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {\n\t        throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\n\t      }\n\t      if (this.options.acceptedMimeTypes) {\n\t        this.options.acceptedFiles = this.options.acceptedMimeTypes;\n\t        delete this.options.acceptedMimeTypes;\n\t      }\n\t      this.options.method = this.options.method.toUpperCase();\n\t      if ((fallback = this.getExistingFallback()) && fallback.parentNode) {\n\t        fallback.parentNode.removeChild(fallback);\n\t      }\n\t      if (this.options.previewsContainer !== false) {\n\t        if (this.options.previewsContainer) {\n\t          this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, \"previewsContainer\");\n\t        } else {\n\t          this.previewsContainer = this.element;\n\t        }\n\t      }\n\t      if (this.options.clickable) {\n\t        if (this.options.clickable === true) {\n\t          this.clickableElements = [this.element];\n\t        } else {\n\t          this.clickableElements = Dropzone.getElements(this.options.clickable, \"clickable\");\n\t        }\n\t      }\n\t      this.init();\n\t    }\n\t\n\t    Dropzone.prototype.getAcceptedFiles = function() {\n\t      var file, _i, _len, _ref, _results;\n\t      _ref = this.files;\n\t      _results = [];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        file = _ref[_i];\n\t        if (file.accepted) {\n\t          _results.push(file);\n\t        }\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype.getRejectedFiles = function() {\n\t      var file, _i, _len, _ref, _results;\n\t      _ref = this.files;\n\t      _results = [];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        file = _ref[_i];\n\t        if (!file.accepted) {\n\t          _results.push(file);\n\t        }\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype.getFilesWithStatus = function(status) {\n\t      var file, _i, _len, _ref, _results;\n\t      _ref = this.files;\n\t      _results = [];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        file = _ref[_i];\n\t        if (file.status === status) {\n\t          _results.push(file);\n\t        }\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype.getQueuedFiles = function() {\n\t      return this.getFilesWithStatus(Dropzone.QUEUED);\n\t    };\n\t\n\t    Dropzone.prototype.getUploadingFiles = function() {\n\t      return this.getFilesWithStatus(Dropzone.UPLOADING);\n\t    };\n\t\n\t    Dropzone.prototype.getAddedFiles = function() {\n\t      return this.getFilesWithStatus(Dropzone.ADDED);\n\t    };\n\t\n\t    Dropzone.prototype.getActiveFiles = function() {\n\t      var file, _i, _len, _ref, _results;\n\t      _ref = this.files;\n\t      _results = [];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        file = _ref[_i];\n\t        if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {\n\t          _results.push(file);\n\t        }\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype.init = function() {\n\t      var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;\n\t      if (this.element.tagName === \"form\") {\n\t        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n\t      }\n\t      if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\n\t        this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><span>\" + this.options.dictDefaultMessage + \"</span></div>\"));\n\t      }\n\t      if (this.clickableElements.length) {\n\t        setupHiddenFileInput = (function(_this) {\n\t          return function() {\n\t            if (_this.hiddenFileInput) {\n\t              _this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);\n\t            }\n\t            _this.hiddenFileInput = document.createElement(\"input\");\n\t            _this.hiddenFileInput.setAttribute(\"type\", \"file\");\n\t            if ((_this.options.maxFiles == null) || _this.options.maxFiles > 1) {\n\t              _this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n\t            }\n\t            _this.hiddenFileInput.className = \"dz-hidden-input\";\n\t            if (_this.options.acceptedFiles != null) {\n\t              _this.hiddenFileInput.setAttribute(\"accept\", _this.options.acceptedFiles);\n\t            }\n\t            if (_this.options.capture != null) {\n\t              _this.hiddenFileInput.setAttribute(\"capture\", _this.options.capture);\n\t            }\n\t            _this.hiddenFileInput.style.visibility = \"hidden\";\n\t            _this.hiddenFileInput.style.position = \"absolute\";\n\t            _this.hiddenFileInput.style.top = \"0\";\n\t            _this.hiddenFileInput.style.left = \"0\";\n\t            _this.hiddenFileInput.style.height = \"0\";\n\t            _this.hiddenFileInput.style.width = \"0\";\n\t            document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);\n\t            return _this.hiddenFileInput.addEventListener(\"change\", function() {\n\t              var file, files, _i, _len;\n\t              files = _this.hiddenFileInput.files;\n\t              if (files.length) {\n\t                for (_i = 0, _len = files.length; _i < _len; _i++) {\n\t                  file = files[_i];\n\t                  _this.addFile(file);\n\t                }\n\t              }\n\t              _this.emit(\"addedfiles\", files);\n\t              return setupHiddenFileInput();\n\t            });\n\t          };\n\t        })(this);\n\t        setupHiddenFileInput();\n\t      }\n\t      this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;\n\t      _ref1 = this.events;\n\t      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n\t        eventName = _ref1[_i];\n\t        this.on(eventName, this.options[eventName]);\n\t      }\n\t      this.on(\"uploadprogress\", (function(_this) {\n\t        return function() {\n\t          return _this.updateTotalUploadProgress();\n\t        };\n\t      })(this));\n\t      this.on(\"removedfile\", (function(_this) {\n\t        return function() {\n\t          return _this.updateTotalUploadProgress();\n\t        };\n\t      })(this));\n\t      this.on(\"canceled\", (function(_this) {\n\t        return function(file) {\n\t          return _this.emit(\"complete\", file);\n\t        };\n\t      })(this));\n\t      this.on(\"complete\", (function(_this) {\n\t        return function(file) {\n\t          if (_this.getAddedFiles().length === 0 && _this.getUploadingFiles().length === 0 && _this.getQueuedFiles().length === 0) {\n\t            return setTimeout((function() {\n\t              return _this.emit(\"queuecomplete\");\n\t            }), 0);\n\t          }\n\t        };\n\t      })(this));\n\t      noPropagation = function(e) {\n\t        e.stopPropagation();\n\t        if (e.preventDefault) {\n\t          return e.preventDefault();\n\t        } else {\n\t          return e.returnValue = false;\n\t        }\n\t      };\n\t      this.listeners = [\n\t        {\n\t          element: this.element,\n\t          events: {\n\t            \"dragstart\": (function(_this) {\n\t              return function(e) {\n\t                return _this.emit(\"dragstart\", e);\n\t              };\n\t            })(this),\n\t            \"dragenter\": (function(_this) {\n\t              return function(e) {\n\t                noPropagation(e);\n\t                return _this.emit(\"dragenter\", e);\n\t              };\n\t            })(this),\n\t            \"dragover\": (function(_this) {\n\t              return function(e) {\n\t                var efct;\n\t                try {\n\t                  efct = e.dataTransfer.effectAllowed;\n\t                } catch (_error) {}\n\t                e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';\n\t                noPropagation(e);\n\t                return _this.emit(\"dragover\", e);\n\t              };\n\t            })(this),\n\t            \"dragleave\": (function(_this) {\n\t              return function(e) {\n\t                return _this.emit(\"dragleave\", e);\n\t              };\n\t            })(this),\n\t            \"drop\": (function(_this) {\n\t              return function(e) {\n\t                noPropagation(e);\n\t                return _this.drop(e);\n\t              };\n\t            })(this),\n\t            \"dragend\": (function(_this) {\n\t              return function(e) {\n\t                return _this.emit(\"dragend\", e);\n\t              };\n\t            })(this)\n\t          }\n\t        }\n\t      ];\n\t      this.clickableElements.forEach((function(_this) {\n\t        return function(clickableElement) {\n\t          return _this.listeners.push({\n\t            element: clickableElement,\n\t            events: {\n\t              \"click\": function(evt) {\n\t                if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(\".dz-message\")))) {\n\t                  _this.hiddenFileInput.click();\n\t                }\n\t                return true;\n\t              }\n\t            }\n\t          });\n\t        };\n\t      })(this));\n\t      this.enable();\n\t      return this.options.init.call(this);\n\t    };\n\t\n\t    Dropzone.prototype.destroy = function() {\n\t      var _ref;\n\t      this.disable();\n\t      this.removeAllFiles(true);\n\t      if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {\n\t        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n\t        this.hiddenFileInput = null;\n\t      }\n\t      delete this.element.dropzone;\n\t      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n\t    };\n\t\n\t    Dropzone.prototype.updateTotalUploadProgress = function() {\n\t      var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;\n\t      totalBytesSent = 0;\n\t      totalBytes = 0;\n\t      activeFiles = this.getActiveFiles();\n\t      if (activeFiles.length) {\n\t        _ref = this.getActiveFiles();\n\t        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t          file = _ref[_i];\n\t          totalBytesSent += file.upload.bytesSent;\n\t          totalBytes += file.upload.total;\n\t        }\n\t        totalUploadProgress = 100 * totalBytesSent / totalBytes;\n\t      } else {\n\t        totalUploadProgress = 100;\n\t      }\n\t      return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\n\t    };\n\t\n\t    Dropzone.prototype._getParamName = function(n) {\n\t      if (typeof this.options.paramName === \"function\") {\n\t        return this.options.paramName(n);\n\t      } else {\n\t        return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype._renameFilename = function(name) {\n\t      if (typeof this.options.renameFilename !== \"function\") {\n\t        return name;\n\t      }\n\t      return this.options.renameFilename(name);\n\t    };\n\t\n\t    Dropzone.prototype.getFallbackForm = function() {\n\t      var existingFallback, fields, fieldsString, form;\n\t      if (existingFallback = this.getExistingFallback()) {\n\t        return existingFallback;\n\t      }\n\t      fieldsString = \"<div class=\\\"dz-fallback\\\">\";\n\t      if (this.options.dictFallbackText) {\n\t        fieldsString += \"<p>\" + this.options.dictFallbackText + \"</p>\";\n\t      }\n\t      fieldsString += \"<input type=\\\"file\\\" name=\\\"\" + (this._getParamName(0)) + \"\\\" \" + (this.options.uploadMultiple ? 'multiple=\"multiple\"' : void 0) + \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\";\n\t      fields = Dropzone.createElement(fieldsString);\n\t      if (this.element.tagName !== \"FORM\") {\n\t        form = Dropzone.createElement(\"<form action=\\\"\" + this.options.url + \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\" + this.options.method + \"\\\"></form>\");\n\t        form.appendChild(fields);\n\t      } else {\n\t        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n\t        this.element.setAttribute(\"method\", this.options.method);\n\t      }\n\t      return form != null ? form : fields;\n\t    };\n\t\n\t    Dropzone.prototype.getExistingFallback = function() {\n\t      var fallback, getFallback, tagName, _i, _len, _ref;\n\t      getFallback = function(elements) {\n\t        var el, _i, _len;\n\t        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n\t          el = elements[_i];\n\t          if (/(^| )fallback($| )/.test(el.className)) {\n\t            return el;\n\t          }\n\t        }\n\t      };\n\t      _ref = [\"div\", \"form\"];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        tagName = _ref[_i];\n\t        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\n\t          return fallback;\n\t        }\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype.setupEventListeners = function() {\n\t      var elementListeners, event, listener, _i, _len, _ref, _results;\n\t      _ref = this.listeners;\n\t      _results = [];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        elementListeners = _ref[_i];\n\t        _results.push((function() {\n\t          var _ref1, _results1;\n\t          _ref1 = elementListeners.events;\n\t          _results1 = [];\n\t          for (event in _ref1) {\n\t            listener = _ref1[event];\n\t            _results1.push(elementListeners.element.addEventListener(event, listener, false));\n\t          }\n\t          return _results1;\n\t        })());\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype.removeEventListeners = function() {\n\t      var elementListeners, event, listener, _i, _len, _ref, _results;\n\t      _ref = this.listeners;\n\t      _results = [];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        elementListeners = _ref[_i];\n\t        _results.push((function() {\n\t          var _ref1, _results1;\n\t          _ref1 = elementListeners.events;\n\t          _results1 = [];\n\t          for (event in _ref1) {\n\t            listener = _ref1[event];\n\t            _results1.push(elementListeners.element.removeEventListener(event, listener, false));\n\t          }\n\t          return _results1;\n\t        })());\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype.disable = function() {\n\t      var file, _i, _len, _ref, _results;\n\t      this.clickableElements.forEach(function(element) {\n\t        return element.classList.remove(\"dz-clickable\");\n\t      });\n\t      this.removeEventListeners();\n\t      _ref = this.files;\n\t      _results = [];\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        file = _ref[_i];\n\t        _results.push(this.cancelUpload(file));\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype.enable = function() {\n\t      this.clickableElements.forEach(function(element) {\n\t        return element.classList.add(\"dz-clickable\");\n\t      });\n\t      return this.setupEventListeners();\n\t    };\n\t\n\t    Dropzone.prototype.filesize = function(size) {\n\t      var cutoff, i, selectedSize, selectedUnit, unit, units, _i, _len;\n\t      selectedSize = 0;\n\t      selectedUnit = \"b\";\n\t      if (size > 0) {\n\t        units = ['TB', 'GB', 'MB', 'KB', 'b'];\n\t        for (i = _i = 0, _len = units.length; _i < _len; i = ++_i) {\n\t          unit = units[i];\n\t          cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n\t          if (size >= cutoff) {\n\t            selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n\t            selectedUnit = unit;\n\t            break;\n\t          }\n\t        }\n\t        selectedSize = Math.round(10 * selectedSize) / 10;\n\t      }\n\t      return \"<strong>\" + selectedSize + \"</strong> \" + selectedUnit;\n\t    };\n\t\n\t    Dropzone.prototype._updateMaxFilesReachedClass = function() {\n\t      if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n\t        if (this.getAcceptedFiles().length === this.options.maxFiles) {\n\t          this.emit('maxfilesreached', this.files);\n\t        }\n\t        return this.element.classList.add(\"dz-max-files-reached\");\n\t      } else {\n\t        return this.element.classList.remove(\"dz-max-files-reached\");\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype.drop = function(e) {\n\t      var files, items;\n\t      if (!e.dataTransfer) {\n\t        return;\n\t      }\n\t      this.emit(\"drop\", e);\n\t      files = e.dataTransfer.files;\n\t      this.emit(\"addedfiles\", files);\n\t      if (files.length) {\n\t        items = e.dataTransfer.items;\n\t        if (items && items.length && (items[0].webkitGetAsEntry != null)) {\n\t          this._addFilesFromItems(items);\n\t        } else {\n\t          this.handleFiles(files);\n\t        }\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype.paste = function(e) {\n\t      var items, _ref;\n\t      if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {\n\t        return;\n\t      }\n\t      this.emit(\"paste\", e);\n\t      items = e.clipboardData.items;\n\t      if (items.length) {\n\t        return this._addFilesFromItems(items);\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype.handleFiles = function(files) {\n\t      var file, _i, _len, _results;\n\t      _results = [];\n\t      for (_i = 0, _len = files.length; _i < _len; _i++) {\n\t        file = files[_i];\n\t        _results.push(this.addFile(file));\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype._addFilesFromItems = function(items) {\n\t      var entry, item, _i, _len, _results;\n\t      _results = [];\n\t      for (_i = 0, _len = items.length; _i < _len; _i++) {\n\t        item = items[_i];\n\t        if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\n\t          if (entry.isFile) {\n\t            _results.push(this.addFile(item.getAsFile()));\n\t          } else if (entry.isDirectory) {\n\t            _results.push(this._addFilesFromDirectory(entry, entry.name));\n\t          } else {\n\t            _results.push(void 0);\n\t          }\n\t        } else if (item.getAsFile != null) {\n\t          if ((item.kind == null) || item.kind === \"file\") {\n\t            _results.push(this.addFile(item.getAsFile()));\n\t          } else {\n\t            _results.push(void 0);\n\t          }\n\t        } else {\n\t          _results.push(void 0);\n\t        }\n\t      }\n\t      return _results;\n\t    };\n\t\n\t    Dropzone.prototype._addFilesFromDirectory = function(directory, path) {\n\t      var dirReader, errorHandler, readEntries;\n\t      dirReader = directory.createReader();\n\t      errorHandler = function(error) {\n\t        return typeof console !== \"undefined\" && console !== null ? typeof console.log === \"function\" ? console.log(error) : void 0 : void 0;\n\t      };\n\t      readEntries = (function(_this) {\n\t        return function() {\n\t          return dirReader.readEntries(function(entries) {\n\t            var entry, _i, _len;\n\t            if (entries.length > 0) {\n\t              for (_i = 0, _len = entries.length; _i < _len; _i++) {\n\t                entry = entries[_i];\n\t                if (entry.isFile) {\n\t                  entry.file(function(file) {\n\t                    if (_this.options.ignoreHiddenFiles && file.name.substring(0, 1) === '.') {\n\t                      return;\n\t                    }\n\t                    file.fullPath = \"\" + path + \"/\" + file.name;\n\t                    return _this.addFile(file);\n\t                  });\n\t                } else if (entry.isDirectory) {\n\t                  _this._addFilesFromDirectory(entry, \"\" + path + \"/\" + entry.name);\n\t                }\n\t              }\n\t              readEntries();\n\t            }\n\t            return null;\n\t          }, errorHandler);\n\t        };\n\t      })(this);\n\t      return readEntries();\n\t    };\n\t\n\t    Dropzone.prototype.accept = function(file, done) {\n\t      if (file.size > this.options.maxFilesize * 1024 * 1024) {\n\t        return done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\n\t      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n\t        return done(this.options.dictInvalidFileType);\n\t      } else if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n\t        done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\n\t        return this.emit(\"maxfilesexceeded\", file);\n\t      } else {\n\t        return this.options.accept.call(this, file, done);\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype.addFile = function(file) {\n\t      file.upload = {\n\t        progress: 0,\n\t        total: file.size,\n\t        bytesSent: 0\n\t      };\n\t      this.files.push(file);\n\t      file.status = Dropzone.ADDED;\n\t      this.emit(\"addedfile\", file);\n\t      this._enqueueThumbnail(file);\n\t      return this.accept(file, (function(_this) {\n\t        return function(error) {\n\t          if (error) {\n\t            file.accepted = false;\n\t            _this._errorProcessing([file], error);\n\t          } else {\n\t            file.accepted = true;\n\t            if (_this.options.autoQueue) {\n\t              _this.enqueueFile(file);\n\t            }\n\t          }\n\t          return _this._updateMaxFilesReachedClass();\n\t        };\n\t      })(this));\n\t    };\n\t\n\t    Dropzone.prototype.enqueueFiles = function(files) {\n\t      var file, _i, _len;\n\t      for (_i = 0, _len = files.length; _i < _len; _i++) {\n\t        file = files[_i];\n\t        this.enqueueFile(file);\n\t      }\n\t      return null;\n\t    };\n\t\n\t    Dropzone.prototype.enqueueFile = function(file) {\n\t      if (file.status === Dropzone.ADDED && file.accepted === true) {\n\t        file.status = Dropzone.QUEUED;\n\t        if (this.options.autoProcessQueue) {\n\t          return setTimeout(((function(_this) {\n\t            return function() {\n\t              return _this.processQueue();\n\t            };\n\t          })(this)), 0);\n\t        }\n\t      } else {\n\t        throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype._thumbnailQueue = [];\n\t\n\t    Dropzone.prototype._processingThumbnail = false;\n\t\n\t    Dropzone.prototype._enqueueThumbnail = function(file) {\n\t      if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\n\t        this._thumbnailQueue.push(file);\n\t        return setTimeout(((function(_this) {\n\t          return function() {\n\t            return _this._processThumbnailQueue();\n\t          };\n\t        })(this)), 0);\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype._processThumbnailQueue = function() {\n\t      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n\t        return;\n\t      }\n\t      this._processingThumbnail = true;\n\t      return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {\n\t        return function() {\n\t          _this._processingThumbnail = false;\n\t          return _this._processThumbnailQueue();\n\t        };\n\t      })(this));\n\t    };\n\t\n\t    Dropzone.prototype.removeFile = function(file) {\n\t      if (file.status === Dropzone.UPLOADING) {\n\t        this.cancelUpload(file);\n\t      }\n\t      this.files = without(this.files, file);\n\t      this.emit(\"removedfile\", file);\n\t      if (this.files.length === 0) {\n\t        return this.emit(\"reset\");\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {\n\t      var file, _i, _len, _ref;\n\t      if (cancelIfNecessary == null) {\n\t        cancelIfNecessary = false;\n\t      }\n\t      _ref = this.files.slice();\n\t      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t        file = _ref[_i];\n\t        if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n\t          this.removeFile(file);\n\t        }\n\t      }\n\t      return null;\n\t    };\n\t\n\t    Dropzone.prototype.createThumbnail = function(file, callback) {\n\t      var fileReader;\n\t      fileReader = new FileReader;\n\t      fileReader.onload = (function(_this) {\n\t        return function() {\n\t          if (file.type === \"image/svg+xml\") {\n\t            _this.emit(\"thumbnail\", file, fileReader.result);\n\t            if (callback != null) {\n\t              callback();\n\t            }\n\t            return;\n\t          }\n\t          return _this.createThumbnailFromUrl(file, fileReader.result, callback);\n\t        };\n\t      })(this);\n\t      return fileReader.readAsDataURL(file);\n\t    };\n\t\n\t    Dropzone.prototype.createThumbnailFromUrl = function(file, imageUrl, callback, crossOrigin) {\n\t      var img;\n\t      img = document.createElement(\"img\");\n\t      if (crossOrigin) {\n\t        img.crossOrigin = crossOrigin;\n\t      }\n\t      img.onload = (function(_this) {\n\t        return function() {\n\t          var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;\n\t          file.width = img.width;\n\t          file.height = img.height;\n\t          resizeInfo = _this.options.resize.call(_this, file);\n\t          if (resizeInfo.trgWidth == null) {\n\t            resizeInfo.trgWidth = resizeInfo.optWidth;\n\t          }\n\t          if (resizeInfo.trgHeight == null) {\n\t            resizeInfo.trgHeight = resizeInfo.optHeight;\n\t          }\n\t          canvas = document.createElement(\"canvas\");\n\t          ctx = canvas.getContext(\"2d\");\n\t          canvas.width = resizeInfo.trgWidth;\n\t          canvas.height = resizeInfo.trgHeight;\n\t          drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\n\t          thumbnail = canvas.toDataURL(\"image/png\");\n\t          _this.emit(\"thumbnail\", file, thumbnail);\n\t          if (callback != null) {\n\t            return callback();\n\t          }\n\t        };\n\t      })(this);\n\t      if (callback != null) {\n\t        img.onerror = callback;\n\t      }\n\t      return img.src = imageUrl;\n\t    };\n\t\n\t    Dropzone.prototype.processQueue = function() {\n\t      var i, parallelUploads, processingLength, queuedFiles;\n\t      parallelUploads = this.options.parallelUploads;\n\t      processingLength = this.getUploadingFiles().length;\n\t      i = processingLength;\n\t      if (processingLength >= parallelUploads) {\n\t        return;\n\t      }\n\t      queuedFiles = this.getQueuedFiles();\n\t      if (!(queuedFiles.length > 0)) {\n\t        return;\n\t      }\n\t      if (this.options.uploadMultiple) {\n\t        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\n\t      } else {\n\t        while (i < parallelUploads) {\n\t          if (!queuedFiles.length) {\n\t            return;\n\t          }\n\t          this.processFile(queuedFiles.shift());\n\t          i++;\n\t        }\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype.processFile = function(file) {\n\t      return this.processFiles([file]);\n\t    };\n\t\n\t    Dropzone.prototype.processFiles = function(files) {\n\t      var file, _i, _len;\n\t      for (_i = 0, _len = files.length; _i < _len; _i++) {\n\t        file = files[_i];\n\t        file.processing = true;\n\t        file.status = Dropzone.UPLOADING;\n\t        this.emit(\"processing\", file);\n\t      }\n\t      if (this.options.uploadMultiple) {\n\t        this.emit(\"processingmultiple\", files);\n\t      }\n\t      return this.uploadFiles(files);\n\t    };\n\t\n\t    Dropzone.prototype._getFilesWithXhr = function(xhr) {\n\t      var file, files;\n\t      return files = (function() {\n\t        var _i, _len, _ref, _results;\n\t        _ref = this.files;\n\t        _results = [];\n\t        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t          file = _ref[_i];\n\t          if (file.xhr === xhr) {\n\t            _results.push(file);\n\t          }\n\t        }\n\t        return _results;\n\t      }).call(this);\n\t    };\n\t\n\t    Dropzone.prototype.cancelUpload = function(file) {\n\t      var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;\n\t      if (file.status === Dropzone.UPLOADING) {\n\t        groupedFiles = this._getFilesWithXhr(file.xhr);\n\t        for (_i = 0, _len = groupedFiles.length; _i < _len; _i++) {\n\t          groupedFile = groupedFiles[_i];\n\t          groupedFile.status = Dropzone.CANCELED;\n\t        }\n\t        file.xhr.abort();\n\t        for (_j = 0, _len1 = groupedFiles.length; _j < _len1; _j++) {\n\t          groupedFile = groupedFiles[_j];\n\t          this.emit(\"canceled\", groupedFile);\n\t        }\n\t        if (this.options.uploadMultiple) {\n\t          this.emit(\"canceledmultiple\", groupedFiles);\n\t        }\n\t      } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {\n\t        file.status = Dropzone.CANCELED;\n\t        this.emit(\"canceled\", file);\n\t        if (this.options.uploadMultiple) {\n\t          this.emit(\"canceledmultiple\", [file]);\n\t        }\n\t      }\n\t      if (this.options.autoProcessQueue) {\n\t        return this.processQueue();\n\t      }\n\t    };\n\t\n\t    resolveOption = function() {\n\t      var args, option;\n\t      option = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n\t      if (typeof option === 'function') {\n\t        return option.apply(this, args);\n\t      }\n\t      return option;\n\t    };\n\t\n\t    Dropzone.prototype.uploadFile = function(file) {\n\t      return this.uploadFiles([file]);\n\t    };\n\t\n\t    Dropzone.prototype.uploadFiles = function(files) {\n\t      var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, method, option, progressObj, response, updateProgress, url, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n\t      xhr = new XMLHttpRequest();\n\t      for (_i = 0, _len = files.length; _i < _len; _i++) {\n\t        file = files[_i];\n\t        file.xhr = xhr;\n\t      }\n\t      method = resolveOption(this.options.method, files);\n\t      url = resolveOption(this.options.url, files);\n\t      xhr.open(method, url, true);\n\t      xhr.withCredentials = !!this.options.withCredentials;\n\t      response = null;\n\t      handleError = (function(_this) {\n\t        return function() {\n\t          var _j, _len1, _results;\n\t          _results = [];\n\t          for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n\t            file = files[_j];\n\t            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr));\n\t          }\n\t          return _results;\n\t        };\n\t      })(this);\n\t      updateProgress = (function(_this) {\n\t        return function(e) {\n\t          var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;\n\t          if (e != null) {\n\t            progress = 100 * e.loaded / e.total;\n\t            for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n\t              file = files[_j];\n\t              file.upload = {\n\t                progress: progress,\n\t                total: e.total,\n\t                bytesSent: e.loaded\n\t              };\n\t            }\n\t          } else {\n\t            allFilesFinished = true;\n\t            progress = 100;\n\t            for (_k = 0, _len2 = files.length; _k < _len2; _k++) {\n\t              file = files[_k];\n\t              if (!(file.upload.progress === 100 && file.upload.bytesSent === file.upload.total)) {\n\t                allFilesFinished = false;\n\t              }\n\t              file.upload.progress = progress;\n\t              file.upload.bytesSent = file.upload.total;\n\t            }\n\t            if (allFilesFinished) {\n\t              return;\n\t            }\n\t          }\n\t          _results = [];\n\t          for (_l = 0, _len3 = files.length; _l < _len3; _l++) {\n\t            file = files[_l];\n\t            _results.push(_this.emit(\"uploadprogress\", file, progress, file.upload.bytesSent));\n\t          }\n\t          return _results;\n\t        };\n\t      })(this);\n\t      xhr.onload = (function(_this) {\n\t        return function(e) {\n\t          var _ref;\n\t          if (files[0].status === Dropzone.CANCELED) {\n\t            return;\n\t          }\n\t          if (xhr.readyState !== 4) {\n\t            return;\n\t          }\n\t          response = xhr.responseText;\n\t          if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\n\t            try {\n\t              response = JSON.parse(response);\n\t            } catch (_error) {\n\t              e = _error;\n\t              response = \"Invalid JSON response from server.\";\n\t            }\n\t          }\n\t          updateProgress();\n\t          if (!((200 <= (_ref = xhr.status) && _ref < 300))) {\n\t            return handleError();\n\t          } else {\n\t            return _this._finished(files, response, e);\n\t          }\n\t        };\n\t      })(this);\n\t      xhr.onerror = (function(_this) {\n\t        return function() {\n\t          if (files[0].status === Dropzone.CANCELED) {\n\t            return;\n\t          }\n\t          return handleError();\n\t        };\n\t      })(this);\n\t      progressObj = (_ref = xhr.upload) != null ? _ref : xhr;\n\t      progressObj.onprogress = updateProgress;\n\t      headers = {\n\t        \"Accept\": \"application/json\",\n\t        \"Cache-Control\": \"no-cache\",\n\t        \"X-Requested-With\": \"XMLHttpRequest\"\n\t      };\n\t      if (this.options.headers) {\n\t        extend(headers, this.options.headers);\n\t      }\n\t      for (headerName in headers) {\n\t        headerValue = headers[headerName];\n\t        if (headerValue) {\n\t          xhr.setRequestHeader(headerName, headerValue);\n\t        }\n\t      }\n\t      formData = new FormData();\n\t      if (this.options.params) {\n\t        _ref1 = this.options.params;\n\t        for (key in _ref1) {\n\t          value = _ref1[key];\n\t          formData.append(key, value);\n\t        }\n\t      }\n\t      for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n\t        file = files[_j];\n\t        this.emit(\"sending\", file, xhr, formData);\n\t      }\n\t      if (this.options.uploadMultiple) {\n\t        this.emit(\"sendingmultiple\", files, xhr, formData);\n\t      }\n\t      if (this.element.tagName === \"FORM\") {\n\t        _ref2 = this.element.querySelectorAll(\"input, textarea, select, button\");\n\t        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n\t          input = _ref2[_k];\n\t          inputName = input.getAttribute(\"name\");\n\t          inputType = input.getAttribute(\"type\");\n\t          if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n\t            _ref3 = input.options;\n\t            for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {\n\t              option = _ref3[_l];\n\t              if (option.selected) {\n\t                formData.append(inputName, option.value);\n\t              }\n\t            }\n\t          } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== \"checkbox\" && _ref4 !== \"radio\") || input.checked) {\n\t            formData.append(inputName, input.value);\n\t          }\n\t        }\n\t      }\n\t      for (i = _m = 0, _ref5 = files.length - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; i = 0 <= _ref5 ? ++_m : --_m) {\n\t        formData.append(this._getParamName(i), files[i], this._renameFilename(files[i].name));\n\t      }\n\t      return this.submitRequest(xhr, formData, files);\n\t    };\n\t\n\t    Dropzone.prototype.submitRequest = function(xhr, formData, files) {\n\t      return xhr.send(formData);\n\t    };\n\t\n\t    Dropzone.prototype._finished = function(files, responseText, e) {\n\t      var file, _i, _len;\n\t      for (_i = 0, _len = files.length; _i < _len; _i++) {\n\t        file = files[_i];\n\t        file.status = Dropzone.SUCCESS;\n\t        this.emit(\"success\", file, responseText, e);\n\t        this.emit(\"complete\", file);\n\t      }\n\t      if (this.options.uploadMultiple) {\n\t        this.emit(\"successmultiple\", files, responseText, e);\n\t        this.emit(\"completemultiple\", files);\n\t      }\n\t      if (this.options.autoProcessQueue) {\n\t        return this.processQueue();\n\t      }\n\t    };\n\t\n\t    Dropzone.prototype._errorProcessing = function(files, message, xhr) {\n\t      var file, _i, _len;\n\t      for (_i = 0, _len = files.length; _i < _len; _i++) {\n\t        file = files[_i];\n\t        file.status = Dropzone.ERROR;\n\t        this.emit(\"error\", file, message, xhr);\n\t        this.emit(\"complete\", file);\n\t      }\n\t      if (this.options.uploadMultiple) {\n\t        this.emit(\"errormultiple\", files, message, xhr);\n\t        this.emit(\"completemultiple\", files);\n\t      }\n\t      if (this.options.autoProcessQueue) {\n\t        return this.processQueue();\n\t      }\n\t    };\n\t\n\t    return Dropzone;\n\t\n\t  })(Emitter);\n\t\n\t  Dropzone.version = \"4.3.0\";\n\t\n\t  Dropzone.options = {};\n\t\n\t  Dropzone.optionsForElement = function(element) {\n\t    if (element.getAttribute(\"id\")) {\n\t      return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n\t    } else {\n\t      return void 0;\n\t    }\n\t  };\n\t\n\t  Dropzone.instances = [];\n\t\n\t  Dropzone.forElement = function(element) {\n\t    if (typeof element === \"string\") {\n\t      element = document.querySelector(element);\n\t    }\n\t    if ((element != null ? element.dropzone : void 0) == null) {\n\t      throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\n\t    }\n\t    return element.dropzone;\n\t  };\n\t\n\t  Dropzone.autoDiscover = true;\n\t\n\t  Dropzone.discover = function() {\n\t    var checkElements, dropzone, dropzones, _i, _len, _results;\n\t    if (document.querySelectorAll) {\n\t      dropzones = document.querySelectorAll(\".dropzone\");\n\t    } else {\n\t      dropzones = [];\n\t      checkElements = function(elements) {\n\t        var el, _i, _len, _results;\n\t        _results = [];\n\t        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n\t          el = elements[_i];\n\t          if (/(^| )dropzone($| )/.test(el.className)) {\n\t            _results.push(dropzones.push(el));\n\t          } else {\n\t            _results.push(void 0);\n\t          }\n\t        }\n\t        return _results;\n\t      };\n\t      checkElements(document.getElementsByTagName(\"div\"));\n\t      checkElements(document.getElementsByTagName(\"form\"));\n\t    }\n\t    _results = [];\n\t    for (_i = 0, _len = dropzones.length; _i < _len; _i++) {\n\t      dropzone = dropzones[_i];\n\t      if (Dropzone.optionsForElement(dropzone) !== false) {\n\t        _results.push(new Dropzone(dropzone));\n\t      } else {\n\t        _results.push(void 0);\n\t      }\n\t    }\n\t    return _results;\n\t  };\n\t\n\t  Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\\/12/i];\n\t\n\t  Dropzone.isBrowserSupported = function() {\n\t    var capableBrowser, regex, _i, _len, _ref;\n\t    capableBrowser = true;\n\t    if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\n\t      if (!(\"classList\" in document.createElement(\"a\"))) {\n\t        capableBrowser = false;\n\t      } else {\n\t        _ref = Dropzone.blacklistedBrowsers;\n\t        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t          regex = _ref[_i];\n\t          if (regex.test(navigator.userAgent)) {\n\t            capableBrowser = false;\n\t            continue;\n\t          }\n\t        }\n\t      }\n\t    } else {\n\t      capableBrowser = false;\n\t    }\n\t    return capableBrowser;\n\t  };\n\t\n\t  without = function(list, rejectedItem) {\n\t    var item, _i, _len, _results;\n\t    _results = [];\n\t    for (_i = 0, _len = list.length; _i < _len; _i++) {\n\t      item = list[_i];\n\t      if (item !== rejectedItem) {\n\t        _results.push(item);\n\t      }\n\t    }\n\t    return _results;\n\t  };\n\t\n\t  camelize = function(str) {\n\t    return str.replace(/[\\-_](\\w)/g, function(match) {\n\t      return match.charAt(1).toUpperCase();\n\t    });\n\t  };\n\t\n\t  Dropzone.createElement = function(string) {\n\t    var div;\n\t    div = document.createElement(\"div\");\n\t    div.innerHTML = string;\n\t    return div.childNodes[0];\n\t  };\n\t\n\t  Dropzone.elementInside = function(element, container) {\n\t    if (element === container) {\n\t      return true;\n\t    }\n\t    while (element = element.parentNode) {\n\t      if (element === container) {\n\t        return true;\n\t      }\n\t    }\n\t    return false;\n\t  };\n\t\n\t  Dropzone.getElement = function(el, name) {\n\t    var element;\n\t    if (typeof el === \"string\") {\n\t      element = document.querySelector(el);\n\t    } else if (el.nodeType != null) {\n\t      element = el;\n\t    }\n\t    if (element == null) {\n\t      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector or a plain HTML element.\");\n\t    }\n\t    return element;\n\t  };\n\t\n\t  Dropzone.getElements = function(els, name) {\n\t    var e, el, elements, _i, _j, _len, _len1, _ref;\n\t    if (els instanceof Array) {\n\t      elements = [];\n\t      try {\n\t        for (_i = 0, _len = els.length; _i < _len; _i++) {\n\t          el = els[_i];\n\t          elements.push(this.getElement(el, name));\n\t        }\n\t      } catch (_error) {\n\t        e = _error;\n\t        elements = null;\n\t      }\n\t    } else if (typeof els === \"string\") {\n\t      elements = [];\n\t      _ref = document.querySelectorAll(els);\n\t      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n\t        el = _ref[_j];\n\t        elements.push(el);\n\t      }\n\t    } else if (els.nodeType != null) {\n\t      elements = [els];\n\t    }\n\t    if (!((elements != null) && elements.length)) {\n\t      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\");\n\t    }\n\t    return elements;\n\t  };\n\t\n\t  Dropzone.confirm = function(question, accepted, rejected) {\n\t    if (window.confirm(question)) {\n\t      return accepted();\n\t    } else if (rejected != null) {\n\t      return rejected();\n\t    }\n\t  };\n\t\n\t  Dropzone.isValidFile = function(file, acceptedFiles) {\n\t    var baseMimeType, mimeType, validType, _i, _len;\n\t    if (!acceptedFiles) {\n\t      return true;\n\t    }\n\t    acceptedFiles = acceptedFiles.split(\",\");\n\t    mimeType = file.type;\n\t    baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n\t    for (_i = 0, _len = acceptedFiles.length; _i < _len; _i++) {\n\t      validType = acceptedFiles[_i];\n\t      validType = validType.trim();\n\t      if (validType.charAt(0) === \".\") {\n\t        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n\t          return true;\n\t        }\n\t      } else if (/\\/\\*$/.test(validType)) {\n\t        if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n\t          return true;\n\t        }\n\t      } else {\n\t        if (mimeType === validType) {\n\t          return true;\n\t        }\n\t      }\n\t    }\n\t    return false;\n\t  };\n\t\n\t  if (typeof jQuery !== \"undefined\" && jQuery !== null) {\n\t    jQuery.fn.dropzone = function(options) {\n\t      return this.each(function() {\n\t        return new Dropzone(this, options);\n\t      });\n\t    };\n\t  }\n\t\n\t  if (typeof module !== \"undefined\" && module !== null) {\n\t    module.exports = Dropzone;\n\t  } else {\n\t    window.Dropzone = Dropzone;\n\t  }\n\t\n\t  Dropzone.ADDED = \"added\";\n\t\n\t  Dropzone.QUEUED = \"queued\";\n\t\n\t  Dropzone.ACCEPTED = Dropzone.QUEUED;\n\t\n\t  Dropzone.UPLOADING = \"uploading\";\n\t\n\t  Dropzone.PROCESSING = Dropzone.UPLOADING;\n\t\n\t  Dropzone.CANCELED = \"canceled\";\n\t\n\t  Dropzone.ERROR = \"error\";\n\t\n\t  Dropzone.SUCCESS = \"success\";\n\t\n\t\n\t  /*\n\t  \n\t  Bugfix for iOS 6 and 7\n\t  Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n\t  based on the work of https://github.com/stomita/ios-imagefile-megapixel\n\t   */\n\t\n\t  detectVerticalSquash = function(img) {\n\t    var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;\n\t    iw = img.naturalWidth;\n\t    ih = img.naturalHeight;\n\t    canvas = document.createElement(\"canvas\");\n\t    canvas.width = 1;\n\t    canvas.height = ih;\n\t    ctx = canvas.getContext(\"2d\");\n\t    ctx.drawImage(img, 0, 0);\n\t    data = ctx.getImageData(0, 0, 1, ih).data;\n\t    sy = 0;\n\t    ey = ih;\n\t    py = ih;\n\t    while (py > sy) {\n\t      alpha = data[(py - 1) * 4 + 3];\n\t      if (alpha === 0) {\n\t        ey = py;\n\t      } else {\n\t        sy = py;\n\t      }\n\t      py = (ey + sy) >> 1;\n\t    }\n\t    ratio = py / ih;\n\t    if (ratio === 0) {\n\t      return 1;\n\t    } else {\n\t      return ratio;\n\t    }\n\t  };\n\t\n\t  drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n\t    var vertSquashRatio;\n\t    vertSquashRatio = detectVerticalSquash(img);\n\t    return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n\t  };\n\t\n\t\n\t  /*\n\t   * contentloaded.js\n\t   *\n\t   * Author: Diego Perini (diego.perini at gmail.com)\n\t   * Summary: cross-browser wrapper for DOMContentLoaded\n\t   * Updated: 20101020\n\t   * License: MIT\n\t   * Version: 1.2\n\t   *\n\t   * URL:\n\t   * http://javascript.nwbox.com/ContentLoaded/\n\t   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n\t   */\n\t\n\t  contentLoaded = function(win, fn) {\n\t    var add, doc, done, init, poll, pre, rem, root, top;\n\t    done = false;\n\t    top = true;\n\t    doc = win.document;\n\t    root = doc.documentElement;\n\t    add = (doc.addEventListener ? \"addEventListener\" : \"attachEvent\");\n\t    rem = (doc.addEventListener ? \"removeEventListener\" : \"detachEvent\");\n\t    pre = (doc.addEventListener ? \"\" : \"on\");\n\t    init = function(e) {\n\t      if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n\t        return;\n\t      }\n\t      (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n\t      if (!done && (done = true)) {\n\t        return fn.call(win, e.type || e);\n\t      }\n\t    };\n\t    poll = function() {\n\t      var e;\n\t      try {\n\t        root.doScroll(\"left\");\n\t      } catch (_error) {\n\t        e = _error;\n\t        setTimeout(poll, 50);\n\t        return;\n\t      }\n\t      return init(\"poll\");\n\t    };\n\t    if (doc.readyState !== \"complete\") {\n\t      if (doc.createEventObject && root.doScroll) {\n\t        try {\n\t          top = !win.frameElement;\n\t        } catch (_error) {}\n\t        if (top) {\n\t          poll();\n\t        }\n\t      }\n\t      doc[add](pre + \"DOMContentLoaded\", init, false);\n\t      doc[add](pre + \"readystatechange\", init, false);\n\t      return win[add](pre + \"load\", init, false);\n\t    }\n\t  };\n\t\n\t  Dropzone._autoDiscoverFunction = function() {\n\t    if (Dropzone.autoDiscover) {\n\t      return Dropzone.discover();\n\t    }\n\t  };\n\t\n\t  contentLoaded(window, Dropzone._autoDiscoverFunction);\n\t\n\t}).call(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(28), __webpack_require__(34)(module)))\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _i18n = __webpack_require__(11);\n\t\n\tvar _i18n2 = _interopRequireDefault(_i18n);\n\t\n\tvar _react = __webpack_require__(15);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _index = __webpack_require__(25);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _SilverStripeComponent = __webpack_require__(18);\n\t\n\tvar _SilverStripeComponent2 = _interopRequireDefault(_SilverStripeComponent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar GalleryItem = function (_SilverStripeComponen) {\n\t  _inherits(GalleryItem, _SilverStripeComponen);\n\t\n\t  function GalleryItem(props) {\n\t    _classCallCheck(this, GalleryItem);\n\t\n\t    var _this = _possibleConstructorReturn(this, (GalleryItem.__proto__ || Object.getPrototypeOf(GalleryItem)).call(this, props));\n\t\n\t    _this.handleToggleSelect = _this.handleToggleSelect.bind(_this);\n\t    _this.handleDelete = _this.handleDelete.bind(_this);\n\t    _this.handleActivate = _this.handleActivate.bind(_this);\n\t    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n\t    _this.handleCancelUpload = _this.handleCancelUpload.bind(_this);\n\t    _this.preventFocus = _this.preventFocus.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(GalleryItem, [{\n\t    key: 'handleActivate',\n\t    value: function handleActivate(event) {\n\t      event.stopPropagation();\n\t      this.props.handleActivate(event, this.props.item);\n\t    }\n\t  }, {\n\t    key: 'handleToggleSelect',\n\t    value: function handleToggleSelect(event) {\n\t      event.stopPropagation();\n\t      event.preventDefault();\n\t      this.props.handleToggleSelect(event, this.props.item);\n\t    }\n\t  }, {\n\t    key: 'handleDelete',\n\t    value: function handleDelete(event) {\n\t      this.props.handleDelete(event, this.props.item);\n\t    }\n\t  }, {\n\t    key: 'getThumbnailStyles',\n\t    value: function getThumbnailStyles() {\n\t      if (this.isImage() && (this.exists() || this.uploading())) {\n\t        return {\n\t          backgroundImage: 'url(' + this.props.item.url + ')'\n\t        };\n\t      }\n\t\n\t      return {};\n\t    }\n\t  }, {\n\t    key: 'hasError',\n\t    value: function hasError() {\n\t      var hasError = false;\n\t\n\t      if (Array.isArray(this.props.messages)) {\n\t        hasError = this.props.messages.filter(function (message) {\n\t          return message.type === 'error';\n\t        }).length > 0;\n\t      }\n\t\n\t      return hasError;\n\t    }\n\t  }, {\n\t    key: 'getErrorMessage',\n\t    value: function getErrorMessage() {\n\t      if (this.hasError()) {\n\t        return _react2.default.createElement(\n\t          'span',\n\t          { className: 'gallery-item__error-message' },\n\t          this.props.messages[0].value\n\t        );\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'getThumbnailClassNames',\n\t    value: function getThumbnailClassNames() {\n\t      var thumbnailClassNames = ['gallery-item__thumbnail'];\n\t\n\t      if (this.isImageSmallerThanThumbnail()) {\n\t        thumbnailClassNames.push('gallery-item__thumbnail--small');\n\t      }\n\t\n\t      return thumbnailClassNames.join(' ');\n\t    }\n\t  }, {\n\t    key: 'getItemClassNames',\n\t    value: function getItemClassNames() {\n\t      var itemClassNames = ['gallery-item gallery-item--' + this.props.item.category];\n\t\n\t      if (!this.exists() && !this.uploading()) {\n\t        itemClassNames.push('gallery-item--error');\n\t      }\n\t\n\t      if (this.props.selected) {\n\t        itemClassNames.push('gallery-item--selected');\n\t      }\n\t\n\t      if (this.props.highlighted) {\n\t        itemClassNames.push('gallery-item--highlighted');\n\t      }\n\t\n\t      if (this.hasError()) {\n\t        itemClassNames.push('gallery-item--error');\n\t      }\n\t\n\t      return itemClassNames.join(' ');\n\t    }\n\t  }, {\n\t    key: 'isImage',\n\t    value: function isImage() {\n\t      return this.props.item.category === 'image';\n\t    }\n\t  }, {\n\t    key: 'exists',\n\t    value: function exists() {\n\t      return this.props.item.exists;\n\t    }\n\t  }, {\n\t    key: 'uploading',\n\t    value: function uploading() {\n\t      return this.props.uploading;\n\t    }\n\t  }, {\n\t    key: 'isImageSmallerThanThumbnail',\n\t    value: function isImageSmallerThanThumbnail() {\n\t      if (!this.isImage() || !this.exists() && !this.uploading()) {\n\t        return false;\n\t      }\n\t      var dimensions = this.props.item.dimensions;\n\t\n\t      return dimensions && dimensions.height < _index2.default.THUMBNAIL_HEIGHT && dimensions.width < _index2.default.THUMBNAIL_WIDTH;\n\t    }\n\t  }, {\n\t    key: 'handleKeyDown',\n\t    value: function handleKeyDown(event) {\n\t      event.stopPropagation();\n\t\n\t      if (_index2.default.SPACE_KEY_CODE === event.keyCode) {\n\t        event.preventDefault();\n\t        this.handleToggleSelect(event);\n\t      }\n\t\n\t      if (_index2.default.RETURN_KEY_CODE === event.keyCode) {\n\t        this.handleActivate(event);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'preventFocus',\n\t    value: function preventFocus(event) {\n\t      event.preventDefault();\n\t    }\n\t  }, {\n\t    key: 'handleCancelUpload',\n\t    value: function handleCancelUpload(event) {\n\t      event.stopPropagation();\n\t\n\t      if (this.hasError()) {\n\t        this.props.handleRemoveErroredUpload(this.props.item);\n\t      } else {\n\t        this.props.handleCancelUpload(this.props.item);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getProgressBar',\n\t    value: function getProgressBar() {\n\t      var progressBar = null;\n\t\n\t      var progressBarProps = {\n\t        className: 'gallery-item__progress-bar',\n\t        style: {\n\t          width: this.props.item.progress + '%'\n\t        }\n\t      };\n\t\n\t      if (!this.hasError() && this.uploading()) {\n\t        progressBar = _react2.default.createElement(\n\t          'div',\n\t          { className: 'gallery-item__upload-progress' },\n\t          _react2.default.createElement('div', progressBarProps)\n\t        );\n\t      }\n\t\n\t      return progressBar;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var actionInputCheckbox = null;\n\t      var overlay = null;\n\t\n\t      if (this.uploading()) {\n\t        actionInputCheckbox = _react2.default.createElement(\n\t          'label',\n\t          {\n\t            className: 'gallery-item__checkbox-label font-icon-cancel',\n\t            onClick: this.handleCancelUpload\n\t          },\n\t          _react2.default.createElement('input', {\n\t            className: 'gallery-item__checkbox',\n\t            type: 'checkbox',\n\t            title: _i18n2.default._t('AssetAdmin.SELECT'),\n\t            tabIndex: '-1',\n\t            onMouseDown: this.preventFocus,\n\t            'data-dz-remove': true\n\t          })\n\t        );\n\t      } else {\n\t        actionInputCheckbox = _react2.default.createElement(\n\t          'label',\n\t          {\n\t            className: 'gallery-item__checkbox-label font-icon-tick',\n\t            onClick: this.handleToggleSelect\n\t          },\n\t          _react2.default.createElement('input', {\n\t            className: 'gallery-item__checkbox',\n\t            type: 'checkbox',\n\t            title: _i18n2.default._t('AssetAdmin.SELECT'),\n\t            tabIndex: '-1',\n\t            onMouseDown: this.preventFocus\n\t          })\n\t        );\n\t\n\t        overlay = _react2.default.createElement(\n\t          'div',\n\t          { className: 'gallery-item--overlay font-icon-edit' },\n\t          'View'\n\t        );\n\t      }\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        {\n\t          className: this.getItemClassNames(),\n\t          'data-id': this.props.item.id,\n\t          tabIndex: '0',\n\t          onKeyDown: this.handleKeyDown,\n\t          onClick: this.handleActivate\n\t        },\n\t        _react2.default.createElement(\n\t          'div',\n\t          {\n\t            ref: 'thumbnail',\n\t            className: this.getThumbnailClassNames(),\n\t            style: this.getThumbnailStyles()\n\t          },\n\t          overlay\n\t        ),\n\t        this.getProgressBar(),\n\t        this.getErrorMessage(),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'gallery-item__title', ref: 'title' },\n\t          actionInputCheckbox,\n\t          this.props.item.title\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return GalleryItem;\n\t}(_SilverStripeComponent2.default);\n\t\n\tGalleryItem.propTypes = {\n\t  item: _react2.default.PropTypes.shape({\n\t    dimensions: _react2.default.PropTypes.shape({\n\t      width: _react2.default.PropTypes.number,\n\t      height: _react2.default.PropTypes.number\n\t    }),\n\t    category: _react2.default.PropTypes.string.isRequired,\n\t    id: _react2.default.PropTypes.number.isRequired,\n\t    url: _react2.default.PropTypes.string,\n\t    title: _react2.default.PropTypes.string.isRequired,\n\t    progress: _react2.default.PropTypes.number\n\t  }),\n\t\n\t  highlighted: _react2.default.PropTypes.bool,\n\t\n\t  selected: _react2.default.PropTypes.bool.isRequired,\n\t  handleActivate: _react2.default.PropTypes.func.isRequired,\n\t  handleToggleSelect: _react2.default.PropTypes.func.isRequired,\n\t  handleDelete: _react2.default.PropTypes.func.isRequired,\n\t  messages: _react2.default.PropTypes.array,\n\t  uploading: _react2.default.PropTypes.bool\n\t};\n\t\n\texports.default = GalleryItem;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.BulkActions = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _jQuery = __webpack_require__(28);\n\t\n\tvar _jQuery2 = _interopRequireDefault(_jQuery);\n\t\n\tvar _react = __webpack_require__(15);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(29);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _SilverStripeComponent = __webpack_require__(18);\n\t\n\tvar _SilverStripeComponent2 = _interopRequireDefault(_SilverStripeComponent);\n\t\n\tvar _reactAddonsTestUtils = __webpack_require__(31);\n\t\n\tvar _reactAddonsTestUtils2 = _interopRequireDefault(_reactAddonsTestUtils);\n\t\n\tvar _reactRedux = __webpack_require__(16);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BulkActions = exports.BulkActions = function (_SilverStripeComponen) {\n\t  _inherits(BulkActions, _SilverStripeComponen);\n\t\n\t  function BulkActions(props) {\n\t    _classCallCheck(this, BulkActions);\n\t\n\t    var _this = _possibleConstructorReturn(this, (BulkActions.__proto__ || Object.getPrototypeOf(BulkActions)).call(this, props));\n\t\n\t    _this.onChangeValue = _this.onChangeValue.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(BulkActions, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      var $select = (0, _jQuery2.default)(_reactDom2.default.findDOMNode(this)).find('.dropdown');\n\t\n\t      $select.chosen({\n\t        allow_single_deselect: true,\n\t        disable_search_threshold: 20\n\t      });\n\t\n\t      $select.change(function () {\n\t        return _reactAddonsTestUtils2.default.Simulate.click($select.find(':selected')[0]);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      var children = this.props.actions.map(function (action, i) {\n\t        var canApply = _this2.props.items.length && (!action.canApply || action.canApply(_this2.props.items));\n\t        if (!canApply) {\n\t          return '';\n\t        }\n\t\n\t        var className = ['bulk-actions_action', 'ss-ui-button', 'ui-corner-all', action.className || 'font-icon-info-circled'].join(' ');\n\t        return _react2.default.createElement(\n\t          'button',\n\t          {\n\t            type: 'button',\n\t            className: className,\n\t            key: i,\n\t            onClick: _this2.onChangeValue,\n\t            value: action.value\n\t          },\n\t          action.label\n\t        );\n\t      });\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: 'bulk-actions fieldholder-small' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'bulk-actions-counter' },\n\t          this.props.items.length\n\t        ),\n\t        children\n\t      );\n\t    }\n\t  }, {\n\t    key: 'getOptionByValue',\n\t    value: function getOptionByValue(value) {\n\t      return this.props.actions.find(function (action) {\n\t        return action.value === value;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onChangeValue',\n\t    value: function onChangeValue(event) {\n\t      var _this3 = this;\n\t\n\t      var promise = null;\n\t\n\t      var option = this.getOptionByValue(event.target.value);\n\t      if (option === null) {\n\t        return null;\n\t      }\n\t\n\t      if (typeof option.confirm === 'function') {\n\t        promise = option.confirm(this.props.items).then(function () {\n\t          return option.callback(_this3.props.items);\n\t        });\n\t      } else {\n\t        promise = option.callback(this.props.items) || Promise.resolve();\n\t      }\n\t\n\t      (0, _jQuery2.default)(_reactDom2.default.findDOMNode(this)).find('.dropdown').val('').trigger('liszt:updated');\n\t\n\t      return promise;\n\t    }\n\t  }]);\n\t\n\t  return BulkActions;\n\t}(_SilverStripeComponent2.default);\n\t\n\tBulkActions.propTypes = {\n\t  items: _react2.default.PropTypes.array,\n\t  actions: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.shape({\n\t    value: _react2.default.PropTypes.string.isRequired,\n\t    label: _react2.default.PropTypes.string.isRequired,\n\t    className: _react2.default.PropTypes.string,\n\t    destructive: _react2.default.PropTypes.bool,\n\t    callback: _react2.default.PropTypes.func,\n\t    canApply: _react2.default.PropTypes.func,\n\t    confirm: _react2.default.PropTypes.func\n\t  }))\n\t};\n\t\n\tfunction mapStateToProps(state) {\n\t  return {\n\t    gallery: state.assetAdmin.gallery\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps)(BulkActions);\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.addQueuedFile = addQueuedFile;\n\texports.failUpload = failUpload;\n\texports.purgeUploadQueue = purgeUploadQueue;\n\texports.removeQueuedFile = removeQueuedFile;\n\texports.succeedUpload = succeedUpload;\n\texports.updateQueuedFile = updateQueuedFile;\n\t\n\tvar _QueuedFilesActionTypes = __webpack_require__(10);\n\t\n\tvar _QueuedFilesActionTypes2 = _interopRequireDefault(_QueuedFilesActionTypes);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction addQueuedFile(file) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _QueuedFilesActionTypes2.default.ADD_QUEUED_FILE,\n\t      payload: { file: file }\n\t    });\n\t  };\n\t}\n\t\n\tfunction failUpload(queuedAtTime) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _QueuedFilesActionTypes2.default.FAIL_UPLOAD,\n\t      payload: { queuedAtTime: queuedAtTime }\n\t    });\n\t  };\n\t}\n\t\n\tfunction purgeUploadQueue() {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _QueuedFilesActionTypes2.default.PURGE_UPLOAD_QUEUE,\n\t      payload: null\n\t    });\n\t  };\n\t}\n\t\n\tfunction removeQueuedFile(queuedAtTime) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _QueuedFilesActionTypes2.default.REMOVE_QUEUED_FILE,\n\t      payload: { queuedAtTime: queuedAtTime }\n\t    });\n\t  };\n\t}\n\t\n\tfunction succeedUpload(queuedAtTime) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _QueuedFilesActionTypes2.default.SUCCEED_UPLOAD,\n\t      payload: { queuedAtTime: queuedAtTime }\n\t    });\n\t  };\n\t}\n\t\n\tfunction updateQueuedFile(queuedAtTime, updates) {\n\t  return function (dispatch) {\n\t    return dispatch({\n\t      type: _QueuedFilesActionTypes2.default.UPDATE_QUEUED_FILE,\n\t      payload: { queuedAtTime: queuedAtTime, updates: updates }\n\t    });\n\t  };\n\t}\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Breadcrumb;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Toolbar;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** js/bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 372985bc6c965dce6478\n **/","require('../boot/index.js');\n\nrequire('../styles/bundle.scss');\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/bundles/bundle.js\n **/","import { combineReducers } from 'redux';\nimport Config from 'lib/Config';\nimport reactRouteRegister from 'lib/ReactRouteRegister';\nimport reducerRegister from 'lib/ReducerRegister';\nimport galleryReducer from 'state/gallery/GalleryReducer';\nimport queuedFilesReducer from 'state/queuedFiles/QueuedFilesReducer';\nimport editorReducer from 'state/editor/EditorReducer';\nimport AssetAdmin from 'containers/AssetAdmin/AssetAdmin';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const sectionConfig = Config.getSection('SilverStripe\\\\AssetAdmin\\\\Controller\\\\AssetAdmin');\n  reactRouteRegister.add({\n    path: sectionConfig.url,\n    component: AssetAdmin,\n    indexRoute: {\n      // Show root folder by default\n      onEnter: (nextState, replace) => {\n        const redirectUrl = [\n          sectionConfig.url,\n          'show',\n          0,\n        ].join('/');\n        replace(redirectUrl);\n      },\n    },\n    childRoutes: [\n      {\n        path: 'show/:folderId/edit/:fileId',\n        component: AssetAdmin,\n      },\n      {\n        path: 'show/:folderId',\n        component: AssetAdmin,\n      },\n    ],\n  });\n\n  reducerRegister.add('assetAdmin', combineReducers({\n    gallery: galleryReducer,\n    editor: editorReducer,\n    queuedFiles: queuedFilesReducer,\n  }));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/boot/index.js\n **/","module.exports = Redux;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Redux\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = Config;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Config\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = ReactRouteRegister;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactRouteRegister\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = ReducerRegister;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReducerRegister\"\n ** module id = 5\n ** module chunks = 0\n **/","import deepFreeze from 'deep-freeze-strict';\nimport GALLERY from './GalleryActionTypes';\n\nconst initialState = {\n  count: 0, // The number of files in the current view\n  editorFields: [], // The input fields for editing files. Hardcoded until form field schema is implemented.\n  file: null,\n  files: [],\n  fileId: 0,\n  folderId: 0,\n  focus: false,\n  path: null, // The current location path the app is on\n  selectedFiles: [],\n  page: 0,\n};\n\n/**\n * Reducer for the `assetAdmin.gallery` state key.\n *\n * @param object state\n * @param object action - The dispatched action.\n * @param string action.type - Name of the dispatched action.\n * @param object [action.payload] - Optional data passed with the action.\n */\nexport default function galleryReducer(state = initialState, action) {\n  let nextState = null;\n\n  switch (action.type) {\n\n    case GALLERY.ADD_FILES: {\n      const nextFilesState = []; // Clone the state.files array\n\n      action.payload.files.forEach(payloadFile => {\n        let fileInState = false;\n\n        state.files.forEach(stateFile => {\n          // Check if each file given is already in the state\n          if (stateFile.id === payloadFile.id) {\n            fileInState = true;\n          }\n        });\n\n        // Only add the file if it isn't already in the state\n        if (!fileInState) {\n          nextFilesState.push(payloadFile);\n        }\n      });\n\n      return deepFreeze(Object.assign({}, state, {\n        count: typeof action.payload.count !== 'undefined' ? action.payload.count : state.count,\n        files: nextFilesState.concat(state.files),\n      }));\n    }\n\n    case GALLERY.REMOVE_FILES: {\n      if (typeof action.payload.ids === 'undefined') {\n        // No param was passed, remove everything.\n        nextState = deepFreeze(Object.assign({}, state, { count: 0, files: [] }));\n      } else {\n        // We're dealing with an array of ids\n        nextState = deepFreeze(Object.assign({}, state, {\n          count: state.files.filter(file => action.payload.ids.indexOf(file.id) === -1).length,\n          files: state.files.filter(file => action.payload.ids.indexOf(file.id) === -1),\n        }));\n      }\n\n      return nextState;\n    }\n\n    case GALLERY.LOAD_FILE_SUCCESS: {\n      const oldFile = state.files.find(file => file.id === action.payload.id);\n      if (oldFile) {\n        const updatedFile = Object.assign({}, oldFile, action.payload.file);\n\n        return deepFreeze(Object.assign({}, state, {\n          files: state.files.map(\n            file => (file.id === updatedFile.id ? updatedFile : file)\n          ),\n        }));\n      } else if (state.folder.id === action.payload.id) {\n        return deepFreeze(Object.assign({}, state, {\n          folder: Object.assign({}, state.folder, action.payload.file),\n        }));\n      }\n      return state;\n    }\n\n    case GALLERY.SELECT_FILES: {\n      let selectedFiles = null;\n\n      if (action.payload.ids === null) {\n        // No param was passed, so select everything.\n        selectedFiles = state.files.map(file => file.id);\n      } else {\n        // We're dealing with an array if ids to select.\n        selectedFiles = state.selectedFiles.concat(\n          action.payload.ids.filter(id => state.selectedFiles.indexOf(id) === -1)\n        );\n      }\n\n      return deepFreeze(Object.assign({}, state, {\n        selectedFiles,\n      }));\n    }\n\n    case GALLERY.DESELECT_FILES: {\n      let selectedFiles = null;\n      if (action.payload.ids === null) {\n        // No param was passed, deselect everything.\n        selectedFiles = [];\n      } else {\n        // We're dealing with an array of ids to deselect.\n        selectedFiles = state.selectedFiles\n          .filter(id => action.payload.ids.indexOf(id) === -1);\n      }\n\n      return deepFreeze(Object.assign({}, state, {\n        selectedFiles,\n      }));\n    }\n\n    // De-select and remove the files listed in payload.ids\n    case GALLERY.DELETE_ITEM_SUCCESS: {\n      return deepFreeze(Object.assign({}, state, {\n        selectedFiles: state.selectedFiles.filter(id => action.payload.ids.indexOf(id) === -1),\n        files: state.files.filter(file => action.payload.ids.indexOf(file.id) === -1),\n        count: state.files.filter(file => action.payload.ids.indexOf(file.id) === -1).length,\n      }));\n    }\n\n    case GALLERY.SORT_FILES: {\n      const folders = state.files.filter(file => file.type === 'folder');\n      const files = state.files.filter(file => file.type !== 'folder');\n\n      return deepFreeze(Object.assign({}, state, {\n        files: folders.sort(action.payload.comparator).concat(files.sort(action.payload.comparator)),\n      }));\n    }\n\n    case GALLERY.LOAD_FOLDER_REQUEST: {\n      return deepFreeze(Object.assign({}, state, {\n        // Mark \"loaded\" at the start of the request to avoid infinite loop of load events\n        folderId: action.payload.folderId,\n        selectedFiles: [],\n        files: [],\n        count: 0,\n        loading: true,\n      }));\n    }\n\n    case GALLERY.LOAD_FOLDER_SUCCESS: {\n      return deepFreeze(Object.assign({}, state, {\n        folder: action.payload.folder,\n        files: action.payload.files,\n        count: action.payload.files.length,\n        loading: false,\n      }));\n    }\n\n    case GALLERY.ADD_FOLDER_REQUEST:\n      return state;\n\n    case GALLERY.ADD_FOLDER_FAILURE:\n      return state;\n\n    case GALLERY.ADD_FOLDER_SUCCESS:\n      return state;\n\n    default:\n      return state;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/gallery/GalleryReducer.js\n **/","module.exports = DeepFreezeStrict;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"DeepFreezeStrict\"\n ** module id = 7\n ** module chunks = 0\n **/","// Action type constants, of the form\n// GALLERY.ADD_FILES === 'GALLERY.ADD_FILES'\n\nexport default [\n  'ADD_FILES',\n  'DESELECT_FILES',\n  'REMOVE_FILES',\n  'SELECT_FILES',\n  'SORT_FILES',\n  'LOAD_FILE_REQUEST',\n  'LOAD_FILE_SUCCESS',\n  'CREATE_FOLDER_REQUEST',\n  'CREATE_FOLDER_SUCCESS',\n  'CREATE_FOLDER_FAILURE',\n  'DELETE_ITEM_REQUEST',\n  'DELETE_ITEM_SUCCESS',\n  'DELETE_ITEM_FAILURE',\n  'LOAD_FOLDER_REQUEST',\n  'LOAD_FOLDER_SUCCESS',\n  'HIGHLIGHT_FILES',\n  'UPDATE_BATCH_ACTIONS',\n].reduce((obj, item) => Object.assign(obj, { [item]: `GALLERY.${item}` }), {});\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/gallery/GalleryActionTypes.js\n **/","import deepFreeze from 'deep-freeze-strict';\nimport ACTION_TYPES from './QueuedFilesActionTypes';\nimport i18n from 'i18n';\n\nfunction fileFactory() {\n  return deepFreeze({\n    attributes: {\n      dimensions: {\n        height: null,\n        width: null,\n      },\n    },\n    name: null,\n    canDelete: false,\n    canEdit: false,\n    category: null,\n    created: null,\n    extension: null,\n    filename: null,\n    id: 0,\n    lastUpdated: null,\n    messages: null,\n    owner: {\n      id: 0,\n      title: null,\n    },\n    parent: {\n      filename: null,\n      id: 0,\n      title: null,\n    },\n    queuedAtTime: null,\n    size: null,\n    title: null,\n    type: null,\n    url: null,\n    xhr: null,\n  });\n}\n\nconst initialState = {\n  items: [],\n};\n\nfunction queuedFilesReducer(state = initialState, action) {\n  switch (action.type) {\n\n    case ACTION_TYPES.ADD_QUEUED_FILE:\n      return deepFreeze(Object.assign({}, state, {\n        items: state.items.concat([Object.assign({}, fileFactory(), action.payload.file)]),\n      }));\n\n    case ACTION_TYPES.FAIL_UPLOAD:\n      // Add an error message to the failed file.\n      return deepFreeze(Object.assign({}, state, {\n        items: state.items.map((file) => {\n          if (file.queuedAtTime === action.payload.queuedAtTime) {\n            return Object.assign({}, file, {\n              messages: [{\n                value: i18n._t('AssetAdmin.DROPZONE_FAILED_UPLOAD'),\n                type: 'error',\n                extraClass: 'error',\n              }],\n            });\n          }\n\n          return file;\n        }),\n      }));\n\n    case ACTION_TYPES.PURGE_UPLOAD_QUEUE:\n      // Failed uploads are removed.\n      // Successful file uploads removed.\n      // Pending uploads are ignored.\n      return deepFreeze(Object.assign({}, state, {\n        items: state.items.filter((file) => {\n          if (Array.isArray(file.messages)) {\n            // If any of the file's messages are of type 'error' or 'success' then return false.\n            return !file.messages.filter(message => message.type === 'error' || message.type === 'success').length > 0;\n          }\n\n          return true;\n        }),\n      }));\n\n    case ACTION_TYPES.REMOVE_QUEUED_FILE:\n      return deepFreeze(Object.assign({}, state, {\n        items: state.items.filter(\n          (file) => file.queuedAtTime !== action.payload.queuedAtTime\n        ),\n      }));\n\n    case ACTION_TYPES.SUCCEED_UPLOAD:\n      return deepFreeze(Object.assign({}, state, {\n        items: state.items.map((file) => {\n          if (file.queuedAtTime === action.payload.queuedAtTime) {\n            return Object.assign({}, file, {\n              messages: [{\n                value: i18n._t('AssetAdmin.DROPZONE_SUCCESS_UPLOAD'),\n                type: 'success',\n                extraClass: 'success',\n              }],\n            });\n          }\n\n          return file;\n        }),\n      }));\n\n    case ACTION_TYPES.UPDATE_QUEUED_FILE:\n      return deepFreeze(Object.assign({}, state, {\n        items: state.items.map((file) => {\n          if (file.queuedAtTime === action.payload.queuedAtTime) {\n            return Object.assign({}, file, action.payload.updates);\n          }\n\n          return file;\n        }),\n      }));\n\n    default:\n      return state;\n  }\n}\n\nexport default queuedFilesReducer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/queuedFiles/QueuedFilesReducer.js\n **/","export default {\n  ADD_QUEUED_FILE: 'ADD_QUEUED_FILE',\n  FAIL_UPLOAD: 'FAIL_UPLOAD',\n  PURGE_UPLOAD_QUEUE: 'PURGE_UPLOAD_QUEUE',\n  REMOVE_QUEUED_FILE: 'REMOVE_QUEUED_FILE',\n  SUCCEED_UPLOAD: 'SUCCEED_UPLOAD',\n  UPDATE_QUEUED_FILE: 'UPDATE_QUEUED_FILE',\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/queuedFiles/QueuedFilesActionTypes.js\n **/","module.exports = i18n;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"i18n\"\n ** module id = 11\n ** module chunks = 0\n **/","import deepFreeze from 'deep-freeze-strict';\nimport EDITOR from './EditorActionTypes';\n\nconst initialState = {\n  openAddCampaignModal: false,\n};\n\n/**\n * @param object state\n * @param object action - The dispatched action.\n * @param string action.type - Name of the dispatched action.\n * @param object [action.payload] - Optional data passed with the action.\n */\nexport default function editorReducer(state = initialState, action) {\n  switch (action.type) {\n\n    case EDITOR.UPDATE_ADDTOCAMPAIGN_MODAL: {\n      return deepFreeze(Object.assign({}, state, {\n        openAddCampaignModal: action.payload.show,\n      }));\n    }\n\n    default:\n      return state;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/editor/EditorReducer.js\n **/","// Action type constants, of the form\n// EDITOR.SET_EDITOR_FIELDS === 'EDITOR.SET_EDITOR_FIELDS'\n\nexport default [\n  'UPDATE_ADDTOCAMPAIGN_MODAL',\n].reduce((obj, item) => Object.assign(obj, { [item]: `EDITOR.${item}` }), {});\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/editor/EditorActionTypes.js\n **/","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router';\nimport SilverStripeComponent from 'lib/SilverStripeComponent';\nimport backend from 'lib/Backend';\nimport Config from 'lib/Config';\nimport i18n from 'i18n';\nimport * as galleryActions from 'state/gallery/GalleryActions';\nimport * as editorActions from 'state/editor/EditorActions';\nimport * as breadcrumbsActions from 'state/breadcrumbs/BreadcrumbsActions';\nimport Editor from 'containers/Editor/Editor';\nimport Gallery from 'containers/Gallery/Gallery';\nimport Breadcrumb from 'components/Breadcrumb/Breadcrumb';\nimport Toolbar from 'components/Toolbar/Toolbar';\n\nclass AssetAdmin extends SilverStripeComponent {\n\n  constructor() {\n    super();\n    this.handleOpenFile = this.handleOpenFile.bind(this);\n    this.handleCloseFile = this.handleCloseFile.bind(this);\n    this.delete = this.delete.bind(this);\n    this.handleSubmitEditor = this.handleSubmitEditor.bind(this);\n    this.handleOpenFolder = this.handleOpenFolder.bind(this);\n    this.createEndpoint = this.createEndpoint.bind(this);\n    this.handleBackButtonClick = this.handleBackButtonClick.bind(this);\n    this.handleFolderIcon = this.handleFolderIcon.bind(this);\n    this.compare = this.compare.bind(this);\n\n    // Build API callers from the URLs provided in configuration.\n    // In time, something like a GraphQL endpoint might be a better way to run.\n    const sectionConfig = Config.getSection('SilverStripe\\\\AssetAdmin\\\\Controller\\\\AssetAdmin');\n    this.endpoints = {\n      createFolderApi: this.createEndpoint(sectionConfig.createFolderEndpoint),\n      readFolderApi: this.createEndpoint(sectionConfig.readFolderEndpoint, false),\n      updateFolderApi: this.createEndpoint(sectionConfig.updateFolderEndpoint),\n      deleteApi: this.createEndpoint(sectionConfig.deleteEndpoint),\n    };\n  }\n\n  /**\n   * Create a new endpoint\n   *\n   * @param {Object} endpointConfig\n   * @param {Boolean} includeToken\n   * @returns {Function}\n     */\n  createEndpoint(endpointConfig, includeToken = true) {\n    return backend.createEndpointFetcher(Object.assign(\n      {},\n      endpointConfig,\n      includeToken ? { defaultData: { SecurityID: Config.get('SecurityID') } } : {}\n    ));\n  }\n\n  componentWillReceiveProps(props) {\n    const viewChanged = this.compare(this.props.folder, props.folder);\n    if (viewChanged) {\n      this.setBreadcrumbs(props.folder);\n    }\n  }\n\n  /**\n   * Navigate to parent folder\n   *\n   * @param {Object} event\n   */\n  handleBackButtonClick(event) {\n    event.preventDefault();\n    if (this.props.folder) {\n      this.handleOpenFolder(this.props.folder.parentID || 0);\n    } else {\n      this.handleOpenFolder(0);\n    }\n  }\n\n  /**\n   * Assign breadcrumbs from selected folder\n   *\n   * @param {Object} folder\n     */\n  setBreadcrumbs(folder) {\n    const base = this.props.sectionConfig.url;\n\n    // Set root breadcrumb\n    const breadcrumbs = [{\n      text: i18n._t('AssetAdmin.FILES', 'Files'),\n      href: `/${base}/`,\n    }];\n\n    if (folder && folder.id) {\n      // Add parent folders\n      if (folder.parents) {\n        folder.parents.forEach((parent) => {\n          breadcrumbs.push({\n            text: parent.title,\n            href: `/${base}/show/${parent.id}`,\n          });\n        });\n      }\n\n      // Add current folder\n      breadcrumbs.push({\n        text: folder.title,\n        href: `/${base}/show/${folder.id}`,\n        icon: {\n          className: 'icon font-icon-edit-list',\n          action: this.handleFolderIcon,\n        },\n      });\n    }\n\n    this.props.actions.breadcrumbsActions.setBreadcrumbs(breadcrumbs);\n  }\n\n  /**\n   * Check if either of the two objects differ\n   *\n   * @param {Object} left\n   * @param {Object} right\n     */\n  compare(left, right) {\n    // Check for falsiness\n    if (left && !right || right && !left) {\n      return true;\n    }\n\n    // Fall back to object comparison\n    return left && right && (left.id !== right.id || left.name !== right.name);\n  }\n\n  handleFolderIcon(event) {\n    this.handleOpenFile(this.props.folderId);\n\n    event.preventDefault();\n  }\n\n  handleOpenFile(fileId) {\n    const base = this.props.sectionConfig.url;\n    this.props.router.push(`/${base}/show/${this.props.folderId}/edit/${fileId}`);\n  }\n\n  handleSubmitEditor(event, fieldValues, submitFn) {\n    event.preventDefault();\n    submitFn()\n      .then((response) => {\n        this.props.actions.gallery.loadFile(this.props.fileId, response.record);\n\n        return response;\n      });\n  }\n\n  handleCloseFile() {\n    this.handleOpenFolder(this.props.folderId);\n  }\n\n  handleOpenFolder(folderId) {\n    const base = this.props.sectionConfig.url;\n    this.props.router.push(`/${base}/show/${folderId}`);\n  }\n\n  /**\n   * Delete a file or folder\n   *\n   * @param {number} fileId\n   */\n  delete(fileId) {\n    const file = this.props.files.find((next) => next.id === fileId);\n    // eslint-disable-next-line no-alert\n    if (confirm(i18n._t('AssetAdmin.CONFIRMDELETE'))) {\n      this.props.actions.gallery.deleteItems(this.endpoints.deleteApi, [file.id])\n        .then(() => {\n          const base = this.props.sectionConfig.url;\n          this.props.router.push(`/${base}/show/${file.parent.id}`);\n        });\n    }\n  }\n\n  render() {\n    const sectionConfig = this.props.sectionConfig;\n    const createFileApiUrl = sectionConfig.createFileEndpoint.url;\n    const createFileApiMethod = sectionConfig.createFileEndpoint.method;\n    const file = this.props.files.find((next) => next.id === parseInt(this.props.fileId, 10));\n\n    const editor = ((file || this.props.fileId === this.props.folderId) &&\n      <Editor\n        fileId={this.props.fileId}\n        onClose={this.handleCloseFile}\n        editFileSchemaUrl={sectionConfig.form.FileEditForm.schemaUrl}\n        actions={this.props.actions.editor}\n        onSubmit={this.handleSubmitEditor}\n        onDelete={this.delete}\n        addToCampaignSchemaUrl={sectionConfig.form.AddToCampaignForm.schemaUrl}\n      />\n    );\n\n    const showBackButton = !!(this.props.folder && this.props.folder.id);\n\n    return (\n      <div className=\"cms-content__inner no-preview\">\n        <div className=\"cms-content__left cms-gallery collapse in\">\n          <Toolbar showBackButton={showBackButton} handleBackButtonClick={this.handleBackButtonClick}>\n            <Breadcrumb multiline crumbs={this.props.breadcrumbs} />\n          </Toolbar>\n          <div className=\"gallery\">\n            {editor}\n            <Gallery\n              files={this.props.files}\n              fileId={this.props.fileId}\n              folderId={this.props.folderId}\n              folder={this.props.folder}\n              name={this.props.name}\n              limit={this.props.limit}\n              page={this.props.page}\n              bulkActions={this.props.bulkActions}\n              createFileApiUrl={createFileApiUrl}\n              createFileApiMethod={createFileApiMethod}\n              createFolderApi={this.endpoints.createFolderApi}\n              readFolderApi={this.endpoints.readFolderApi}\n              updateFolderApi={this.endpoints.updateFolderApi}\n              deleteApi={this.endpoints.deleteApi}\n              onOpenFile={this.handleOpenFile}\n              onOpenFolder={this.handleOpenFolder}\n              sectionConfig={this.props.sectionConfig}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nAssetAdmin.propTypes = {\n  config: React.PropTypes.shape({\n    forms: React.PropTypes.shape({\n      editForm: React.PropTypes.shape({\n        schemaUrl: React.PropTypes.string,\n      }),\n    }),\n  }),\n  sectionConfig: React.PropTypes.shape({\n    url: React.PropTypes.string,\n  }),\n  file: React.PropTypes.object,\n  folder: React.PropTypes.shape({\n    id: React.PropTypes.number,\n    title: React.PropTypes.string,\n    parents: React.PropTypes.array,\n    parentID: React.PropTypes.number,\n    canView: React.PropTypes.bool,\n    canEdit: React.PropTypes.bool,\n  }),\n};\n\nfunction mapStateToProps(state, ownProps) {\n  const sectionConfigKey = 'SilverStripe\\\\AssetAdmin\\\\Controller\\\\AssetAdmin';\n  const sectionConfig = state.config.sections[sectionConfigKey];\n  const folder = state.assetAdmin.gallery.folder;\n  const files = state.assetAdmin.gallery.files;\n\n  return {\n    breadcrumbs: state.breadcrumbs,\n    sectionConfig,\n    fileId: parseInt(ownProps.params.fileId, 10),\n    folderId: parseInt(ownProps.params.folderId, 10),\n    files,\n    folder,\n    limit: sectionConfig.limit,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: {\n      gallery: bindActionCreators(galleryActions, dispatch),\n      editor: bindActionCreators(editorActions, dispatch),\n      breadcrumbsActions: bindActionCreators(breadcrumbsActions, dispatch),\n    },\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AssetAdmin));\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/containers/AssetAdmin/AssetAdmin.js\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = ReactRedux;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactRedux\"\n ** module id = 16\n ** module chunks = 0\n **/","module.exports = ReactRouter;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactRouter\"\n ** module id = 17\n ** module chunks = 0\n **/","module.exports = SilverStripeComponent;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"SilverStripeComponent\"\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = Backend;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Backend\"\n ** module id = 19\n ** module chunks = 0\n **/","import GALLERY from './GalleryActionTypes';\n\n/**\n * Adds files to state.\n *\n * @param array files - Array of file objects.\n * @param number [count] - The number of files in the current view.\n */\nexport function addFiles(files, count) {\n  // TODO: Refactor this away - will be part of \"load folder\" and \"search\" actions\n  return (dispatch) =>\n    dispatch({\n      type: GALLERY.ADD_FILES,\n      payload: { files, count },\n    });\n}\n\n/**\n * Deletes a number of items\n */\nexport function deleteItems(deleteApi, ids) {\n  return (dispatch) => {\n    dispatch({\n      type: GALLERY.DELETE_ITEM_REQUEST,\n      payload: { ids },\n    });\n\n    return deleteApi({ ids })\n    .then((json) => {\n      dispatch({\n        type: GALLERY.DELETE_ITEM_SUCCESS,\n        payload: { ids },\n      });\n\n      dispatch({\n        type: GALLERY.SET_FILE,\n        payload: { fileId: null },\n      });\n\n      return json;\n    })\n    .catch((error) => {\n      // Failure finish message\n      dispatch({\n        type: GALLERY.DELETE_ITEM_FAILURE,\n        payload: { error },\n      });\n    });\n  };\n}\n\n/**\n * Load the contents of a folder from the API\n */\nexport function loadFolderContents(listApi, folderId, limit, page) {\n  return (dispatch) => {\n    dispatch({\n      type: GALLERY.LOAD_FOLDER_REQUEST,\n      payload: { folderId: parseInt(folderId, 10) },\n    });\n\n    return listApi({ id: folderId, limit, page })\n    .then((data) => {\n      dispatch({\n        type: GALLERY.LOAD_FOLDER_SUCCESS,\n        payload: {\n          files: data.files,\n          // TODO Return as consistent data structure from API signature\n          folder: {\n            id: parseInt(data.folderID, 10),\n            title: data.title,\n            parents: data.parents,\n            canEdit: data.canEdit,\n            canDelete: data.canDelete,\n            // Distinguish between null and 0\n            parentID: (data.parentID === null) ? null : parseInt(data.parentID, 10),\n          },\n          // TODO Remove once all code is using 'folder' defined above\n          folderId: parseInt(data.folderID, 10),\n        },\n      });\n    });\n  };\n}\n\n/**\n * Updates a file with new data.\n *\n * @param number id - The id of the file to update.\n * @param object updates - The new values.\n */\nexport function loadFile(id, file) {\n  return (dispatch) => {\n    dispatch({\n      type: GALLERY.LOAD_FILE_SUCCESS,\n      payload: {\n        id,\n        file,\n      },\n    });\n  };\n}\n\n/**\n * Selects files. If no param is passed all files are selected.\n *\n * @param Array ids - Array of file ids to select.\n */\nexport function selectFiles(ids = null) {\n  return (dispatch) =>\n    dispatch({\n      type: GALLERY.SELECT_FILES,\n      payload: { ids },\n    });\n}\n\n/**\n * Deselects files. If no param is passed all files are deselected.\n *\n * @param Array ids - Array of file ids to deselect.\n */\nexport function deselectFiles(ids = null) {\n  return (dispatch) =>\n    dispatch({\n      type: GALLERY.DESELECT_FILES,\n      payload: { ids },\n    });\n}\n\n/**\n * Sorts files in some order.\n *\n * @param func comparator - Used to determine the sort order.\n */\nexport function sortFiles(comparator) {\n  return (dispatch) =>\n    dispatch({\n      type: GALLERY.SORT_FILES,\n      payload: { comparator },\n    });\n}\n\n/**\n * Create a new folder as a sub-folder of the current and open it for viewing.\n * Triggers an asyncrhonous back-end requests and changes view after the request\n * has completed.\n *\n * @param {Function} createFolderApi\n * @param {Number} parentId\n * @param {String} name - the name of the folder\n */\nexport function createFolder(createFolderApi, parentId, name) {\n  return (dispatch) => {\n    // Start message\n    dispatch({\n      type: GALLERY.CREATE_FOLDER_REQUEST,\n      payload: { name },\n    });\n\n    return createFolderApi({ ParentID: isNaN(parentId) ? 0 : parentId, Name: name })\n    .then((json) => {\n      dispatch({\n        type: GALLERY.CREATE_FOLDER_SUCCESS,\n        payload: { name },\n      });\n      return json;\n    })\n    .catch((err) => {\n      // Failure finish message\n      dispatch({\n        type: GALLERY.CREATE_FOLDER_FAILURE,\n        payload: { error: `Couldn\\'t create ${name}: ${err}` },\n      });\n    });\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/gallery/GalleryActions.js\n **/","import EDITOR from './EditorActionTypes';\n\nexport function updateAddToCampaignModal(show) {\n  return (dispatch) =>\n    dispatch({\n      type: EDITOR.UPDATE_ADDTOCAMPAIGN_MODAL,\n      payload: { show },\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/editor/EditorActions.js\n **/","module.exports = BreadcrumbsActions;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"BreadcrumbsActions\"\n ** module id = 22\n ** module chunks = 0\n **/","import i18n from 'i18n';\nimport React, { Component } from 'react';\nimport FormBuilder from 'components/FormBuilder/FormBuilder';\nimport CONSTANTS from 'constants/index';\nimport FormBuilderModal from 'components/FormBuilderModal/FormBuilderModal';\n\nclass Editor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCancelKeyDown = this.handleCancelKeyDown.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleAction = this.handleAction.bind(this);\n    this.handleSubmitModal = this.handleSubmitModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.openModal = this.openModal.bind(this);\n\n    this.state = {\n      openModal: false,\n    };\n  }\n\n  getCancelButton() {\n    return (<a\n      tabIndex=\"0\"\n      className=\"btn btn--top-right btn--no-text font-icon-cancel btn--icon-xl\"\n      onClick={this.handleClose}\n      onKeyDown={this.handleCancelKeyDown}\n      type=\"button\"\n      aria-label={i18n._t('AssetAdmin.CANCEL')}\n    />);\n  }\n\n  handleAction(event, name, fieldValues) {\n    // intercept the Add to Campaign submit and open the modal dialog instead\n    if (name === 'action_addtocampaign') {\n      this.openModal();\n      event.preventDefault();\n      return;\n    }\n\n    if (name === 'action_delete') {\n      this.props.onDelete(fieldValues.ID);\n      event.preventDefault();\n      return;\n    }\n  }\n\n  /**\n   * Trigger handleClose if either the return key or space key is pressed\n   * @param {object} event\n   */\n  handleCancelKeyDown(event) {\n    if (event.keyCode === CONSTANTS.SPACE_KEY_CODE || event.keyCode === CONSTANTS.RETURN_KEY_CODE) {\n      this.handleClose(event);\n    }\n  }\n\n  handleSubmit(event, fieldValues, submitFn) {\n    if (typeof this.props.onSubmit === 'function') {\n      return this.props.onSubmit(event, fieldValues, submitFn);\n    }\n\n    event.preventDefault();\n    return submitFn();\n  }\n\n  handleSubmitModal(event, fieldValues, submitFn) {\n    event.preventDefault();\n\n    if (!fieldValues.Campaign) {\n      // TODO invisible submit disable, remove this when validation is implemented\n      // eslint-disable-next-line no-alert\n      alert(i18n._t(\n        'AddToCampaigns.ErrorCampaignNotSelected',\n        'There was no campaign selected to be added to'\n      ));\n      return null;\n    }\n    return submitFn();\n  }\n\n  openModal() {\n    this.setState({\n      openModal: true,\n    });\n  }\n\n  closeModal() {\n    this.setState({\n      openModal: false,\n    });\n  }\n\n  handleClose(event) {\n    this.props.onClose();\n    this.closeModal();\n\n    if (event) {\n      event.preventDefault();\n    }\n  }\n\n  render() {\n    const formSchemaUrl = `${this.props.editFileSchemaUrl}/${this.props.fileId}`;\n    const modalSchemaUrl = `${this.props.addToCampaignSchemaUrl}/${this.props.fileId}`;\n\n\n    return (<div className=\"panel panel--padded panel--scrollable form--no-dividers editor\">\n      { this.getCancelButton() }\n\n      <div className=\"editor__details\">\n        <FormBuilder\n          schemaUrl={formSchemaUrl}\n          handleSubmit={this.handleSubmit}\n          handleAction={this.handleAction}\n        />\n        <FormBuilderModal\n          show={this.state.openModal}\n          handleHide={this.closeModal}\n          handleSubmit={this.handleSubmitModal}\n          schemaUrl={modalSchemaUrl}\n          bodyClassName=\"add-to-campaign__dialog\"\n          responseClassBad=\"add-to-campaign__response add-to-campaign__response--error\"\n          responseClassGood=\"add-to-campaign__response add-to-campaign__response--good\"\n        />\n      </div>\n\n    </div>);\n  }\n\n}\n\nEditor.propTypes = {\n  fileId: React.PropTypes.number.isRequired,\n  actions: React.PropTypes.object,\n  onClose: React.PropTypes.func.isRequired,\n  onSubmit: React.PropTypes.func.isRequired,\n  onDelete: React.PropTypes.func.isRequired,\n  editFileSchemaUrl: React.PropTypes.string.isRequired,\n  addToCampaignSchemaUrl: React.PropTypes.string,\n  openAddCampaignModal: React.PropTypes.bool,\n};\n\nexport default Editor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/containers/Editor/Editor.js\n **/","module.exports = FormBuilder;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"FormBuilder\"\n ** module id = 24\n ** module chunks = 0\n **/","import i18n from 'i18n';\n\nexport default {\n  CSS_TRANSITION_TIME: 300,\n  THUMBNAIL_HEIGHT: 150,\n  THUMBNAIL_WIDTH: 200,\n  BULK_ACTIONS: [\n    {\n      value: 'delete',\n      label: i18n._t('AssetAdmin.BULK_ACTIONS_DELETE', 'Delete'),\n      className: 'font-icon-trash',\n      destructive: true,\n      callback: null, // defined in <Gallery> for now\n      confirm: () => {\n        let promise = null;\n        const msg = i18n.sprintf(\n          i18n._t('AssetAdmin.BULK_ACTIONS_CONFIRM'),\n          i18n._t('AssetAdmin.BULK_ACTIONS_DELETE_CONFIRM', 'delete')\n        );\n\n        // eslint-disable-next-line no-alert\n        if (confirm(msg)) {\n          promise = Promise.resolve();\n        } else {\n          promise = Promise.reject();\n        }\n\n        return promise;\n      },\n    },\n    {\n      value: 'edit',\n      label: i18n._t('AssetAdmin.BULK_ACTIONS_EDIT', 'Edit'),\n      className: 'font-icon-edit',\n      destructive: false,\n      // Only allow editing if a single item (file or folder) is selected\n      canApply: (items) => items.length === 1,\n      callback: null, // defined in <Gallery> for now\n    },\n  ],\n  BULK_ACTIONS_PLACEHOLDER: i18n._t('AssetAdmin.BULK_ACTIONS_PLACEHOLDER'),\n  SPACE_KEY_CODE: 32,\n  RETURN_KEY_CODE: 13,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/constants/index.js\n **/","module.exports = FormBuilderModal;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"FormBuilderModal\"\n ** module id = 26\n ** module chunks = 0\n **/","import $ from 'jQuery';\nimport i18n from 'i18n';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { bindActionCreators } from 'redux';\nimport ReactTestUtils from 'react-addons-test-utils';\nimport Config from 'lib/Config';\nimport Dropzone from 'components/AssetDropzone/AssetDropzone';\nimport File from 'components/GalleryItem/GalleryItem';\nimport BulkActions from 'components/BulkActions/BulkActions';\nimport CONSTANTS from 'constants/index';\nimport * as galleryActions from 'state/gallery/GalleryActions';\nimport * as queuedFilesActions from 'state/queuedFiles/QueuedFilesActions';\n\nfunction getComparator(field, direction) {\n  return (a, b) => {\n    const fieldA = a[field].toLowerCase();\n    const fieldB = b[field].toLowerCase();\n\n    if (direction === 'asc') {\n      if (fieldA < fieldB) {\n        return -1;\n      }\n\n      if (fieldA > fieldB) {\n        return 1;\n      }\n    } else {\n      if (fieldA > fieldB) {\n        return -1;\n      }\n\n      if (fieldA < fieldB) {\n        return 1;\n      }\n    }\n\n    return 0;\n  };\n}\n\nexport class Gallery extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.sort = 'name';\n    this.direction = 'asc';\n\n    this.sorters = [\n      {\n        field: 'title',\n        direction: 'asc',\n        label: i18n._t('AssetAdmin.FILTER_TITLE_ASC'),\n      },\n      {\n        field: 'title',\n        direction: 'desc',\n        label: i18n._t('AssetAdmin.FILTER_TITLE_DESC'),\n      },\n      {\n        field: 'created',\n        direction: 'desc',\n        label: i18n._t('AssetAdmin.FILTER_DATE_DESC'),\n      },\n      {\n        field: 'created',\n        direction: 'asc',\n        label: i18n._t('AssetAdmin.FILTER_DATE_ASC'),\n      },\n    ];\n\n    this.handleFolderActivate = this.handleFolderActivate.bind(this);\n    this.handleFileActivate = this.handleFileActivate.bind(this);\n    this.handleToggleSelect = this.handleToggleSelect.bind(this);\n    this.handleAddedFile = this.handleAddedFile.bind(this);\n    this.handleCancelUpload = this.handleCancelUpload.bind(this);\n    this.handleRemoveErroredUpload = this.handleRemoveErroredUpload.bind(this);\n    this.handleUploadProgress = this.handleUploadProgress.bind(this);\n    this.handleSending = this.handleSending.bind(this);\n    this.handleItemDelete = this.handleItemDelete.bind(this);\n    this.handleBackClick = this.handleBackClick.bind(this);\n    this.handleMoreClick = this.handleMoreClick.bind(this);\n    this.handleSort = this.handleSort.bind(this);\n    this.handleSuccessfulUpload = this.handleSuccessfulUpload.bind(this);\n    this.handleFailedUpload = this.handleFailedUpload.bind(this);\n    this.handleCreateFolder = this.handleCreateFolder.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshFolderIfNeeded();\n  }\n\n  componentWillUpdate() {\n    const $select = $(ReactDOM.findDOMNode(this)).find('.gallery__sort .dropdown');\n    $select.off('change');\n  }\n\n  componentDidUpdate(prevProps) {\n    const $select = $(ReactDOM.findDOMNode(this)).find('.gallery__sort .dropdown');\n\n    // We opt-out of letting the CMS handle Chosen because it doesn't\n    // re-apply the behaviour correctly.\n    // So after the gallery has been rendered we apply Chosen.\n    $select.chosen({\n      allow_single_deselect: true,\n      disable_search_threshold: 20,\n    });\n\n    // Chosen stops the change event from reaching React so we have to simulate a click.\n    $select.on('change', () => ReactTestUtils.Simulate.click($select.find(':selected')[0]));\n\n    this.refreshFolderIfNeeded(prevProps);\n    this.checkLoadingIndicator();\n  }\n\n  getNoItemsNotice() {\n    if (this.props.files.length < 1 && this.props.queuedFiles.items.length < 1 && !this.props.loading) {\n      return <p className=\"gallery__no-item-notice\">{i18n._t('AssetAdmin.NOITEMSFOUND')}</p>;\n    }\n\n    return null;\n  }\n\n  getBackButton() {\n    const classes = [\n      'btn',\n      'btn-secondary',\n      'btn--no-text',\n      'font-icon-level-up',\n      'btn--icon-large',\n      'gallery__back',\n    ].join(' ');\n    if (this.props.folder.parentID !== null) {\n      return (\n        <button\n          className={classes}\n          onClick={this.handleBackClick}\n          ref=\"backButton\"\n        >\n        </button>\n      );\n    }\n\n    return null;\n  }\n\n  getBulkActionsComponent() {\n    const deleteAction = (items) => {\n      const ids = items.map(item => item.id);\n      this.props.actions.gallery.deleteItems(this.props.deleteApi, ids);\n    };\n    const editAction = (items) => {\n      this.props.onOpenFile(items[0].id);\n    };\n    const actions = CONSTANTS.BULK_ACTIONS.map(action => {\n      if (action.value === 'delete' && !action.callback) {\n        return Object.assign({}, action, { callback: deleteAction });\n      }\n      if (action.value === 'edit' && !action.callback) {\n        return Object.assign({}, action, { callback: editAction });\n      }\n      return action;\n    });\n    const selectedFileObjs = this.props.selectedFiles.map(id => this.props.files.find(file => id === file.id));\n\n    if (selectedFileObjs.length > 0 && this.props.bulkActions) {\n      return (\n        <BulkActions\n          actions={actions}\n          items={selectedFileObjs}\n          key={selectedFileObjs.length > 0}\n        />\n      );\n    }\n\n    return null;\n  }\n\n  getMoreButton() {\n    if (this.props.count > this.props.files.length) {\n      return (\n        <button\n          className=\"gallery__load-more\"\n          onClick={this.handleMoreClick}\n        >\n          {i18n._t('AssetAdmin.LOADMORE')}\n        </button>\n      );\n    }\n\n    return null;\n  }\n\n  checkLoadingIndicator() {\n    const $sectionWrapper = $('.cms-content.AssetAdmin');\n\n    if (this.props.loading && !$sectionWrapper.hasClass('loading')) {\n      $sectionWrapper.addClass('loading');\n    } else if (!this.props.loading && $sectionWrapper.hasClass('loading')) {\n      $sectionWrapper.removeClass('loading');\n    }\n  }\n\n  refreshFolderIfNeeded(prevProps) {\n    if (!prevProps || this.props.folderId !== prevProps.folderId) {\n      this.props.actions.gallery.deselectFiles();\n      this.props.actions.gallery.loadFolderContents(\n        this.props.readFolderApi,\n        this.props.folderId,\n        this.props.limit,\n        this.props.page\n      );\n    }\n  }\n\n  /**\n   * Handler for when the user changes the sort order.\n   *\n   * @param {Object} event - Click event.\n   */\n  handleSort(event) {\n    const data = event.target.dataset;\n    this.props.actions.queuedFiles.purgeUploadQueue();\n    this.props.actions.gallery.sortFiles(getComparator(data.field, data.direction));\n  }\n\n  handleCancelUpload(fileData) {\n    // abort wasn't defined..?\n    fileData.xhr.abort();\n    this.props.actions.queuedFiles.removeQueuedFile(fileData.queuedAtTime);\n  }\n\n  handleRemoveErroredUpload(fileData) {\n    this.props.actions.queuedFiles.removeQueuedFile(fileData.queuedAtTime);\n  }\n\n  handleAddedFile(data) {\n    this.props.actions.queuedFiles.addQueuedFile(data);\n  }\n\n  /**\n   * Triggered just before the xhr request is sent.\n   *\n   * @param {Object} file - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n   * @param {Object} xhr\n   */\n  handleSending(file, xhr) {\n    this.props.actions.queuedFiles.updateQueuedFile(file._queuedAtTime, { xhr });\n  }\n\n  handleUploadProgress(file, progress) {\n    this.props.actions.queuedFiles.updateQueuedFile(file._queuedAtTime, { progress });\n  }\n\n  /**\n   * Handler for when the user changes clicks the add folder button\n   *\n   * @param {Object} event - Click event.\n   */\n  handleCreateFolder(event) {\n    const folderName = this.promptFolderName();\n    if (folderName) {\n      this.props.actions.gallery.createFolder(this.props.createFolderApi, this.props.folderId, folderName)\n        .then(data => {\n          this.props.actions.gallery.addFiles([data], 1);\n          return data;\n        });\n    }\n    event.preventDefault();\n  }\n\n  /**\n   * Handles successful file uploads.\n   *\n   * @param {Object} file - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n   */\n  handleSuccessfulUpload(file) {\n    const json = JSON.parse(file.xhr.response);\n\n    // SilverStripe send back a success code with an error message sometimes...\n    if (typeof json[0].error !== 'undefined') {\n      this.handleFailedUpload(file);\n      return;\n    }\n\n    this.props.actions.queuedFiles.removeQueuedFile(file._queuedAtTime);\n    this.props.actions.gallery.addFiles(json, this.props.count + 1);\n  }\n\n  handleFailedUpload(file) {\n    this.props.actions.queuedFiles.failUpload(file._queuedAtTime);\n  }\n\n  /**\n   * Handles deleting a file or folder.\n   *\n   * @param {Object} event\n   * @param {Object} item - The file or folder to delete.\n   */\n  handleItemDelete(event, item) {\n    // eslint-disable-next-line no-alert\n    if (confirm(i18n._t('AssetAdmin.CONFIRMDELETE'))) {\n      this.props.actions.gallery.deleteItems(this.props.deleteApi, [item.id]);\n    }\n  }\n\n\t/**\n   * @return {String}\n   */\n  promptFolderName() {\n    // eslint-disable-next-line no-alert\n    return prompt(i18n._t('AssetAdmin.PROMPTFOLDERNAME'));\n  }\n\n  /**\n   * Checks if a file or folder is currently selected.\n   *\n   * @param {Number} id - The id of the file or folder to check.\n   * @return {Boolean}\n   */\n  itemIsSelected(id) {\n    return this.props.selectedFiles.indexOf(id) > -1;\n  }\n\n  /**\n   * Checks if a file or folder is currently highlighted,\n   * which typically means its own for viewing or editing.\n   *\n   * @param {Number} id - The id of the file or folder to check.\n   * @return {Boolean}\n   */\n  itemIsHighlighted(id) {\n    return this.props.fileId === id;\n  }\n\n  /**\n   * Handles a user drilling down into a folder.\n   *\n   * @param {Object} event - Event object.\n   * @param {Object} folder - The folder that's being activated.\n   */\n  handleFolderActivate(event, folder) {\n    event.preventDefault();\n    this.props.onOpenFolder(folder.id, folder);\n  }\n\n  /**\n   * Handles a user activating the file editor.\n   *\n   * @param {Object} event - Event object.\n   * @param {Object} file - The file that's being activated.\n   */\n  handleFileActivate(event, file) {\n    event.preventDefault();\n    // Disable file editing if the file has not finished uploading\n    // or the upload has errored.\n    if (file.created === null) {\n      return;\n    }\n\n    this.props.onOpenFile(file.id, file);\n  }\n\n  /**\n   * Handles the user toggling the selected/deselected state of a file or folder.\n   *\n   * @param {Object} event - Event object.\n   * @param {Object} item - The item being selected/deselected\n   */\n  handleToggleSelect(event, item) {\n    if (this.props.selectedFiles.indexOf(item.id) === -1) {\n      this.props.actions.gallery.selectFiles([item.id]);\n    } else {\n      this.props.actions.gallery.deselectFiles([item.id]);\n    }\n  }\n\n  handleMoreClick(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.props.actions.gallery.deselectFiles();\n\n    // TO DO: Load more\n  }\n\n  handleBackClick(event) {\n    event.preventDefault();\n    const base = this.props.sectionConfig.url;\n    this.props.router.push(`/${base}/show/${this.props.folder.parentID}`);\n  }\n\n  render() {\n    if (!this.props.folder) {\n      return <div />;\n    }\n\n    const dropzoneOptions = {\n      url: this.props.createFileApiUrl,\n      method: this.props.createFileApiMethod,\n      paramName: 'Upload',\n      clickable: '#upload-button',\n    };\n    // TODO Use this.props.config once the store is consolidated with framework\n    const securityID = Config.get('SecurityID');\n    const canEdit = this.props.folder.canEdit;\n\n    return (\n      <div className=\"gallery__outer\">\n        <ReactCSSTransitionGroup\n          transitionName=\"bulk-actions\"\n          transitionEnterTimeout={CONSTANTS.CSS_TRANSITION_TIME}\n          transitionLeaveTimeout={CONSTANTS.CSS_TRANSITION_TIME}\n        >\n          {this.getBulkActionsComponent()}\n        </ReactCSSTransitionGroup>\n\n        <div className=\"gallery__main panel panel--padded panel--scrollable\">\n\n          <div className=\"gallery__sort fieldholder-small\">\n            <select\n              className=\"dropdown no-change-track no-chzn\"\n              tabIndex=\"0\"\n              style={{ width: '160px' }}\n            >\n              {this.sorters.map((sorter, i) =>\n                (\n                  <option\n                    key={i}\n                    onClick={this.handleSort}\n                    data-field={sorter.field}\n                    data-direction={sorter.direction}\n                  >\n                    {sorter.label}\n                  </option>\n                )\n              )}\n            </select>\n          </div>\n\n          <div className=\"toolbar--content toolbar--space-save\">\n\n            {this.getBackButton()}\n\n            <button\n              id=\"upload-button\"\n              className=\"btn btn-secondary font-icon-upload btn--icon-xl\"\n              type=\"button\"\n              disabled={!canEdit}\n            >\n              <span className=\"btn__text\">{i18n._t('AssetAdmin.DROPZONE_UPLOAD')}</span>\n            </button>\n\n            <button\n              id=\"add-folder-button\"\n              className=\"btn btn-secondary font-icon-folder-add btn--icon-xl \"\n              type=\"button\"\n              onClick={this.handleCreateFolder}\n              disabled={!canEdit}\n            >\n              <span className=\"btn__text\">{i18n._t('AssetAdmin.ADD_FOLDER_BUTTON')}</span>\n            </button>\n          </div>\n\n          <Dropzone\n            canUpload={canEdit}\n            handleAddedFile={this.handleAddedFile}\n            handleError={this.handleFailedUpload}\n            handleSuccess={this.handleSuccessfulUpload}\n            handleSending={this.handleSending}\n            handleUploadProgress={this.handleUploadProgress}\n            folderId={this.props.folderId}\n            options={dropzoneOptions}\n            securityID={securityID}\n            uploadButton={false}\n          >\n\n            <div className=\"gallery__folders\">\n              {this.props.files.map((file, i) => {\n                let component = null;\n                if (file.type === 'folder') {\n                  component = (<File\n                    key={i}\n                    item={file}\n                    selected={this.itemIsSelected(file.id)}\n                    highlighted={this.itemIsHighlighted(file.id)}\n                    handleDelete={this.handleItemDelete}\n                    handleToggleSelect={this.handleToggleSelect}\n                    handleActivate={this.handleFolderActivate}\n                  />);\n                }\n                return component;\n              })}\n            </div>\n\n            <div className=\"gallery__files\">\n              {this.props.queuedFiles.items.map((file, i) =>\n                (<File\n                  key={`queued_file_${i}`}\n                  item={file}\n                  selected={this.itemIsSelected(file.id)}\n                  highlighted={this.itemIsHighlighted(file.id)}\n                  handleDelete={this.handleItemDelete}\n                  handleToggleSelect={this.handleToggleSelect}\n                  handleActivate={this.handleFileActivate}\n                  handleCancelUpload={this.handleCancelUpload}\n                  handleRemoveErroredUpload={this.handleRemoveErroredUpload}\n                  messages={file.messages}\n                  uploading\n                />)\n              )}\n              {this.props.files.map((file, i) => {\n                let component = null;\n                if (file.type !== 'folder') {\n                  component = (<File\n                    key={`file_${i}`}\n                    item={file}\n                    selected={this.itemIsSelected(file.id)}\n                    highlighted={this.itemIsHighlighted(file.id)}\n                    handleDelete={this.handleItemDelete}\n                    handleToggleSelect={this.handleToggleSelect}\n                    handleActivate={this.handleFileActivate}\n                  />);\n                }\n                return component;\n              })}\n            </div>\n\n            {this.getNoItemsNotice()}\n\n            <div className=\"gallery__load\">\n              {this.getMoreButton()}\n            </div>\n          </Dropzone>\n        </div>\n      </div>\n    );\n  }\n}\n\nGallery.defaultProps = {\n  bulkActions: true,\n};\n\nGallery.propTypes = {\n  loading: React.PropTypes.bool,\n  count: React.PropTypes.number,\n  fileId: React.PropTypes.number,\n  folderId: React.PropTypes.number.isRequired,\n  folder: React.PropTypes.shape({\n    id: React.PropTypes.number,\n    parentID: React.PropTypes.number,\n    canView: React.PropTypes.bool,\n    canEdit: React.PropTypes.bool,\n  }),\n  files: React.PropTypes.array, // all files as full objects (incl. ids)\n  selectedFiles: React.PropTypes.arrayOf(React.PropTypes.number), // ids only\n  bulkActions: React.PropTypes.bool,\n  limit: React.PropTypes.number,\n  page: React.PropTypes.number,\n  queuedFiles: React.PropTypes.shape({\n    items: React.PropTypes.array.isRequired,\n  }),\n  onOpenFile: React.PropTypes.func.isRequired,\n  onOpenFolder: React.PropTypes.func.isRequired,\n  createFileApiUrl: React.PropTypes.string,\n  createFileApiMethod: React.PropTypes.string,\n  createFolderApi: React.PropTypes.func,\n  readFolderApi: React.PropTypes.func,\n  deleteApi: React.PropTypes.func,\n  actions: React.PropTypes.object,\n  sectionConfig: React.PropTypes.shape({\n    url: React.PropTypes.string,\n  }),\n  router: React.PropTypes.object,\n};\n\nfunction mapStateToProps(state) {\n  const {\n    loading,\n    count,\n    files,\n    selectedFiles,\n    page,\n  } = state.assetAdmin.gallery;\n  return {\n    loading,\n    count,\n    files,\n    selectedFiles,\n    page,\n    queuedFiles: state.assetAdmin.queuedFiles,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: {\n      gallery: bindActionCreators(galleryActions, dispatch),\n      queuedFiles: bindActionCreators(queuedFilesActions, dispatch),\n    },\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Gallery));\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/containers/Gallery/Gallery.js\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = ReactDom;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDom\"\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = ReactAddonsCssTransitionGroup;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactAddonsCssTransitionGroup\"\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = ReactAddonsTestUtils;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactAddonsTestUtils\"\n ** module id = 31\n ** module chunks = 0\n **/","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SilverStripeComponent from 'lib/SilverStripeComponent';\nimport i18n from 'i18n';\nimport DropzoneLib from 'dropzone';\nimport $ from 'jQuery';\n\nclass AssetDropzone extends SilverStripeComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.dropzone = null;\n    this.dragging = false;\n\n    this.handleAddedFile = this.handleAddedFile.bind(this);\n    this.handleDragEnter = this.handleDragEnter.bind(this);\n    this.handleDragLeave = this.handleDragLeave.bind(this);\n    this.handleDrop = this.handleDrop.bind(this);\n    this.handleUploadProgress = this.handleUploadProgress.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.handleSending = this.handleSending.bind(this);\n    this.handleSuccess = this.handleSuccess.bind(this);\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n\n    const defaultOptions = this.getDefaultOptions();\n\n    if (this.props.uploadButton === true) {\n      defaultOptions.clickable = $(ReactDOM.findDOMNode(this))\n        .find('.asset-dropzone__upload-button')[0];\n    }\n\n    this.dropzone = new DropzoneLib(\n      ReactDOM.findDOMNode(this),\n      Object.assign({},\n        defaultOptions,\n        this.props.options\n      ));\n\n    // Set the user warning displayed when a user attempts to remove a file.\n    // If the props hasn't been passed there will be no warning when removing files.\n    if (typeof this.props.promptOnRemove !== 'undefined') {\n      this.setPromptOnRemove(this.props.promptOnRemove);\n    }\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount();\n\n    // Remove all dropzone event listeners.\n    this.dropzone.disable();\n  }\n\n  render() {\n    const className = ['asset-dropzone'];\n\n    const buttonProps = {\n      className: 'asset-dropzone__upload-button ss-ui-button font-icon-upload',\n      type: 'button',\n    };\n\n    if (!this.props.canUpload) {\n      buttonProps.disabled = true;\n    }\n\n    if (this.dragging === true) {\n      className.push('dragging');\n    }\n\n    return (\n      <div className={className.join(' ')}>\n        {this.props.uploadButton &&\n          <button {...buttonProps}>\n            {i18n._t('AssetAdmin.DROPZONE_UPLOAD')}\n          </button>\n        }\n        {this.props.children}\n      </div>\n    );\n  }\n\n  /**\n   * Gets the default optiions to instanciate dropzone with.\n   *\n   * @return object\n   */\n  getDefaultOptions() {\n    return {\n      // We handle the queue processing ourself in the FileReader callback.\n      // See `this.handleAddedFile`\n      autoProcessQueue: false,\n\n      // By default Dropzone adds markup to the DOM for displaying a thumbnail preview.\n      // Here we're relpacing that default behaviour with our own React / Redux implementation.\n      addedfile: this.handleAddedFile,\n\n      // When the user drags a file into the dropzone.\n      dragenter: this.handleDragEnter,\n\n      // When the user's cursor leaves the dropzone while dragging a file.\n      dragleave: this.handleDragLeave,\n\n      // When the user drops a file onto the dropzone.\n      drop: this.handleDrop,\n\n      // Whenever the file upload progress changes\n      uploadprogress: this.handleUploadProgress,\n\n      // The text used before any files are dropped\n      dictDefaultMessage: i18n._t('AssetAdmin.DROPZONE_DEFAULT_MESSAGE'),\n\n      // The text that replaces the default message text it the browser is not supported\n      dictFallbackMessage: i18n._t('AssetAdmin.DROPZONE_FALLBACK_MESSAGE'),\n\n      // The text that will be added before the fallback form\n      // If null, no text will be added at all.\n      dictFallbackText: i18n._t('AssetAdmin.DROPZONE_FALLBACK_TEXT'),\n\n      // If the file doesn't match the file type.\n      dictInvalidFileType: i18n._t('AssetAdmin.DROPZONE_INVALID_FILE_TYPE'),\n\n      // If the server response was invalid.\n      dictResponseError: i18n._t('AssetAdmin.DROPZONE_RESPONSE_ERROR'),\n\n      // If used, the text to be used for the cancel upload link.\n      dictCancelUpload: i18n._t('AssetAdmin.DROPZONE_CANCEL_UPLOAD'),\n\n      // If used, the text to be used for confirmation when cancelling upload.\n      dictCancelUploadConfirmation: i18n._t(\n        'AssetAdmin.DROPZONE_CANCEL_UPLOAD_CONFIRMATION'\n      ),\n\n      // If used, the text to be used to remove a file.\n      dictRemoveFile: i18n._t('AssetAdmin.DROPZONE_REMOVE_FILE'),\n\n      // Displayed when the maxFiles have been exceeded\n      // You can use {{maxFiles}} here, which will be replaced by the option.\n      dictMaxFilesExceeded: i18n._t('AssetAdmin.DROPZONE_MAX_FILES_EXCEEDED'),\n\n      // When a file upload fails.\n      error: this.handleError,\n\n      // When file file is sent to the server.\n      sending: this.handleSending,\n\n      // When a file upload succeeds.\n      success: this.handleSuccess,\n\n      thumbnailHeight: 150,\n\n      thumbnailWidth: 200,\n    };\n  }\n\n  /**\n   * Gets a file's category based on its type.\n   *\n   * @param string fileType - For example 'image/jpg'.\n   *\n   * @return string\n   */\n  getFileCategory(fileType) {\n    return fileType.split('/')[0];\n  }\n\n  /**\n   * Event handler triggered when the user drags a file into the dropzone.\n   *\n   * @param object event\n   */\n  handleDragEnter(event) {\n    if (!this.props.canUpload) {\n      return;\n    }\n\n    this.dragging = true;\n    this.forceUpdate();\n\n    if (typeof this.props.handleDragEnter === 'function') {\n      this.props.handleDragEnter(event);\n    }\n  }\n\n  /**\n   * Event handler triggered when a user's curser leaves the dropzone while dragging a file.\n   *\n   * @param object event\n   */\n  handleDragLeave(event) {\n    const componentNode = ReactDOM.findDOMNode(this);\n\n    if (!this.props.canUpload) {\n      return;\n    }\n\n    // Event propagation (events bubbling up from decendent elements) means the `dragLeave`\n    // event gets triggered on the dropzone.\n    // Here we're ignoring events that don't originate from the dropzone node.\n    if (event.target !== componentNode) {\n      return;\n    }\n\n    this.dragging = false;\n    this.forceUpdate();\n\n    if (typeof this.props.handleDragLeave === 'function') {\n      this.props.handleDragLeave(event, componentNode);\n    }\n  }\n\n  /**\n   * Event handler when a file's upload progress changes.\n   *\n   * @param object file - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n   * @param integer progress - the upload progress percentage\n   * @param integer bytesSent - total bytesSent\n   */\n  handleUploadProgress(file, progress, bytesSent) {\n    if (typeof this.props.handleUploadProgress === 'function') {\n      this.props.handleUploadProgress(file, progress, bytesSent);\n    }\n  }\n\n  /**\n   * Event handler triggered when the user drops a file on the dropzone.\n   *\n   * @param object event\n   */\n  handleDrop(event) {\n    this.dragging = false;\n    this.forceUpdate();\n\n    if (typeof this.props.handleDrop === 'function') {\n      this.props.handleDrop(event);\n    }\n  }\n\n  /**\n   * Called just before the file is sent. Gets the `xhr` object as second parameter,\n   * so you can modify it (for example to add a CSRF token)\n   * and a `formData` object to add additional information.\n   *\n   * @param object file - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n   * @param object xhr\n   * @param object formData - FormData interface. See https://developer.mozilla.org/en-US/docs/Web/API/FormData\n   */\n  handleSending(file, xhr, formData) {\n    formData.append('SecurityID', this.props.securityID);\n    formData.append('ParentID', this.props.folderId);\n\n    if (typeof this.props.handleSending === 'function') {\n      this.props.handleSending(file, xhr, formData);\n    }\n  }\n\n  /**\n   * Event handler for files being added. Called before the request is made to the server.\n   *\n   * @param file (object) - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n   */\n  handleAddedFile(file) {\n    if (!this.props.canUpload) {\n      return Promise.reject(new Error(i18n._t('AssetAdmin.DROPZONE_CANNOT_UPLOAD')));\n    }\n\n    // The queuedAtTime is used to uniquely identify file while it's in the queue.\n    // eslint-disable-next-line no-param-reassign\n    file._queuedAtTime = Date.now();\n\n    const loadPreview = new Promise((resolve) => {\n      const reader = new FileReader();\n\n      reader.onload = (event) => {\n        // If the user uploads multiple large images, we could run into memory issues\n        // by simply using the `event.target.result` data URI as the thumbnail image.\n        //\n        // To get avoid this we're creating a canvas, using the dropzone thumbnail dimensions,\n        // and using the canvas data URI as the thumbnail image instead.\n\n        if (this.getFileCategory(file.type) === 'image') {\n          const img = document.createElement('img');\n\n          resolve(this.loadImage(img, event.target.result));\n        } else {\n          resolve({});\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n\n    return loadPreview.then((preview) => {\n      const details = {\n        dimensions: {\n          height: preview.height,\n          width: preview.width,\n        },\n        category: this.getFileCategory(file.type),\n        filename: file.name,\n        queuedAtTime: file._queuedAtTime,\n        size: file.size,\n        title: file.name,\n        type: file.type,\n        url: preview.thumbnailURL,\n      };\n\n      this.props.handleAddedFile(details);\n      this.dropzone.processFile(file);\n\n      return details;\n    });\n  }\n\n  /**\n   * Returns a promise for loading an image to get the dataURL for previewing.\n   *\n   * @param img (image)\n   * @param newSource (string)\n   * @returns {Promise}\n   */\n  loadImage(img, newSource) {\n    return new Promise((resolve) => {\n      // eslint-disable-next-line no-param-reassign\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n\n        canvas.width = img.naturalWidth;\n        canvas.height = img.naturalHeight;\n\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n        const thumbnailURL = canvas.toDataURL();\n\n        resolve({\n          width: canvas.width,\n          height: canvas.height,\n          thumbnailURL,\n        });\n      };\n      // eslint-disable-next-line no-param-reassign\n      img.src = newSource;\n    });\n  }\n\n  /**\n   * Event handler for failed uploads.\n   *\n   * @param file (object) - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n   * @param errorMessage (string)\n   */\n  handleError(file, errorMessage) {\n    if (typeof this.props.handleSending === 'function') {\n      this.props.handleError(file, errorMessage);\n    }\n  }\n\n  /**\n   * Event handler for successfully upload files.\n   *\n   * @param object file - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n   */\n  handleSuccess(file) {\n    this.props.handleSuccess(file);\n  }\n\n  /**\n   * Set the text displayed when a user tries to remove a file.\n   *\n   * @param string userPrompt - The message to display.\n   */\n  setPromptOnRemove(userPrompt) {\n    this.dropzone.options.dictRemoveFileConfirmation = userPrompt;\n  }\n\n}\n\nAssetDropzone.propTypes = {\n  folderId: React.PropTypes.number.isRequired,\n  handleAddedFile: React.PropTypes.func.isRequired,\n  handleDragEnter: React.PropTypes.func,\n  handleDragLeave: React.PropTypes.func,\n  handleDrop: React.PropTypes.func,\n  handleError: React.PropTypes.func.isRequired,\n  handleSending: React.PropTypes.func,\n  handleSuccess: React.PropTypes.func.isRequired,\n  options: React.PropTypes.shape({\n    url: React.PropTypes.string.isRequired,\n  }),\n  promptOnRemove: React.PropTypes.string,\n  securityID: React.PropTypes.string.isRequired,\n  uploadButton: React.PropTypes.bool,\n  canUpload: React.PropTypes.bool.isRequired,\n};\n\nAssetDropzone.defaultProps = {\n  uploadButton: true,\n};\n\nexport default AssetDropzone;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/components/AssetDropzone/AssetDropzone.js\n **/","\n/*\n *\n * More info at [www.dropzonejs.com](http://www.dropzonejs.com)\n *\n * Copyright (c) 2012, Matias Meno\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n(function() {\n  var Dropzone, Emitter, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,\n    __slice = [].slice,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  noop = function() {};\n\n  Emitter = (function() {\n    function Emitter() {}\n\n    Emitter.prototype.addEventListener = Emitter.prototype.on;\n\n    Emitter.prototype.on = function(event, fn) {\n      this._callbacks = this._callbacks || {};\n      if (!this._callbacks[event]) {\n        this._callbacks[event] = [];\n      }\n      this._callbacks[event].push(fn);\n      return this;\n    };\n\n    Emitter.prototype.emit = function() {\n      var args, callback, callbacks, event, _i, _len;\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      this._callbacks = this._callbacks || {};\n      callbacks = this._callbacks[event];\n      if (callbacks) {\n        for (_i = 0, _len = callbacks.length; _i < _len; _i++) {\n          callback = callbacks[_i];\n          callback.apply(this, args);\n        }\n      }\n      return this;\n    };\n\n    Emitter.prototype.removeListener = Emitter.prototype.off;\n\n    Emitter.prototype.removeAllListeners = Emitter.prototype.off;\n\n    Emitter.prototype.removeEventListener = Emitter.prototype.off;\n\n    Emitter.prototype.off = function(event, fn) {\n      var callback, callbacks, i, _i, _len;\n      if (!this._callbacks || arguments.length === 0) {\n        this._callbacks = {};\n        return this;\n      }\n      callbacks = this._callbacks[event];\n      if (!callbacks) {\n        return this;\n      }\n      if (arguments.length === 1) {\n        delete this._callbacks[event];\n        return this;\n      }\n      for (i = _i = 0, _len = callbacks.length; _i < _len; i = ++_i) {\n        callback = callbacks[i];\n        if (callback === fn) {\n          callbacks.splice(i, 1);\n          break;\n        }\n      }\n      return this;\n    };\n\n    return Emitter;\n\n  })();\n\n  Dropzone = (function(_super) {\n    var extend, resolveOption;\n\n    __extends(Dropzone, _super);\n\n    Dropzone.prototype.Emitter = Emitter;\n\n\n    /*\n    This is a list of all available events you can register on a dropzone object.\n    \n    You can register an event handler like this:\n    \n        dropzone.on(\"dragEnter\", function() { });\n     */\n\n    Dropzone.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"addedfiles\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\n\n    Dropzone.prototype.defaultOptions = {\n      url: null,\n      method: \"post\",\n      withCredentials: false,\n      parallelUploads: 2,\n      uploadMultiple: false,\n      maxFilesize: 256,\n      paramName: \"file\",\n      createImageThumbnails: true,\n      maxThumbnailFilesize: 10,\n      thumbnailWidth: 120,\n      thumbnailHeight: 120,\n      filesizeBase: 1000,\n      maxFiles: null,\n      params: {},\n      clickable: true,\n      ignoreHiddenFiles: true,\n      acceptedFiles: null,\n      acceptedMimeTypes: null,\n      autoProcessQueue: true,\n      autoQueue: true,\n      addRemoveLinks: false,\n      previewsContainer: null,\n      hiddenInputContainer: \"body\",\n      capture: null,\n      renameFilename: null,\n      dictDefaultMessage: \"Drop files here to upload\",\n      dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\n      dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\n      dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n      dictInvalidFileType: \"You can't upload files of this type.\",\n      dictResponseError: \"Server responded with {{statusCode}} code.\",\n      dictCancelUpload: \"Cancel upload\",\n      dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n      dictRemoveFile: \"Remove file\",\n      dictRemoveFileConfirmation: null,\n      dictMaxFilesExceeded: \"You can not upload any more files.\",\n      accept: function(file, done) {\n        return done();\n      },\n      init: function() {\n        return noop;\n      },\n      forceFallback: false,\n      fallback: function() {\n        var child, messageElement, span, _i, _len, _ref;\n        this.element.className = \"\" + this.element.className + \" dz-browser-not-supported\";\n        _ref = this.element.getElementsByTagName(\"div\");\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          child = _ref[_i];\n          if (/(^| )dz-message($| )/.test(child.className)) {\n            messageElement = child;\n            child.className = \"dz-message\";\n            continue;\n          }\n        }\n        if (!messageElement) {\n          messageElement = Dropzone.createElement(\"<div class=\\\"dz-message\\\"><span></span></div>\");\n          this.element.appendChild(messageElement);\n        }\n        span = messageElement.getElementsByTagName(\"span\")[0];\n        if (span) {\n          if (span.textContent != null) {\n            span.textContent = this.options.dictFallbackMessage;\n          } else if (span.innerText != null) {\n            span.innerText = this.options.dictFallbackMessage;\n          }\n        }\n        return this.element.appendChild(this.getFallbackForm());\n      },\n      resize: function(file) {\n        var info, srcRatio, trgRatio;\n        info = {\n          srcX: 0,\n          srcY: 0,\n          srcWidth: file.width,\n          srcHeight: file.height\n        };\n        srcRatio = file.width / file.height;\n        info.optWidth = this.options.thumbnailWidth;\n        info.optHeight = this.options.thumbnailHeight;\n        if ((info.optWidth == null) && (info.optHeight == null)) {\n          info.optWidth = info.srcWidth;\n          info.optHeight = info.srcHeight;\n        } else if (info.optWidth == null) {\n          info.optWidth = srcRatio * info.optHeight;\n        } else if (info.optHeight == null) {\n          info.optHeight = (1 / srcRatio) * info.optWidth;\n        }\n        trgRatio = info.optWidth / info.optHeight;\n        if (file.height < info.optHeight || file.width < info.optWidth) {\n          info.trgHeight = info.srcHeight;\n          info.trgWidth = info.srcWidth;\n        } else {\n          if (srcRatio > trgRatio) {\n            info.srcHeight = file.height;\n            info.srcWidth = info.srcHeight * trgRatio;\n          } else {\n            info.srcWidth = file.width;\n            info.srcHeight = info.srcWidth / trgRatio;\n          }\n        }\n        info.srcX = (file.width - info.srcWidth) / 2;\n        info.srcY = (file.height - info.srcHeight) / 2;\n        return info;\n      },\n\n      /*\n      Those functions register themselves to the events on init and handle all\n      the user interface specific stuff. Overwriting them won't break the upload\n      but can break the way it's displayed.\n      You can overwrite them if you don't like the default behavior. If you just\n      want to add an additional event handler, register it on the dropzone object\n      and don't overwrite those options.\n       */\n      drop: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragstart: noop,\n      dragend: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragenter: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragover: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragleave: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      paste: noop,\n      reset: function() {\n        return this.element.classList.remove(\"dz-started\");\n      },\n      addedfile: function(file) {\n        var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\n        if (this.element === this.previewsContainer) {\n          this.element.classList.add(\"dz-started\");\n        }\n        if (this.previewsContainer) {\n          file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());\n          file.previewTemplate = file.previewElement;\n          this.previewsContainer.appendChild(file.previewElement);\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-name]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            node.textContent = this._renameFilename(file.name);\n          }\n          _ref1 = file.previewElement.querySelectorAll(\"[data-dz-size]\");\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            node = _ref1[_j];\n            node.innerHTML = this.filesize(file.size);\n          }\n          if (this.options.addRemoveLinks) {\n            file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\" + this.options.dictRemoveFile + \"</a>\");\n            file.previewElement.appendChild(file._removeLink);\n          }\n          removeFileEvent = (function(_this) {\n            return function(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              if (file.status === Dropzone.UPLOADING) {\n                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {\n                  return _this.removeFile(file);\n                });\n              } else {\n                if (_this.options.dictRemoveFileConfirmation) {\n                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {\n                    return _this.removeFile(file);\n                  });\n                } else {\n                  return _this.removeFile(file);\n                }\n              }\n            };\n          })(this);\n          _ref2 = file.previewElement.querySelectorAll(\"[data-dz-remove]\");\n          _results = [];\n          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n            removeLink = _ref2[_k];\n            _results.push(removeLink.addEventListener(\"click\", removeFileEvent));\n          }\n          return _results;\n        }\n      },\n      removedfile: function(file) {\n        var _ref;\n        if (file.previewElement) {\n          if ((_ref = file.previewElement) != null) {\n            _ref.parentNode.removeChild(file.previewElement);\n          }\n        }\n        return this._updateMaxFilesReachedClass();\n      },\n      thumbnail: function(file, dataUrl) {\n        var thumbnailElement, _i, _len, _ref;\n        if (file.previewElement) {\n          file.previewElement.classList.remove(\"dz-file-preview\");\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            thumbnailElement = _ref[_i];\n            thumbnailElement.alt = file.name;\n            thumbnailElement.src = dataUrl;\n          }\n          return setTimeout(((function(_this) {\n            return function() {\n              return file.previewElement.classList.add(\"dz-image-preview\");\n            };\n          })(this)), 1);\n        }\n      },\n      error: function(file, message) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-error\");\n          if (typeof message !== \"String\" && message.error) {\n            message = message.error;\n          }\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-errormessage]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            _results.push(node.textContent = message);\n          }\n          return _results;\n        }\n      },\n      errormultiple: noop,\n      processing: function(file) {\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-processing\");\n          if (file._removeLink) {\n            return file._removeLink.textContent = this.options.dictCancelUpload;\n          }\n        }\n      },\n      processingmultiple: noop,\n      uploadprogress: function(file, progress, bytesSent) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            if (node.nodeName === 'PROGRESS') {\n              _results.push(node.value = progress);\n            } else {\n              _results.push(node.style.width = \"\" + progress + \"%\");\n            }\n          }\n          return _results;\n        }\n      },\n      totaluploadprogress: noop,\n      sending: noop,\n      sendingmultiple: noop,\n      success: function(file) {\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-success\");\n        }\n      },\n      successmultiple: noop,\n      canceled: function(file) {\n        return this.emit(\"error\", file, \"Upload canceled.\");\n      },\n      canceledmultiple: noop,\n      complete: function(file) {\n        if (file._removeLink) {\n          file._removeLink.textContent = this.options.dictRemoveFile;\n        }\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-complete\");\n        }\n      },\n      completemultiple: noop,\n      maxfilesexceeded: noop,\n      maxfilesreached: noop,\n      queuecomplete: noop,\n      addedfiles: noop,\n      previewTemplate: \"<div class=\\\"dz-preview dz-file-preview\\\">\\n  <div class=\\\"dz-image\\\"><img data-dz-thumbnail /></div>\\n  <div class=\\\"dz-details\\\">\\n    <div class=\\\"dz-size\\\"><span data-dz-size></span></div>\\n    <div class=\\\"dz-filename\\\"><span data-dz-name></span></div>\\n  </div>\\n  <div class=\\\"dz-progress\\\"><span class=\\\"dz-upload\\\" data-dz-uploadprogress></span></div>\\n  <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div>\\n  <div class=\\\"dz-success-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Check</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n      </g>\\n    </svg>\\n  </div>\\n  <div class=\\\"dz-error-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Error</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Check-+-Oval-2\\\" sketch:type=\\\"MSLayerGroup\\\" stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\">\\n          <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n        </g>\\n      </g>\\n    </svg>\\n  </div>\\n</div>\"\n    };\n\n    extend = function() {\n      var key, object, objects, target, val, _i, _len;\n      target = arguments[0], objects = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      for (_i = 0, _len = objects.length; _i < _len; _i++) {\n        object = objects[_i];\n        for (key in object) {\n          val = object[key];\n          target[key] = val;\n        }\n      }\n      return target;\n    };\n\n    function Dropzone(element, options) {\n      var elementOptions, fallback, _ref;\n      this.element = element;\n      this.version = Dropzone.version;\n      this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\\n*/g, \"\");\n      this.clickableElements = [];\n      this.listeners = [];\n      this.files = [];\n      if (typeof this.element === \"string\") {\n        this.element = document.querySelector(this.element);\n      }\n      if (!(this.element && (this.element.nodeType != null))) {\n        throw new Error(\"Invalid dropzone element.\");\n      }\n      if (this.element.dropzone) {\n        throw new Error(\"Dropzone already attached.\");\n      }\n      Dropzone.instances.push(this);\n      this.element.dropzone = this;\n      elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};\n      this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});\n      if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n        return this.options.fallback.call(this);\n      }\n      if (this.options.url == null) {\n        this.options.url = this.element.getAttribute(\"action\");\n      }\n      if (!this.options.url) {\n        throw new Error(\"No URL provided.\");\n      }\n      if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {\n        throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\n      }\n      if (this.options.acceptedMimeTypes) {\n        this.options.acceptedFiles = this.options.acceptedMimeTypes;\n        delete this.options.acceptedMimeTypes;\n      }\n      this.options.method = this.options.method.toUpperCase();\n      if ((fallback = this.getExistingFallback()) && fallback.parentNode) {\n        fallback.parentNode.removeChild(fallback);\n      }\n      if (this.options.previewsContainer !== false) {\n        if (this.options.previewsContainer) {\n          this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, \"previewsContainer\");\n        } else {\n          this.previewsContainer = this.element;\n        }\n      }\n      if (this.options.clickable) {\n        if (this.options.clickable === true) {\n          this.clickableElements = [this.element];\n        } else {\n          this.clickableElements = Dropzone.getElements(this.options.clickable, \"clickable\");\n        }\n      }\n      this.init();\n    }\n\n    Dropzone.prototype.getAcceptedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getRejectedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (!file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getFilesWithStatus = function(status) {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === status) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getQueuedFiles = function() {\n      return this.getFilesWithStatus(Dropzone.QUEUED);\n    };\n\n    Dropzone.prototype.getUploadingFiles = function() {\n      return this.getFilesWithStatus(Dropzone.UPLOADING);\n    };\n\n    Dropzone.prototype.getAddedFiles = function() {\n      return this.getFilesWithStatus(Dropzone.ADDED);\n    };\n\n    Dropzone.prototype.getActiveFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.init = function() {\n      var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;\n      if (this.element.tagName === \"form\") {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n      }\n      if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\n        this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><span>\" + this.options.dictDefaultMessage + \"</span></div>\"));\n      }\n      if (this.clickableElements.length) {\n        setupHiddenFileInput = (function(_this) {\n          return function() {\n            if (_this.hiddenFileInput) {\n              _this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);\n            }\n            _this.hiddenFileInput = document.createElement(\"input\");\n            _this.hiddenFileInput.setAttribute(\"type\", \"file\");\n            if ((_this.options.maxFiles == null) || _this.options.maxFiles > 1) {\n              _this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n            }\n            _this.hiddenFileInput.className = \"dz-hidden-input\";\n            if (_this.options.acceptedFiles != null) {\n              _this.hiddenFileInput.setAttribute(\"accept\", _this.options.acceptedFiles);\n            }\n            if (_this.options.capture != null) {\n              _this.hiddenFileInput.setAttribute(\"capture\", _this.options.capture);\n            }\n            _this.hiddenFileInput.style.visibility = \"hidden\";\n            _this.hiddenFileInput.style.position = \"absolute\";\n            _this.hiddenFileInput.style.top = \"0\";\n            _this.hiddenFileInput.style.left = \"0\";\n            _this.hiddenFileInput.style.height = \"0\";\n            _this.hiddenFileInput.style.width = \"0\";\n            document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);\n            return _this.hiddenFileInput.addEventListener(\"change\", function() {\n              var file, files, _i, _len;\n              files = _this.hiddenFileInput.files;\n              if (files.length) {\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\n                  file = files[_i];\n                  _this.addFile(file);\n                }\n              }\n              _this.emit(\"addedfiles\", files);\n              return setupHiddenFileInput();\n            });\n          };\n        })(this);\n        setupHiddenFileInput();\n      }\n      this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;\n      _ref1 = this.events;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        eventName = _ref1[_i];\n        this.on(eventName, this.options[eventName]);\n      }\n      this.on(\"uploadprogress\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"removedfile\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"canceled\", (function(_this) {\n        return function(file) {\n          return _this.emit(\"complete\", file);\n        };\n      })(this));\n      this.on(\"complete\", (function(_this) {\n        return function(file) {\n          if (_this.getAddedFiles().length === 0 && _this.getUploadingFiles().length === 0 && _this.getQueuedFiles().length === 0) {\n            return setTimeout((function() {\n              return _this.emit(\"queuecomplete\");\n            }), 0);\n          }\n        };\n      })(this));\n      noPropagation = function(e) {\n        e.stopPropagation();\n        if (e.preventDefault) {\n          return e.preventDefault();\n        } else {\n          return e.returnValue = false;\n        }\n      };\n      this.listeners = [\n        {\n          element: this.element,\n          events: {\n            \"dragstart\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragstart\", e);\n              };\n            })(this),\n            \"dragenter\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.emit(\"dragenter\", e);\n              };\n            })(this),\n            \"dragover\": (function(_this) {\n              return function(e) {\n                var efct;\n                try {\n                  efct = e.dataTransfer.effectAllowed;\n                } catch (_error) {}\n                e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';\n                noPropagation(e);\n                return _this.emit(\"dragover\", e);\n              };\n            })(this),\n            \"dragleave\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragleave\", e);\n              };\n            })(this),\n            \"drop\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.drop(e);\n              };\n            })(this),\n            \"dragend\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragend\", e);\n              };\n            })(this)\n          }\n        }\n      ];\n      this.clickableElements.forEach((function(_this) {\n        return function(clickableElement) {\n          return _this.listeners.push({\n            element: clickableElement,\n            events: {\n              \"click\": function(evt) {\n                if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(\".dz-message\")))) {\n                  _this.hiddenFileInput.click();\n                }\n                return true;\n              }\n            }\n          });\n        };\n      })(this));\n      this.enable();\n      return this.options.init.call(this);\n    };\n\n    Dropzone.prototype.destroy = function() {\n      var _ref;\n      this.disable();\n      this.removeAllFiles(true);\n      if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {\n        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = null;\n      }\n      delete this.element.dropzone;\n      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n    };\n\n    Dropzone.prototype.updateTotalUploadProgress = function() {\n      var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;\n      totalBytesSent = 0;\n      totalBytes = 0;\n      activeFiles = this.getActiveFiles();\n      if (activeFiles.length) {\n        _ref = this.getActiveFiles();\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          totalBytesSent += file.upload.bytesSent;\n          totalBytes += file.upload.total;\n        }\n        totalUploadProgress = 100 * totalBytesSent / totalBytes;\n      } else {\n        totalUploadProgress = 100;\n      }\n      return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\n    };\n\n    Dropzone.prototype._getParamName = function(n) {\n      if (typeof this.options.paramName === \"function\") {\n        return this.options.paramName(n);\n      } else {\n        return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n      }\n    };\n\n    Dropzone.prototype._renameFilename = function(name) {\n      if (typeof this.options.renameFilename !== \"function\") {\n        return name;\n      }\n      return this.options.renameFilename(name);\n    };\n\n    Dropzone.prototype.getFallbackForm = function() {\n      var existingFallback, fields, fieldsString, form;\n      if (existingFallback = this.getExistingFallback()) {\n        return existingFallback;\n      }\n      fieldsString = \"<div class=\\\"dz-fallback\\\">\";\n      if (this.options.dictFallbackText) {\n        fieldsString += \"<p>\" + this.options.dictFallbackText + \"</p>\";\n      }\n      fieldsString += \"<input type=\\\"file\\\" name=\\\"\" + (this._getParamName(0)) + \"\\\" \" + (this.options.uploadMultiple ? 'multiple=\"multiple\"' : void 0) + \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\";\n      fields = Dropzone.createElement(fieldsString);\n      if (this.element.tagName !== \"FORM\") {\n        form = Dropzone.createElement(\"<form action=\\\"\" + this.options.url + \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\" + this.options.method + \"\\\"></form>\");\n        form.appendChild(fields);\n      } else {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n        this.element.setAttribute(\"method\", this.options.method);\n      }\n      return form != null ? form : fields;\n    };\n\n    Dropzone.prototype.getExistingFallback = function() {\n      var fallback, getFallback, tagName, _i, _len, _ref;\n      getFallback = function(elements) {\n        var el, _i, _len;\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )fallback($| )/.test(el.className)) {\n            return el;\n          }\n        }\n      };\n      _ref = [\"div\", \"form\"];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        tagName = _ref[_i];\n        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\n          return fallback;\n        }\n      }\n    };\n\n    Dropzone.prototype.setupEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.addEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.removeEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.removeEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.disable = function() {\n      var file, _i, _len, _ref, _results;\n      this.clickableElements.forEach(function(element) {\n        return element.classList.remove(\"dz-clickable\");\n      });\n      this.removeEventListeners();\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        _results.push(this.cancelUpload(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.enable = function() {\n      this.clickableElements.forEach(function(element) {\n        return element.classList.add(\"dz-clickable\");\n      });\n      return this.setupEventListeners();\n    };\n\n    Dropzone.prototype.filesize = function(size) {\n      var cutoff, i, selectedSize, selectedUnit, unit, units, _i, _len;\n      selectedSize = 0;\n      selectedUnit = \"b\";\n      if (size > 0) {\n        units = ['TB', 'GB', 'MB', 'KB', 'b'];\n        for (i = _i = 0, _len = units.length; _i < _len; i = ++_i) {\n          unit = units[i];\n          cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n          if (size >= cutoff) {\n            selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n            selectedUnit = unit;\n            break;\n          }\n        }\n        selectedSize = Math.round(10 * selectedSize) / 10;\n      }\n      return \"<strong>\" + selectedSize + \"</strong> \" + selectedUnit;\n    };\n\n    Dropzone.prototype._updateMaxFilesReachedClass = function() {\n      if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        if (this.getAcceptedFiles().length === this.options.maxFiles) {\n          this.emit('maxfilesreached', this.files);\n        }\n        return this.element.classList.add(\"dz-max-files-reached\");\n      } else {\n        return this.element.classList.remove(\"dz-max-files-reached\");\n      }\n    };\n\n    Dropzone.prototype.drop = function(e) {\n      var files, items;\n      if (!e.dataTransfer) {\n        return;\n      }\n      this.emit(\"drop\", e);\n      files = e.dataTransfer.files;\n      this.emit(\"addedfiles\", files);\n      if (files.length) {\n        items = e.dataTransfer.items;\n        if (items && items.length && (items[0].webkitGetAsEntry != null)) {\n          this._addFilesFromItems(items);\n        } else {\n          this.handleFiles(files);\n        }\n      }\n    };\n\n    Dropzone.prototype.paste = function(e) {\n      var items, _ref;\n      if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {\n        return;\n      }\n      this.emit(\"paste\", e);\n      items = e.clipboardData.items;\n      if (items.length) {\n        return this._addFilesFromItems(items);\n      }\n    };\n\n    Dropzone.prototype.handleFiles = function(files) {\n      var file, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        _results.push(this.addFile(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromItems = function(items) {\n      var entry, item, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = items.length; _i < _len; _i++) {\n        item = items[_i];\n        if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\n          if (entry.isFile) {\n            _results.push(this.addFile(item.getAsFile()));\n          } else if (entry.isDirectory) {\n            _results.push(this._addFilesFromDirectory(entry, entry.name));\n          } else {\n            _results.push(void 0);\n          }\n        } else if (item.getAsFile != null) {\n          if ((item.kind == null) || item.kind === \"file\") {\n            _results.push(this.addFile(item.getAsFile()));\n          } else {\n            _results.push(void 0);\n          }\n        } else {\n          _results.push(void 0);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromDirectory = function(directory, path) {\n      var dirReader, errorHandler, readEntries;\n      dirReader = directory.createReader();\n      errorHandler = function(error) {\n        return typeof console !== \"undefined\" && console !== null ? typeof console.log === \"function\" ? console.log(error) : void 0 : void 0;\n      };\n      readEntries = (function(_this) {\n        return function() {\n          return dirReader.readEntries(function(entries) {\n            var entry, _i, _len;\n            if (entries.length > 0) {\n              for (_i = 0, _len = entries.length; _i < _len; _i++) {\n                entry = entries[_i];\n                if (entry.isFile) {\n                  entry.file(function(file) {\n                    if (_this.options.ignoreHiddenFiles && file.name.substring(0, 1) === '.') {\n                      return;\n                    }\n                    file.fullPath = \"\" + path + \"/\" + file.name;\n                    return _this.addFile(file);\n                  });\n                } else if (entry.isDirectory) {\n                  _this._addFilesFromDirectory(entry, \"\" + path + \"/\" + entry.name);\n                }\n              }\n              readEntries();\n            }\n            return null;\n          }, errorHandler);\n        };\n      })(this);\n      return readEntries();\n    };\n\n    Dropzone.prototype.accept = function(file, done) {\n      if (file.size > this.options.maxFilesize * 1024 * 1024) {\n        return done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\n      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n        return done(this.options.dictInvalidFileType);\n      } else if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\n        return this.emit(\"maxfilesexceeded\", file);\n      } else {\n        return this.options.accept.call(this, file, done);\n      }\n    };\n\n    Dropzone.prototype.addFile = function(file) {\n      file.upload = {\n        progress: 0,\n        total: file.size,\n        bytesSent: 0\n      };\n      this.files.push(file);\n      file.status = Dropzone.ADDED;\n      this.emit(\"addedfile\", file);\n      this._enqueueThumbnail(file);\n      return this.accept(file, (function(_this) {\n        return function(error) {\n          if (error) {\n            file.accepted = false;\n            _this._errorProcessing([file], error);\n          } else {\n            file.accepted = true;\n            if (_this.options.autoQueue) {\n              _this.enqueueFile(file);\n            }\n          }\n          return _this._updateMaxFilesReachedClass();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.enqueueFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        this.enqueueFile(file);\n      }\n      return null;\n    };\n\n    Dropzone.prototype.enqueueFile = function(file) {\n      if (file.status === Dropzone.ADDED && file.accepted === true) {\n        file.status = Dropzone.QUEUED;\n        if (this.options.autoProcessQueue) {\n          return setTimeout(((function(_this) {\n            return function() {\n              return _this.processQueue();\n            };\n          })(this)), 0);\n        }\n      } else {\n        throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\n      }\n    };\n\n    Dropzone.prototype._thumbnailQueue = [];\n\n    Dropzone.prototype._processingThumbnail = false;\n\n    Dropzone.prototype._enqueueThumbnail = function(file) {\n      if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\n        this._thumbnailQueue.push(file);\n        return setTimeout(((function(_this) {\n          return function() {\n            return _this._processThumbnailQueue();\n          };\n        })(this)), 0);\n      }\n    };\n\n    Dropzone.prototype._processThumbnailQueue = function() {\n      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n        return;\n      }\n      this._processingThumbnail = true;\n      return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {\n        return function() {\n          _this._processingThumbnail = false;\n          return _this._processThumbnailQueue();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.removeFile = function(file) {\n      if (file.status === Dropzone.UPLOADING) {\n        this.cancelUpload(file);\n      }\n      this.files = without(this.files, file);\n      this.emit(\"removedfile\", file);\n      if (this.files.length === 0) {\n        return this.emit(\"reset\");\n      }\n    };\n\n    Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {\n      var file, _i, _len, _ref;\n      if (cancelIfNecessary == null) {\n        cancelIfNecessary = false;\n      }\n      _ref = this.files.slice();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n          this.removeFile(file);\n        }\n      }\n      return null;\n    };\n\n    Dropzone.prototype.createThumbnail = function(file, callback) {\n      var fileReader;\n      fileReader = new FileReader;\n      fileReader.onload = (function(_this) {\n        return function() {\n          if (file.type === \"image/svg+xml\") {\n            _this.emit(\"thumbnail\", file, fileReader.result);\n            if (callback != null) {\n              callback();\n            }\n            return;\n          }\n          return _this.createThumbnailFromUrl(file, fileReader.result, callback);\n        };\n      })(this);\n      return fileReader.readAsDataURL(file);\n    };\n\n    Dropzone.prototype.createThumbnailFromUrl = function(file, imageUrl, callback, crossOrigin) {\n      var img;\n      img = document.createElement(\"img\");\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n      img.onload = (function(_this) {\n        return function() {\n          var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;\n          file.width = img.width;\n          file.height = img.height;\n          resizeInfo = _this.options.resize.call(_this, file);\n          if (resizeInfo.trgWidth == null) {\n            resizeInfo.trgWidth = resizeInfo.optWidth;\n          }\n          if (resizeInfo.trgHeight == null) {\n            resizeInfo.trgHeight = resizeInfo.optHeight;\n          }\n          canvas = document.createElement(\"canvas\");\n          ctx = canvas.getContext(\"2d\");\n          canvas.width = resizeInfo.trgWidth;\n          canvas.height = resizeInfo.trgHeight;\n          drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\n          thumbnail = canvas.toDataURL(\"image/png\");\n          _this.emit(\"thumbnail\", file, thumbnail);\n          if (callback != null) {\n            return callback();\n          }\n        };\n      })(this);\n      if (callback != null) {\n        img.onerror = callback;\n      }\n      return img.src = imageUrl;\n    };\n\n    Dropzone.prototype.processQueue = function() {\n      var i, parallelUploads, processingLength, queuedFiles;\n      parallelUploads = this.options.parallelUploads;\n      processingLength = this.getUploadingFiles().length;\n      i = processingLength;\n      if (processingLength >= parallelUploads) {\n        return;\n      }\n      queuedFiles = this.getQueuedFiles();\n      if (!(queuedFiles.length > 0)) {\n        return;\n      }\n      if (this.options.uploadMultiple) {\n        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\n      } else {\n        while (i < parallelUploads) {\n          if (!queuedFiles.length) {\n            return;\n          }\n          this.processFile(queuedFiles.shift());\n          i++;\n        }\n      }\n    };\n\n    Dropzone.prototype.processFile = function(file) {\n      return this.processFiles([file]);\n    };\n\n    Dropzone.prototype.processFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.processing = true;\n        file.status = Dropzone.UPLOADING;\n        this.emit(\"processing\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"processingmultiple\", files);\n      }\n      return this.uploadFiles(files);\n    };\n\n    Dropzone.prototype._getFilesWithXhr = function(xhr) {\n      var file, files;\n      return files = (function() {\n        var _i, _len, _ref, _results;\n        _ref = this.files;\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          if (file.xhr === xhr) {\n            _results.push(file);\n          }\n        }\n        return _results;\n      }).call(this);\n    };\n\n    Dropzone.prototype.cancelUpload = function(file) {\n      var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;\n      if (file.status === Dropzone.UPLOADING) {\n        groupedFiles = this._getFilesWithXhr(file.xhr);\n        for (_i = 0, _len = groupedFiles.length; _i < _len; _i++) {\n          groupedFile = groupedFiles[_i];\n          groupedFile.status = Dropzone.CANCELED;\n        }\n        file.xhr.abort();\n        for (_j = 0, _len1 = groupedFiles.length; _j < _len1; _j++) {\n          groupedFile = groupedFiles[_j];\n          this.emit(\"canceled\", groupedFile);\n        }\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", groupedFiles);\n        }\n      } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {\n        file.status = Dropzone.CANCELED;\n        this.emit(\"canceled\", file);\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", [file]);\n        }\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    resolveOption = function() {\n      var args, option;\n      option = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if (typeof option === 'function') {\n        return option.apply(this, args);\n      }\n      return option;\n    };\n\n    Dropzone.prototype.uploadFile = function(file) {\n      return this.uploadFiles([file]);\n    };\n\n    Dropzone.prototype.uploadFiles = function(files) {\n      var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, method, option, progressObj, response, updateProgress, url, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n      xhr = new XMLHttpRequest();\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.xhr = xhr;\n      }\n      method = resolveOption(this.options.method, files);\n      url = resolveOption(this.options.url, files);\n      xhr.open(method, url, true);\n      xhr.withCredentials = !!this.options.withCredentials;\n      response = null;\n      handleError = (function(_this) {\n        return function() {\n          var _j, _len1, _results;\n          _results = [];\n          for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n            file = files[_j];\n            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr));\n          }\n          return _results;\n        };\n      })(this);\n      updateProgress = (function(_this) {\n        return function(e) {\n          var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;\n          if (e != null) {\n            progress = 100 * e.loaded / e.total;\n            for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n              file = files[_j];\n              file.upload = {\n                progress: progress,\n                total: e.total,\n                bytesSent: e.loaded\n              };\n            }\n          } else {\n            allFilesFinished = true;\n            progress = 100;\n            for (_k = 0, _len2 = files.length; _k < _len2; _k++) {\n              file = files[_k];\n              if (!(file.upload.progress === 100 && file.upload.bytesSent === file.upload.total)) {\n                allFilesFinished = false;\n              }\n              file.upload.progress = progress;\n              file.upload.bytesSent = file.upload.total;\n            }\n            if (allFilesFinished) {\n              return;\n            }\n          }\n          _results = [];\n          for (_l = 0, _len3 = files.length; _l < _len3; _l++) {\n            file = files[_l];\n            _results.push(_this.emit(\"uploadprogress\", file, progress, file.upload.bytesSent));\n          }\n          return _results;\n        };\n      })(this);\n      xhr.onload = (function(_this) {\n        return function(e) {\n          var _ref;\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          if (xhr.readyState !== 4) {\n            return;\n          }\n          response = xhr.responseText;\n          if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\n            try {\n              response = JSON.parse(response);\n            } catch (_error) {\n              e = _error;\n              response = \"Invalid JSON response from server.\";\n            }\n          }\n          updateProgress();\n          if (!((200 <= (_ref = xhr.status) && _ref < 300))) {\n            return handleError();\n          } else {\n            return _this._finished(files, response, e);\n          }\n        };\n      })(this);\n      xhr.onerror = (function(_this) {\n        return function() {\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          return handleError();\n        };\n      })(this);\n      progressObj = (_ref = xhr.upload) != null ? _ref : xhr;\n      progressObj.onprogress = updateProgress;\n      headers = {\n        \"Accept\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        \"X-Requested-With\": \"XMLHttpRequest\"\n      };\n      if (this.options.headers) {\n        extend(headers, this.options.headers);\n      }\n      for (headerName in headers) {\n        headerValue = headers[headerName];\n        if (headerValue) {\n          xhr.setRequestHeader(headerName, headerValue);\n        }\n      }\n      formData = new FormData();\n      if (this.options.params) {\n        _ref1 = this.options.params;\n        for (key in _ref1) {\n          value = _ref1[key];\n          formData.append(key, value);\n        }\n      }\n      for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n        file = files[_j];\n        this.emit(\"sending\", file, xhr, formData);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"sendingmultiple\", files, xhr, formData);\n      }\n      if (this.element.tagName === \"FORM\") {\n        _ref2 = this.element.querySelectorAll(\"input, textarea, select, button\");\n        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n          input = _ref2[_k];\n          inputName = input.getAttribute(\"name\");\n          inputType = input.getAttribute(\"type\");\n          if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n            _ref3 = input.options;\n            for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {\n              option = _ref3[_l];\n              if (option.selected) {\n                formData.append(inputName, option.value);\n              }\n            }\n          } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== \"checkbox\" && _ref4 !== \"radio\") || input.checked) {\n            formData.append(inputName, input.value);\n          }\n        }\n      }\n      for (i = _m = 0, _ref5 = files.length - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; i = 0 <= _ref5 ? ++_m : --_m) {\n        formData.append(this._getParamName(i), files[i], this._renameFilename(files[i].name));\n      }\n      return this.submitRequest(xhr, formData, files);\n    };\n\n    Dropzone.prototype.submitRequest = function(xhr, formData, files) {\n      return xhr.send(formData);\n    };\n\n    Dropzone.prototype._finished = function(files, responseText, e) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.SUCCESS;\n        this.emit(\"success\", file, responseText, e);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"successmultiple\", files, responseText, e);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    Dropzone.prototype._errorProcessing = function(files, message, xhr) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.ERROR;\n        this.emit(\"error\", file, message, xhr);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"errormultiple\", files, message, xhr);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    return Dropzone;\n\n  })(Emitter);\n\n  Dropzone.version = \"4.3.0\";\n\n  Dropzone.options = {};\n\n  Dropzone.optionsForElement = function(element) {\n    if (element.getAttribute(\"id\")) {\n      return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n    } else {\n      return void 0;\n    }\n  };\n\n  Dropzone.instances = [];\n\n  Dropzone.forElement = function(element) {\n    if (typeof element === \"string\") {\n      element = document.querySelector(element);\n    }\n    if ((element != null ? element.dropzone : void 0) == null) {\n      throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\n    }\n    return element.dropzone;\n  };\n\n  Dropzone.autoDiscover = true;\n\n  Dropzone.discover = function() {\n    var checkElements, dropzone, dropzones, _i, _len, _results;\n    if (document.querySelectorAll) {\n      dropzones = document.querySelectorAll(\".dropzone\");\n    } else {\n      dropzones = [];\n      checkElements = function(elements) {\n        var el, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )dropzone($| )/.test(el.className)) {\n            _results.push(dropzones.push(el));\n          } else {\n            _results.push(void 0);\n          }\n        }\n        return _results;\n      };\n      checkElements(document.getElementsByTagName(\"div\"));\n      checkElements(document.getElementsByTagName(\"form\"));\n    }\n    _results = [];\n    for (_i = 0, _len = dropzones.length; _i < _len; _i++) {\n      dropzone = dropzones[_i];\n      if (Dropzone.optionsForElement(dropzone) !== false) {\n        _results.push(new Dropzone(dropzone));\n      } else {\n        _results.push(void 0);\n      }\n    }\n    return _results;\n  };\n\n  Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\\/12/i];\n\n  Dropzone.isBrowserSupported = function() {\n    var capableBrowser, regex, _i, _len, _ref;\n    capableBrowser = true;\n    if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\n      if (!(\"classList\" in document.createElement(\"a\"))) {\n        capableBrowser = false;\n      } else {\n        _ref = Dropzone.blacklistedBrowsers;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          regex = _ref[_i];\n          if (regex.test(navigator.userAgent)) {\n            capableBrowser = false;\n            continue;\n          }\n        }\n      }\n    } else {\n      capableBrowser = false;\n    }\n    return capableBrowser;\n  };\n\n  without = function(list, rejectedItem) {\n    var item, _i, _len, _results;\n    _results = [];\n    for (_i = 0, _len = list.length; _i < _len; _i++) {\n      item = list[_i];\n      if (item !== rejectedItem) {\n        _results.push(item);\n      }\n    }\n    return _results;\n  };\n\n  camelize = function(str) {\n    return str.replace(/[\\-_](\\w)/g, function(match) {\n      return match.charAt(1).toUpperCase();\n    });\n  };\n\n  Dropzone.createElement = function(string) {\n    var div;\n    div = document.createElement(\"div\");\n    div.innerHTML = string;\n    return div.childNodes[0];\n  };\n\n  Dropzone.elementInside = function(element, container) {\n    if (element === container) {\n      return true;\n    }\n    while (element = element.parentNode) {\n      if (element === container) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  Dropzone.getElement = function(el, name) {\n    var element;\n    if (typeof el === \"string\") {\n      element = document.querySelector(el);\n    } else if (el.nodeType != null) {\n      element = el;\n    }\n    if (element == null) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector or a plain HTML element.\");\n    }\n    return element;\n  };\n\n  Dropzone.getElements = function(els, name) {\n    var e, el, elements, _i, _j, _len, _len1, _ref;\n    if (els instanceof Array) {\n      elements = [];\n      try {\n        for (_i = 0, _len = els.length; _i < _len; _i++) {\n          el = els[_i];\n          elements.push(this.getElement(el, name));\n        }\n      } catch (_error) {\n        e = _error;\n        elements = null;\n      }\n    } else if (typeof els === \"string\") {\n      elements = [];\n      _ref = document.querySelectorAll(els);\n      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n        el = _ref[_j];\n        elements.push(el);\n      }\n    } else if (els.nodeType != null) {\n      elements = [els];\n    }\n    if (!((elements != null) && elements.length)) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\");\n    }\n    return elements;\n  };\n\n  Dropzone.confirm = function(question, accepted, rejected) {\n    if (window.confirm(question)) {\n      return accepted();\n    } else if (rejected != null) {\n      return rejected();\n    }\n  };\n\n  Dropzone.isValidFile = function(file, acceptedFiles) {\n    var baseMimeType, mimeType, validType, _i, _len;\n    if (!acceptedFiles) {\n      return true;\n    }\n    acceptedFiles = acceptedFiles.split(\",\");\n    mimeType = file.type;\n    baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n    for (_i = 0, _len = acceptedFiles.length; _i < _len; _i++) {\n      validType = acceptedFiles[_i];\n      validType = validType.trim();\n      if (validType.charAt(0) === \".\") {\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n          return true;\n        }\n      } else if (/\\/\\*$/.test(validType)) {\n        if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n          return true;\n        }\n      } else {\n        if (mimeType === validType) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  if (typeof jQuery !== \"undefined\" && jQuery !== null) {\n    jQuery.fn.dropzone = function(options) {\n      return this.each(function() {\n        return new Dropzone(this, options);\n      });\n    };\n  }\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = Dropzone;\n  } else {\n    window.Dropzone = Dropzone;\n  }\n\n  Dropzone.ADDED = \"added\";\n\n  Dropzone.QUEUED = \"queued\";\n\n  Dropzone.ACCEPTED = Dropzone.QUEUED;\n\n  Dropzone.UPLOADING = \"uploading\";\n\n  Dropzone.PROCESSING = Dropzone.UPLOADING;\n\n  Dropzone.CANCELED = \"canceled\";\n\n  Dropzone.ERROR = \"error\";\n\n  Dropzone.SUCCESS = \"success\";\n\n\n  /*\n  \n  Bugfix for iOS 6 and 7\n  Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n  based on the work of https://github.com/stomita/ios-imagefile-megapixel\n   */\n\n  detectVerticalSquash = function(img) {\n    var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;\n    iw = img.naturalWidth;\n    ih = img.naturalHeight;\n    canvas = document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = ih;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(img, 0, 0);\n    data = ctx.getImageData(0, 0, 1, ih).data;\n    sy = 0;\n    ey = ih;\n    py = ih;\n    while (py > sy) {\n      alpha = data[(py - 1) * 4 + 3];\n      if (alpha === 0) {\n        ey = py;\n      } else {\n        sy = py;\n      }\n      py = (ey + sy) >> 1;\n    }\n    ratio = py / ih;\n    if (ratio === 0) {\n      return 1;\n    } else {\n      return ratio;\n    }\n  };\n\n  drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n    var vertSquashRatio;\n    vertSquashRatio = detectVerticalSquash(img);\n    return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n  };\n\n\n  /*\n   * contentloaded.js\n   *\n   * Author: Diego Perini (diego.perini at gmail.com)\n   * Summary: cross-browser wrapper for DOMContentLoaded\n   * Updated: 20101020\n   * License: MIT\n   * Version: 1.2\n   *\n   * URL:\n   * http://javascript.nwbox.com/ContentLoaded/\n   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n   */\n\n  contentLoaded = function(win, fn) {\n    var add, doc, done, init, poll, pre, rem, root, top;\n    done = false;\n    top = true;\n    doc = win.document;\n    root = doc.documentElement;\n    add = (doc.addEventListener ? \"addEventListener\" : \"attachEvent\");\n    rem = (doc.addEventListener ? \"removeEventListener\" : \"detachEvent\");\n    pre = (doc.addEventListener ? \"\" : \"on\");\n    init = function(e) {\n      if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n        return;\n      }\n      (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n      if (!done && (done = true)) {\n        return fn.call(win, e.type || e);\n      }\n    };\n    poll = function() {\n      var e;\n      try {\n        root.doScroll(\"left\");\n      } catch (_error) {\n        e = _error;\n        setTimeout(poll, 50);\n        return;\n      }\n      return init(\"poll\");\n    };\n    if (doc.readyState !== \"complete\") {\n      if (doc.createEventObject && root.doScroll) {\n        try {\n          top = !win.frameElement;\n        } catch (_error) {}\n        if (top) {\n          poll();\n        }\n      }\n      doc[add](pre + \"DOMContentLoaded\", init, false);\n      doc[add](pre + \"readystatechange\", init, false);\n      return win[add](pre + \"load\", init, false);\n    }\n  };\n\n  Dropzone._autoDiscoverFunction = function() {\n    if (Dropzone.autoDiscover) {\n      return Dropzone.discover();\n    }\n  };\n\n  contentLoaded(window, Dropzone._autoDiscoverFunction);\n\n}).call(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/dropzone/dist/dropzone.js\n ** module id = 33\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 34\n ** module chunks = 0\n **/","import i18n from 'i18n';\nimport React from 'react';\nimport constants from 'constants/index';\nimport SilverStripeComponent from 'lib/SilverStripeComponent';\n\nclass GalleryItem extends SilverStripeComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleToggleSelect = this.handleToggleSelect.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleActivate = this.handleActivate.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancelUpload = this.handleCancelUpload.bind(this);\n    this.preventFocus = this.preventFocus.bind(this);\n  }\n\n  /**\n   * Wrapper around this.props.handleActivate\n   *\n   * @param {Object} event - Event object.\n   */\n  handleActivate(event) {\n    event.stopPropagation();\n    this.props.handleActivate(event, this.props.item);\n  }\n\n  /**\n   * Wrapper around this.props.handleToggleSelect\n   *\n   * @param {Object} event Event object.\n   */\n  handleToggleSelect(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.props.handleToggleSelect(event, this.props.item);\n  }\n\n  /**\n   * Wrapper around this.props.handleDelete\n   *\n   * @param {Object} event Event object.\n   */\n  handleDelete(event) {\n    this.props.handleDelete(event, this.props.item);\n  }\n\n  /**\n   * Gets props for thumbnail\n   *\n   * @returns {Object}\n   */\n  getThumbnailStyles() {\n    if (this.isImage() && (this.exists() || this.uploading())) {\n      return {\n        backgroundImage: `url(${this.props.item.url})`,\n      };\n    }\n\n    return {};\n  }\n\n  /**\n   * Checks if the component has an error set.\n   *\n   * @return {boolean}\n   */\n  hasError() {\n    let hasError = false;\n\n    if (Array.isArray(this.props.messages)) {\n      hasError = this.props.messages\n        .filter(message => message.type === 'error')\n        .length > 0;\n    }\n\n    return hasError;\n  }\n\n  /**\n   * Returns markup for an error message if one is set.\n   *\n   * @returns {Object}\n   */\n  getErrorMessage() {\n    if (this.hasError()) {\n      return (\n        <span className=\"gallery-item__error-message\">\n          {this.props.messages[0].value}\n        </span>\n      );\n    }\n\n    return null;\n  }\n\n  /**\n   * Retrieve list of thumbnail classes\n   *\n   * @returns {string}\n   */\n  getThumbnailClassNames() {\n    const thumbnailClassNames = ['gallery-item__thumbnail'];\n\n    if (this.isImageSmallerThanThumbnail()) {\n      thumbnailClassNames.push('gallery-item__thumbnail--small');\n    }\n\n    return thumbnailClassNames.join(' ');\n  }\n\n  /**\n   * Retrieves class names for the item\n   *\n   * @returns {string}\n   */\n  getItemClassNames() {\n    const itemClassNames = [`gallery-item gallery-item--${this.props.item.category}`];\n\n    if (!this.exists() && !this.uploading()) {\n      itemClassNames.push('gallery-item--error');\n    }\n\n    if (this.props.selected) {\n      itemClassNames.push('gallery-item--selected');\n    }\n\n    if (this.props.highlighted) {\n      itemClassNames.push('gallery-item--highlighted');\n    }\n\n    if (this.hasError()) {\n      itemClassNames.push('gallery-item--error');\n    }\n\n    return itemClassNames.join(' ');\n  }\n\n  /**\n   * Determine if this is an image type\n   *\n   * @returns {boolean}\n   */\n  isImage() {\n    return this.props.item.category === 'image';\n  }\n\n  /**\n   * Validate that the file backing this record is not missing\n   *\n   * @returns {boolean}\n   */\n  exists() {\n    return this.props.item.exists;\n  }\n\n  uploading() {\n    return this.props.uploading;\n  }\n\n  /**\n   * Determine that this record is an image, and the thumbnail is smaller than the given thumbnail area\n   *\n   * @returns {boolean}\n   */\n  isImageSmallerThanThumbnail() {\n    if (!this.isImage() || (!this.exists() && !this.uploading())) {\n      return false;\n    }\n    const dimensions = this.props.item.dimensions;\n\n    // Note: dimensions will be null if the back-end image is lost\n    return (\n      dimensions\n      && dimensions.height < constants.THUMBNAIL_HEIGHT\n      && dimensions.width < constants.THUMBNAIL_WIDTH\n    );\n  }\n\n  /**\n   * @param {Object} event\n   */\n  handleKeyDown(event) {\n    event.stopPropagation();\n\n    // If space is pressed, select file\n    if (constants.SPACE_KEY_CODE === event.keyCode) {\n      event.preventDefault(); // Stop page scrolling if spaceKey is pressed\n      this.handleToggleSelect(event);\n    }\n\n    // If return is pressed, navigate folder\n    if (constants.RETURN_KEY_CODE === event.keyCode) {\n      this.handleActivate(event);\n    }\n  }\n\n  /**\n   * Avoids the browser's default focus state when selecting an item.\n   *\n   * @param {Object} event Event object.\n   */\n  preventFocus(event) {\n    event.preventDefault();\n  }\n\n  handleCancelUpload(event) {\n    event.stopPropagation();\n\n    if (this.hasError()) {\n      this.props.handleRemoveErroredUpload(this.props.item);\n    } else {\n      this.props.handleCancelUpload(this.props.item);\n    }\n  }\n\n  /**\n   * Gets upload progress bar\n   *\n   * @returns {Object}\n   */\n  getProgressBar() {\n    let progressBar = null;\n\n    const progressBarProps = {\n      className: 'gallery-item__progress-bar',\n      style: {\n        width: `${this.props.item.progress}%`,\n      },\n    };\n\n    if (!this.hasError() && this.uploading()) {\n      progressBar = (\n        <div className=\"gallery-item__upload-progress\">\n          <div {...progressBarProps}></div>\n        </div>\n      );\n    }\n\n    return progressBar;\n  }\n\n  render() {\n    let actionInputCheckbox = null;\n    let overlay = null;\n\n    if (this.uploading()) {\n      actionInputCheckbox = (<label\n        className=\"gallery-item__checkbox-label font-icon-cancel\"\n        onClick={this.handleCancelUpload}\n      >\n      <input\n        className=\"gallery-item__checkbox\"\n        type=\"checkbox\"\n        title={i18n._t('AssetAdmin.SELECT')}\n        tabIndex=\"-1\"\n        onMouseDown={this.preventFocus}\n        data-dz-remove\n      /></label>);\n    } else {\n      actionInputCheckbox = (<label\n        className=\"gallery-item__checkbox-label font-icon-tick\"\n        onClick={this.handleToggleSelect}\n      >\n      <input\n        className=\"gallery-item__checkbox\"\n        type=\"checkbox\"\n        title={i18n._t('AssetAdmin.SELECT')}\n        tabIndex=\"-1\"\n        onMouseDown={this.preventFocus}\n      /></label>);\n\n      overlay = <div className=\"gallery-item--overlay font-icon-edit\">View</div>;\n    }\n\n    return (\n      <div\n        className={this.getItemClassNames()}\n        data-id={this.props.item.id}\n        tabIndex=\"0\"\n        onKeyDown={this.handleKeyDown}\n        onClick={this.handleActivate}\n      >\n        <div\n          ref=\"thumbnail\"\n          className={this.getThumbnailClassNames()}\n          style={this.getThumbnailStyles()}\n        >\n          {overlay}\n        </div>\n        {this.getProgressBar()}\n        {this.getErrorMessage()}\n        <div className=\"gallery-item__title\" ref=\"title\">\n          {actionInputCheckbox}\n          {this.props.item.title}\n        </div>\n      </div>\n    );\n  }\n}\n\nGalleryItem.propTypes = {\n  item: React.PropTypes.shape({\n    dimensions: React.PropTypes.shape({\n      width: React.PropTypes.number,\n      height: React.PropTypes.number,\n    }),\n    category: React.PropTypes.string.isRequired,\n    id: React.PropTypes.number.isRequired,\n    url: React.PropTypes.string,\n    title: React.PropTypes.string.isRequired,\n    progress: React.PropTypes.number,\n  }),\n  // Can be used to highlight a currently edited file\n  highlighted: React.PropTypes.bool,\n  // Styles according to the checkbox selection state\n  selected: React.PropTypes.bool.isRequired,\n  handleActivate: React.PropTypes.func.isRequired,\n  handleToggleSelect: React.PropTypes.func.isRequired,\n  handleDelete: React.PropTypes.func.isRequired,\n  messages: React.PropTypes.array,\n  uploading: React.PropTypes.bool,\n};\n\nexport default GalleryItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/components/GalleryItem/GalleryItem.js\n **/","import $ from 'jQuery';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport SilverStripeComponent from 'lib/SilverStripeComponent';\nimport ReactTestUtils from 'react-addons-test-utils';\nimport { connect } from 'react-redux';\n\nexport class BulkActions extends SilverStripeComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.onChangeValue = this.onChangeValue.bind(this);\n  }\n\n  componentDidMount() {\n    const $select = $(ReactDOM.findDOMNode(this)).find('.dropdown');\n\n    $select.chosen({\n      allow_single_deselect: true,\n      disable_search_threshold: 20,\n    });\n\n    // Chosen stops the change event from reaching React so we have to simulate a click.\n    $select.change(() => ReactTestUtils.Simulate.click($select.find(':selected')[0]));\n  }\n\n  render() {\n    // eslint-disable-next-line arrow-body-style\n    const children = this.props.actions.map((action, i) => {\n      const canApply = (\n        // At least one item is selected\n        this.props.items.length &&\n        // ... and the action applies to all of the selected items\n        (!action.canApply || action.canApply(this.props.items))\n      );\n      if (!canApply) {\n        return '';\n      }\n\n      const className = [\n        'bulk-actions_action',\n        'ss-ui-button',\n        'ui-corner-all',\n        action.className || 'font-icon-info-circled',\n      ].join(' ');\n      return (<button\n        type=\"button\"\n        className={className}\n        key={i}\n        onClick={this.onChangeValue}\n        value={action.value}\n      >\n        {action.label}\n      </button>);\n    });\n\n    return (\n      <div className=\"bulk-actions fieldholder-small\">\n        <div className=\"bulk-actions-counter\">{this.props.items.length}</div>\n        {children}\n      </div>\n    );\n  }\n\n  /**\n   * @param {String} value\n   * @returns {Object} One of props.actions.\n   */\n  getOptionByValue(value) {\n    return this.props.actions.find(action => action.value === value);\n  }\n\n  /**\n   * @param {Event} event\n   * @returns {Promise|null}\n   */\n  onChangeValue(event) {\n    let promise = null;\n\n    // Make sure a valid option has been selected.\n    const option = this.getOptionByValue(event.target.value);\n    if (option === null) {\n      return null;\n    }\n\n    // Optionally execute confirmation logic (can be async)\n    // This is kept separate from \"callback\" in order to support\n    // progress indicators on this component just for actual bulk processing\n    // (instead of just waiting for user feedback in a dialog etc.)\n    if (typeof option.confirm === 'function') {\n      promise = option.confirm(this.props.items)\n        .then(() => option.callback(this.props.items));\n    } else {\n      promise = option.callback(this.props.items) || Promise.resolve();\n    }\n\n    // Reset the dropdown to it's placeholder value.\n    $(ReactDOM.findDOMNode(this)).find('.dropdown').val('').trigger('liszt:updated');\n\n    return promise;\n  }\n}\n\nBulkActions.propTypes = {\n  items: React.PropTypes.array,\n  actions: React.PropTypes.arrayOf(React.PropTypes.shape({\n    value: React.PropTypes.string.isRequired,\n    label: React.PropTypes.string.isRequired,\n    className: React.PropTypes.string,\n    destructive: React.PropTypes.bool,\n    callback: React.PropTypes.func,\n    canApply: React.PropTypes.func,\n    confirm: React.PropTypes.func,\n  })),\n};\n\nfunction mapStateToProps(state) {\n  return {\n    gallery: state.assetAdmin.gallery,\n  };\n}\n\nexport default connect(mapStateToProps)(BulkActions);\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/components/BulkActions/BulkActions.js\n **/","import ACTION_TYPES from './QueuedFilesActionTypes';\n\n/**\n * Adds a file which has not been persisted to the server yet.\n *\n * @param object file - File interface. See https://developer.mozilla.org/en-US/docs/Web/API/File\n */\nexport function addQueuedFile(file) {\n  return (dispatch) =>\n    dispatch({\n      type: ACTION_TYPES.ADD_QUEUED_FILE,\n      payload: { file },\n    });\n}\n\n/**\n * Updates a queued file if it fails to upload.\n *\n * @param number queuedAtTime - Timestamp (Date.now()) when the file was queued.\n */\nexport function failUpload(queuedAtTime) {\n  return (dispatch) =>\n    dispatch({\n      type: ACTION_TYPES.FAIL_UPLOAD,\n      payload: { queuedAtTime },\n    });\n}\n\n/**\n * Purges the upload queue.\n *   - Failed uploads are removed.\n *   - Successful uploads are removed.\n *   - Pending uploads are ignored.\n */\nexport function purgeUploadQueue() {\n  return (dispatch) =>\n    dispatch({\n      type: ACTION_TYPES.PURGE_UPLOAD_QUEUE,\n      payload: null,\n    });\n}\n\n/**\n * Removes a file from the queue.\n *\n * @param number queuedAtTime - Timestamp (Date.now()) when the file was queued.\n */\nexport function removeQueuedFile(queuedAtTime) {\n  return (dispatch) =>\n    dispatch({\n      type: ACTION_TYPES.REMOVE_QUEUED_FILE,\n      payload: { queuedAtTime },\n    });\n}\n\n/**\n * Updates a queued file when it successfully uploads.\n *\n * @param number queuedAtTime - Timestamp (Date.now()) when the file was queued.\n */\nexport function succeedUpload(queuedAtTime) {\n  return (dispatch) =>\n    dispatch({\n      type: ACTION_TYPES.SUCCEED_UPLOAD,\n      payload: { queuedAtTime },\n    });\n}\n\n/**\n * Override the values of a currently queued file.\n *\n * @param number queuedAtTime - Timestamp (Date.now()) when the file was queued.\n * @param object updates - The values to update.\n */\nexport function updateQueuedFile(queuedAtTime, updates) {\n  return (dispatch) =>\n    dispatch({\n      type: ACTION_TYPES.UPDATE_QUEUED_FILE,\n      payload: { queuedAtTime, updates },\n    });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/src/state/queuedFiles/QueuedFilesActions.js\n **/","module.exports = Breadcrumb;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Breadcrumb\"\n ** module id = 38\n ** module chunks = 0\n **/","module.exports = Toolbar;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Toolbar\"\n ** module id = 39\n ** module chunks = 0\n **/"],"sourceRoot":""}